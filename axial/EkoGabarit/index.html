<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
        <script type="text/javascript" src="js/ckeditor/ckeditor.js"></script>
        <script type="text/javascript" src="js/ckeditor/adapters/jquery.js"></script>
        <link href="gabarit.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript">
            //<![CDATA[

            var htmlString;
            $(function() {
                var config = {
                    ZZtoolbar:
                        [
                        ['Bold', 'Italic', '-', 'NumberedList', 'BulletedList', '-', 'Link', 'Unlink'],
                        ['UIColor']
                    ]
                };

                // Initialize the editor.
                // Callback function can be passed and executed after full instance creation.
                $('.jquery_ckeditor').ckeditor(config);
                $('#setBtn').click(function(){
                    //$( '.jquery_ckeditor' ).val( 'my new content '+new Date() );
                    $.ajax({
                        url: 'gabarit1.html',
                        //data: data,
                        dataType: 'html', // html,xml,json,jsonp
                        async: false,
                        success: function(data) {
                            htmlString = data;
                            $( '.jquery_ckeditor' ).val( htmlString );
                            $( '#preview' ).html( htmlString );
                        }
                    });
                });
                $('#replaceBtn').click(function(){
                    $( '#preview' ).find('ekko-placeholder').each(function(index){
                        var aType = $(this).attr('type');
                        var anId = $(this).attr('id');
                        var aName = $(this).attr('name');
                        $(this).text('['+aType+':'+anId+':'+aName+']');
                    });
                });
            });
            //]]>
        </script>

    </head>
    <body>
        <h1>
            CKEditor Sample
        </h1>
        <!-- This <div> holds alert messages to be display in the sample page. -->
        <div><a id="setBtn" href="#">Set some content</a></div>
        <div><a id="replaceBtn"href="#">Replace tags</a></div>
        <div id="alerts">
            <noscript>
                <p>
                    <strong>CKEditor requires JavaScript to run</strong>. In a browser with no JavaScript
                    support, like yours, you should still see the contents (HTML data) and you should
                    be able to edit it normally, without a rich editor interface.
                </p>
            </noscript>
        </div>
        <!-- This <fieldset> holds the HTML that you will usually find in your
         pages. -->
        <p>
            <label for="editor1">
            Editor 1:</label><br />

            <textarea class="jquery_ckeditor" cols="80" id="editor1" name="editor1" rows="10">&lt;p&gt;This is some &lt;strong&gt;sample text&lt;/strong&gt;. You are using &lt;a href="http://ckeditor.com/"&gt;CKEditor&lt;/a&gt;.&lt;/p&gt;</textarea>
        </p>

        <div id="preview"></div>
    </body>
</html>
