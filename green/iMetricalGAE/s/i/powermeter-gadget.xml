<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="MiraMeter"><!--  __MSG_gadget_title__ -->
    <Require feature="minimessage"/>
    <Require feature="dynamic-height"/>
    <Require feature="views"/>
    <Require feature="setprefs"/>
    <Require feature="settitle"/>
    <Require feature="locked-domain"/>
    <OAuth>
      <Service name="google">
        <Access url="https://www.google.com/accounts/OAuthGetAccessToken" method="GET"/>
        <Request url="https://www.google.com/accounts/OAuthGetRequestToken?scope=http://www.google.com/powermeter/gadget/" method="GET"/>
        <Authorization url="https://www.google.com/accounts/OAuthAuthorizeToken"/>
      </Service>
    </OAuth>

<!-- Use the English message bundle as the default -->
<Locale messages="http://www.google.com/powermeter/static/gadget_messages_en.xml"/>

<!-- Translated bundles come from TC with names like gadget_messages_XX.xml -->
<Locale lang="de" messages="http://www.google.com/powermeter/static/gadget_messages_de.xml"/>

  </ModulePrefs>
  <UserPref name="_costPerKwh" datatype="string" default_value="0" display_name="__MSG_settings_cost_per_kwh__"/>
  <UserPref name="_currency" datatype="enum" default_value="default" display_name="__MSG_settings_currency__">
    <EnumValue value="default" display_value="__MSG_settings_language_default__"/>
    <EnumValue value="$" display_value="__MSG_settings_currency_usd__"/>
    <EnumValue value="€" display_value="__MSG_settings_currency_eur__"/>
    <EnumValue value="₤" display_value="__MSG_settings_currency_gbp__"/>
  </UserPref>
  <UserPref name="_weekStart" datatype="enum" default_value="default" display_name="__MSG_settings_week_start__">
    <EnumValue value="default" display_value="__MSG_settings_language_default__"/>
    <EnumValue value="0" display_value="__MSG_weekday_0_long__"/>
    <EnumValue value="1" display_value="__MSG_weekday_1_long__"/>
  </UserPref>
  <UserPref name="_budgetMode" datatype="enum" default_value="expected" display_name="__MSG_settings_budget__">
    <EnumValue value="off" display_value="__MSG_settings_budget_off__"/>
    <EnumValue value="expected" display_value="__MSG_settings_budget_expected__"/>
    <EnumValue value="-10" display_value="__MSG_settings_budget_reduce_10__"/>
    <EnumValue value="-20" display_value="__MSG_settings_budget_reduce_20__"/>
  </UserPref>
  <UserPref name="_targetUser" display_name="Customer PID:" datatype="hidden"/>
  <UserPref name="_selectedView" datatype="hidden"/>
  <UserPref name="_selectedVariable" datatype="hidden"/>

  <Content type="html" view="default, canvas">
    <![CDATA[
    <script src="http://www.google-analytics.com/ga.js" type="text/javascript"></script>
    <div id="PM__MODULE_ID__"></div>
    <div id="status"></div>
    <div id="report_container">
      <div id="report" style="display:none">
        <div id="error_message"></div>
        <form id="report_form" method="post" target="report_reply"
            action="http://www.google.com/powermeter/report">
          <div id="report_log"></div>
          <span class="nowrap">
            <iframe id="report_reply" name="report_reply" style="display:none"></iframe>
          </span>
        </form>
      </div>
    </div>
    <div id="mini_container" style="display:none">
      <div id="mini_message_container"></div>
      <div id="mini_display_header" style="display:none">
        <div id="mini_title" class="header"></div>
        <div id="mini_menu" class="link_menu">
          <div id="userMenu" style="display:none"></div>
          <ul>
            <li><a href="#" id="day_bar" class="tabUnselect" onclick="return false">__MSG_menu_day__</a></li>
            <li><a href="#" id="week_bar" class="tabUnselect" onclick="return false">__MSG_menu_week_bar__</a></li>
            <li><a href="#" id="month_bar" class="tabUnselect" onclick="return false">__MSG_menu_month__</a></li>
          </ul>
        </div>
        <div id="mini_control" class="link_menu" style="display:none">
          <ul>
            <li><a href="#" id="prev_link" class="tabUnselect" onclick="return false">__MSG_flip_previous_label_short__</a></li>
            <li><a href="#" id="next_link" class="tabUnselect" onclick="return false">__MSG_flip_next_label_short__</a></li>
            <li><a href="#" id="latest_link" class="tabUnselect" onclick="return false">__MSG_flip_latest_label_short__</a></li>
          </ul>
        </div>
      </div>
      <div id="mini_display_content">
        <div id="mini_chart">
          <img id="mini_chart_image"
               src="http://www.google.com/ig/images/cleardot.gif">
        </div>
        <table id="control_table" cellpadding="0" style="display:none">
          <tr>
              <td id="control_prev_box">
                <div id="prev_button"></div>
                <div id="prev_button_label"></div>
              </td>
              <td id="control_next_box">
                <div id="now_button"></div>
                <div id="next_button"></div>
                <div id="next_button_label"></div>
              </td>
            </tr>
        </table>
        <div id="mini_display_stats" style="display:none;">
          <table id="stats_table" width="100%">
            <tr>
              <td id="prev_col" width="50%">
                <div id="prev_area">
                  <div id="prev_title"></div>
                  <div id="prev_ticker">
                    <span id="prev_usage"></span>
                    <div id="prev_cost_container">
                      <span id="prev_cost"></span>
                      <span id="prev_cost_help" class="help_icon"></span>
                    </div>
                  </div>
                  <div>
                    <div class="always_icon_prev"></div>
                    <span>__MSG_baseload_name__</span>
                    <span id="always_prev"></span>
                  </div>
                </div>
              </td>
              <td id="curr_col" width="50%">
                <div id="curr_area">
                  <div id="curr_title"></div>
                  <div id="curr_ticker">
                    <span id="curr_usage"></span>
                    <div id="curr_cost_container">
                      <span id="curr_cost"></span>
                      <span id="curr_cost_help" class="help_icon"></span>
                    </div>
                  </div>
                  <div>
                    <div class="always_icon_curr"></div>
                    <span>__MSG_baseload_name__</span>
                    <span id="always_curr"></span>
                  </div>
                </div>                
              </td>
            </tr><tr>
              <td colspan="2">
                <div id="stats_footer">
                </div>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div id="mini_display_rating" style="display: none">
        <div id="rating_header_title" class="header">__MSG_rating_header__</div>
        <div id="rating_chart">
          <img id="rating_chart_image"
               src="http://www.google.com/ig/images/cleardot.gif">
        </div>
      </div>
      <div id="mini_display_budget" style="display: none">
        <div id="budget_header_title" class="header">__MSG_budget_header__</div>
        <div id="budget_message_container">
          <span id="budget_message"></span>
          <span id="budget_help" class="help_icon"></span>
        </div>
        <div id="budget_chart">
          <img id="budget_chart_image"
               src="http://www.google.com/ig/images/cleardot.gif">
        </div>
      </div>
      <table id="mini_display_footer" width="100%" cellpadding=0 cellspacing=0>
        <tr>
          <td class="link_menu">
            <ul>
	      <li><a href="#" id="settings_link" style="display:none;" target="_blank">__MSG_settings_txt__</a>
              <li><a href="#" id="discuss_link" style="display:none;" target="_blank">__MSG_discuss_txt__</a>
              <li><a href="#" id="help_link" target="_blank">__MSG_help_txt__</a>
            </ul>
          </td>
          <td id="mini_display_logo">
            <a href="#" target="_blank" id="mini_logo_link"
              ><img id="mini_logo_image"
                    src="http://www.google.com/ig/images/cleardot.gif">
            </a>
          </td>
        </tr>
      </table>
    </div>
    <style type="text/css">
.body{font-family:helvetica,arial}#mini_display_header{margin-left:10px}#mini_display_content{margin-bottom:2px;font-size:13px;font-weight:bold}#mini_display_footer{font-size:11px;font-family:inherit;padding-left:10px}#mini_display_footer tr{vertical-align:bottom}#mini_chart{cursor:pointer}.header{font-size:13px;font-weight:bold;margin-bottom:5px}#rating_header_title{margin-left:10px}#mini_display_rating{border-top:1px solid #e8e8e8;padding-top:9px;padding-bottom:9px}#mini_display_logo{width:64px;height:32px;overflow:hidden;text-align:right}#mini_display_logo img{border:none;vertical-align:bottom}#mini_menu{font-size:11px;float:left}.link_menu{margin-bottom:4px}.link_menu ul{display:inline;margin-left:0;padding-left:0}.link_menu ul li{display:inline;margin-left:0}.link_menu ul li a{font-size:11px;padding-right:5px}.help_icon{opacity:.5;background-image:url("http://www.google.com/powermeter/static/images/minigadget-sprite.gif");background-repeat:no-repeat;background-position:-1px -161px;width:13px;height:13px;cursor:pointer;display:inline-block;margin-bottom:-2px}.help_icon:hover{opacity:1}div.tooltip{color:#000;background:#ffffca;border:1px solid #cacaca;padding:4px;margin-bottom:1px;font-size:11px;max-width:20em}#userMenu{padding-right:5px;padding-bottom:3px;font-size:11px}.link_menu .tabDisabled{color:#ccc;text-decoration:none;cursor:default}.link_menu tabUnselect{text-decoration:underline;color:#00c;cursor:pointer}.link_menu .tabSelect{text-decoration:none;color:#000;cursor:default;font-weight:bold}.mmlib_table{padding:3px;margin-bottom:4px}.provider_mm{font-weight:normal;font-size:11px}.provider_mm .author{font-weight:normal;color:#888}.provider_mm .link,.provider_mm .link a{color:#888}.provider_mm .link a{text-decoration:underline}.hidden{display:none}.show{display:block}#status{position:absolute;background-position:center center;background-repeat:no-repeat;font-family:helvetica,arial;font-size:11px}.loading{display:block;background-image:url("http://www.google.com/powermeter/static/images/ld.gif");background-color:transparent;left:0;width:100%;top:20%;height:14px}.loading_status{text-align:center;background-color:#249;color:#fff;display:block;padding:2px;right:0}#mini_control{font-size:11px;color:#00f;cursor:pointer;margin-right:10px;margin-bottom:4px;float:right}#control_table{font-size:10px;color:#6584A3;margin-top:0;padding-top:0;border-spacing:0;border-collapse:collapse;margin-left:10px;margin-right:20px;background-color:#ebeff9}#control_prev_box{vertical-align:top;height:25px;white-space:nowrap}#control_next_box{height:25px;float:right;vertical-align:top;white-space:nowrap}#prev_button{background-image:url("http://www.google.com/powermeter/static/images/minigadget-sprite.gif");background-repeat:no-repeat;background-position:0 0;width:21px;height:19px;cursor:pointer;float:left;margin-top:3px}#prev_button:hover{background-position:0 -20px}#prev_button:active{background-position:-0 -40px}#next_button{background-image:url("http://www.google.com/powermeter/static/images/minigadget-sprite.gif");background-repeat:no-repeat;background-position:-22px 0;width:21px;height:19px;cursor:pointer;margin-right:5px;float:right;margin-top:3px}#next_button:hover{background-position:-22px -20px}#next_button:active{background-position:-22px -40px}#now_button{background-image:url("http://www.google.com/powermeter/static/images/minigadget-sprite.gif");background-repeat:no-repeat;background-position:-22px -80px;width:21px;height:19px;cursor:pointer;float:right;margin-top:3px}#now_button:hover{background-position:-22px -100px}#now_button:active{background-position:-22px -120px}#next_button_label{color:#6584A3;float:right;margin-right:5px;margin-top:7px;max-width:100px;cursor:pointer}#prev_button_label{margin-left:25px;color:#6584A3;margin-top:7px;max-width:100px;cursor:pointer}.question{background-image:url("http://www.google.com/powermeter/static/images/minigadget-sprite.gif");background-repeat:no-repeat;border:0 solid #000;width:14px;height:14px;background-position:-9px -13px;cursor:pointer}#report_container{position:absolute;top:50px;width:100%}#report{color:#500;border:1px solid #a66;background:#fcc;margin:0 2em;padding:.5em;font-family:arial,helvetica;font-size:11px}#report form{margin:0;padding:0}#error_message{font-weight:bold;margin-bottom:1em}#report_reply{width:60px;height:16px;border:none;position:relative;top:3px}.nowrap{white-space:nowrap}.nav_title{padding:0 10px 0 2px}.clear{clear:both;line-height:0}.fl{padding:0 3px}#canvas_display_chart{margin-top:4px}#c1{width:600px}#c_nav_title{padding-left:8px}#c_footer{margin-top:4px;font-size:12px}#c_header td{font-size:12px}.chartclient-annotation-sel{background-color:#e0efe0 !important}.chartclient-annotation-date{color:#888}.chartclient-annotation-letter{border:1px solid #afafaf !important;color:#30C030 !important}.chartclient-annotation-content{display:block !important}.chartclient-annotation-sel .chartclient-annotation-letter{border:1px solid #afafaf !important}html>body .goog-inline-block{display:-moz-inline-box;display:inline-block}.goog-inline-block{position:relative;display:inline-block}* html .goog-inline-block{display:inline}*:first-child+html .goog-inline-block{display:inline}.goog-menu{position:absolute;color:#000;border:1px solid #b5b6b5;background-color:#f3f3f7;cursor:default;font:normal small arial,helvetica,sans-serif;margin:0;padding:0;outline:none}.goog-menuitem{font-size:.9em;padding:2px 1.5em 2px 5px;margin:0;list-style:none;white-space:nowrap}.goog-menuitem-rtl{padding:2px 5px 2px 1.5em}.goog-menuitem-highlight{background-color:#d6e9f8}.goog-menuitem-disabled{color:#999}.goog-menuitem-checkbox{float:left;width:10px;height:1.1em}.goog-option-selected .goog-menuitem-checkbox{background-image:url(http://www.google.com/powermeter/static/images/check.gif);background-position:left center;background-repeat:no-repeat}.goog-menuseparator{position:relative;margin:2px 0;border-top:1px solid #999;padding:0;outline:none}.goog-submenu-arrow{text-align:right;position:absolute;right:0;left:auto}.goog-menuitem-rtl .goog-submenu-arrow{text-align:left;position:absolute;left:0;right:auto}.goog-menuitem-disabled .goog-submenu-arrow{display:none}.goog-menu-filter{margin:2px;border:1px solid silver;background:#fff;overflow:hidden}.goog-menu-filter div{color:gray;position:absolute;padding:1px}.goog-menu-filter input{margin:0;border:0;background:transparent;width:100%}.goog-filterobsmenuitem{padding:2px 5px;margin:0;list-style:none}.goog-filterobsmenuitem-highlight{background-color:#d6e9f8;color:#fff}.goog-filterobsmenuitem-disabled{color:#999}.goog-menu-button{margin:2px;border:0;padding:0;font-family:normal Tahoma,Arial,sans-serif;color:#000;background:#ddd url("http://www.google.com/powermeter/static/images/button-bg.gif") repeat-x top left;text-decoration:none;list-style:none;vertical-align:middle;cursor:pointer;outline:none}.goog-menu-button-outer-box,.goog-menu-button-inner-box{border-style:solid;border-color:#aaa;vertical-align:top}.goog-menu-button-outer-box{margin:0;border-width:1px 0;padding:0}.goog-menu-button-inner-box{margin:0 -1px;border-width:0 1px;padding:2px 2px}* html .goog-menu-button-inner-box{left:-1px}* html .goog-menu-button-rtl .goog-menu-button-outer-box{left:-1px}* html .goog-menu-button-rtl .goog-menu-button-inner-box{left:0}*:first-child+html .goog-menu-button-inner-box{left:-1px}*:first-child+html .goog-menu-button-rtl .goog-menu-button-inner-box{left:1px}::root .goog-menu-button,::root .goog-menu-button-outer-box,::root .goog-menu-button-inner-box{line-height:0}::root .goog-menu-button-caption,::root .goog-menu-button-dropdown{line-height:normal}.goog-menu-button-disabled{background-image:none !important;opacity:.4;-moz-opacity:.4;filter:alpha(opacity=40)}.goog-menu-button-disabled .goog-menu-button-outer-box,.goog-menu-button-disabled .goog-menu-button-inner-box,.goog-menu-button-disabled .goog-menu-button-caption,.goog-menu-button-disabled .goog-menu-button-dropdown{color:#333 !important;border-color:#999 !important}* html .goog-menu-button-disabled{margin:2px 1px !important;padding:0 1px !important}*:first-child+html .goog-menu-button-disabled{margin:2px 1px !important;padding:0 1px !important}.goog-menu-button-hover .goog-menu-button-outer-box,.goog-menu-button-hover .goog-menu-button-inner-box{border-color:#249 !important}.goog-menu-button-active,.goog-menu-button-open{background-color:#bbb;background-position:bottom left}.goog-menu-button-focused .goog-menu-button-outer-box,.goog-menu-button-focused .goog-menu-button-inner-box{border-color:#249}.goog-menu-button-caption{padding:0 4px 0 0;vertical-align:top}.goog-menu-button-rtl .goog-menu-button-caption{padding:0 0 0 4px}.goog-menu-button-dropdown{width:7px;background:url(http://www.google.com/powermeter/static/images/toolbar_icons.gif) no-repeat -176px;vertical-align:top}.goog-date-picker th{font:menu;text-align:center}.goog-date-picker td{font:menu;text-align:center;vertical-align:middle;border:1px solid white;border-width:0 1px 1px 0;padding:1px 3px}.goog-date-picker{-moz-user-focus:normal;-moz-user-select:none;position:absolute;border:1px solid black;float:left;font:menu;padding-left:1px;background:#fff}.goog-date-picker-menu{position:absolute;background:threedface;border:1px solid gray;-moz-user-focus:normal}.goog-date-picker-menu ul{list-style:none;margin:0;padding:0}.goog-date-picker-menu ul li{cursor:default}.goog-date-picker-menu-selected{background:#ccf}.goog-date-picker th{color:gray;font-size:.9em}.goog-date-picker td div{float:left}.goog-date-picker button{padding:0;margin:1px;border:1px solid gray}.goog-date-picker-week{padding:1px 3px}.goog-date-picker-wday{padding:1px 3px}.goog-date-picker-today-cont{text-align:left !important}.goog-date-picker-none-cont{text-align:right !important}.goog-date-picker-head td{text-align:center}.goog-date-picker-month{width:12ex}.goog-date-picker-year{width:6ex}.goog-date-picker table{border-collapse:collapse}.goog-date-picker-selected{background:#ccf !important;color:#00f !important}.goog-date-picker-today{font-weight:bold !important}.goog-date-picker-other-month{-moz-opacity:.3;filter:Alpha(Opacity=30)}.sat{background:#fcc}.sun{background:#fcc;color:red}#mini_display_stats{margin-top:5px;padding-left:10px;padding-right:20px}#stats_table td{font-size:11px;margin:0;padding:0;vertical-align:top;text-align:left}.high_score{color:green}.low_score{color:#e07000}td.prev_col,td.curr_col{padding-left:1px}.prev_icon,.curr_icon,.always_icon_prev,.always_icon_curr{float:left;width:7px;height:7px;margin:3px 3px 0 1px;font-size:0}.prev_icon{background-color:#c4ecc4}.curr_icon{background-color:#70d070}.always_icon_prev{background-color:#5A9F59}.always_icon_curr{background-color:#1D7F17}.stats_percentile{}.stats_average_usage{}.si{font-style:italic}#mini_display_budget{border-top:1px solid #e8e8e8;margin-top:0;padding-top:9px;padding-left:10px}#budget_message_container{font-size:11px;color:#000;margin-bottom:4px;padding-left:0}#budget_chart_image{margin-left:-20px}#budget_message em{font-style:normal;font-weight:normal;color:#000}
    </style>
    <script type="text/javascript">
(function (){ function d(a){throw a;}var i=true,j=null,k=false,l=gadgets,m=Error,n=undefined,aa=encodeURIComponent,ba=parseInt,ca=parseFloat,da=String,o=window,ea=Object,fa=document,ha=decodeURIComponent,ia=isNaN,q=Math;function ja(a,b){return a.toString=b}function ka(a,b){return a.length=b}function la(a,b){return a.className=b}function ma(a,b){return a.width=b}function na(a,b){return a.innerHTML=b}function oa(a,b){return a.currentTarget=b}function pa(a,b){return a.left=b}function qa(a,b){return a.target=b}
function ra(a,b){return a.keyCode=b}function sa(a,b){return a.type=b}function ta(a,b){return a.contains=b}function ua(a,b){return a.clear=b}function va(a,b){return a.display=b}function wa(a,b){return a.height=b}function xa(a,b){return a.visibility=b}
var ya="setDate",za="appendChild",Aa="scrollTop",s="push",Ba="toString",Ca="getMonth",t="length",Da="propertyIsEnumerable",Ea="getBoundingClientRect",v="prototype",Fa="getDay",Ga="views",Ha="relatedTarget",Ia="className",Ja="exec",x="width",Ka="clientWidth",La="round",Ma="slice",Na="setTimeout",z="replace",Oa="nodeType",Pa="document",Qa="toFixed",A="data",Sa="getSeconds",B="split",Ta="floor",Ua="offsetWidth",Va="concat",Wa="constructor",Xa="charAt",Ya="createTextNode",Za="stopPropagation",$a="getDate",
ab="value",bb="preventDefault",cb="insertBefore",C="getMsg",D="indexOf",db="hasOwnProperty",eb="dispatchEvent",F="style",fb="nodeName",gb="body",G="left",hb="getString",ib="removeChild",H="target",jb="screenX",kb="screenY",I="call",lb="match",mb="setSeconds",nb="getBoxObjectFor",ob="isOpen",pb="charCode",qb="opera",rb="remove",sb="focus",tb="createElement",J="keyCode",K="firstChild",ub="getFullYear",vb="forEach",wb="clientHeight",xb="scrollLeft",yb="clientLeft",zb="bottom",Ab="setAttribute",Bb="substring",
Cb="clientTop",Db="handleEvent",Eb="console",Fb="detach",Gb="every",L="type",Hb="contains",Ib="apply",Jb="clear",Kb="childNodes",Lb="tagName",Mb="setHours",Nb="setMinutes",Ob="defaultView",Pb="getUTCHours",Qb="name",Rb="parentNode",Sb="getHours",Tb="getMinutes",Ub="fileName",Vb="nextSibling",M="height",Wb="splice",N="getTime",Xb="offsetHeight",O="join",Yb="setActive",Zb="nodeValue",$b="toLowerCase",ac="clientX",bc="clientY",cc="documentElement",dc="right",ec="getTimezoneOffset",P,fc=this,gc=".",hc=
function(a,b){a=a[B](gc);b=b||fc;for(var c;c=a.shift();)if(b[c])b=b[c];else return j;return b},ic=function(){},jc=function(a){a.getInstance=function(){return a.instance_||(a.instance_=new a)}},lc="object",mc="[object Array]",nc="number",oc="splice",pc="array",qc="[object Function]",rc="call",Q="function",sc="null",tc=function(a){var b=typeof a;if(b==lc)if(a){if(a instanceof Array||!(a instanceof ea)&&ea[v][Ba][I](a)==mc||typeof a[t]==nc&&typeof a[Wb]!="undefined"&&typeof a[Da]!="undefined"&&!a[Da](oc))return pc;
if(!(a instanceof ea)&&(ea[v][Ba][I](a)==qc||typeof a[I]!="undefined"&&typeof a[Da]!="undefined"&&!a[Da](rc)))return Q}else return sc;else if(b==Q&&typeof a[I]=="undefined")return lc;return b},uc=function(a){return tc(a)==pc},vc=function(a){var b=tc(a);return b==pc||b==lc&&typeof a[t]==nc},wc="string",xc=function(a){return typeof a==wc},yc=function(a){return typeof a==nc},zc=function(a){return tc(a)==Q},Ac=function(a){a=tc(a);return a==lc||a==pc||a==Q},Dc=function(a){if(a[db]&&a[db](Bc))return a[Bc];
a[Bc]||(a[Bc]=++Cc);return a[Bc]},Bc="closure_hashCode_"+q[Ta](q.random()*2147483648)[Ba](36),Cc=0,Ec=function(a){var b=tc(a);if(b==lc||b==pc){if(a.clone)return a.clone[I](a);b=b==pc?[]:{};for(var c in a)b[c]=Ec(a[c]);return b}return a},Fc=function(a,b){var c=b||fc;if(arguments[t]>2){var e=Array[v][Ma][I](arguments,2);return function(){var f=Array[v][Ma][I](arguments);Array[v].unshift[Ib](f,e);return a[Ib](c,f)}}else return function(){return a[Ib](c,arguments)}},Gc=function(a){var b=Array[v][Ma][I](arguments,
1);return function(){var c=Array[v][Ma][I](arguments);c.unshift[Ib](c,b);return a[Ib](this,c)}},Hc=Date.now||function(){return(new Date)[N]()},R=function(a,b){function c(){}c.prototype=b[v];a.superClass_=b[v];a.prototype=new c;a[v].constructor=a};Function[v].inherits=function(a){R(this,a)};var Ic=function(a,b,c){if(a[D])return a[D](b,c);if(Array[D])return Array[D](a,b,c);for(c=c==j?0:c<0?q.max(0,a[t]+c):c;c<a[t];c++)if(c in a&&a[c]===b)return c;return-1},S="",Jc=function(a,b,c){if(a[vb])a[vb](b,c);else if(Array[vb])Array[vb](a,b,c);else for(var e=a[t],f=xc(a)?a[B](S):a,g=0;g<e;g++)g in f&&b[I](c,f[g],g,a)},Kc=function(a,b,c){if(a.map)return a.map(b,c);if(Array.map)return Array.map(a,b,c);for(var e=a[t],f=[],g=0,h=xc(a)?a[B](S):a,p=0;p<e;p++)if(p in h)f[g++]=b[I](c,h[p],p,a);return f},
Mc=function(a,b){if(a[Hb])return a[Hb](b);return Ic(a,b)>-1},Nc=function(a,b){b=Ic(a,b);var c;if(c=b!=-1)Array[v][Wb][I](a,b,1)[t]==1;return c},Oc=function(a){if(uc(a))return a[Va]();else{for(var b=[],c=0,e=a[t];c<e;c++)b[c]=a[c];return b}},Pc=function(a){for(var b=1;b<arguments[t];b++){var c=arguments[b];if(vc(c)){c=c;c=uc(c)?c[Va]():Oc(c);a[s][Ib](a,c)}else a[s](c)}},Rc=function(a){return Array[v][Wb][Ib](a,Qc(arguments,1))},Qc=function(a,b,c){return arguments[t]<=2?Array[v][Ma][I](a,b):Array[v][Ma][I](a,
b,c)};var Sc=function(a){return a[z](/^[\s\xa0]+|[\s\xa0]+$/g,S)},Tc=/^[a-zA-Z0-9\-_.!~*'()]*$/,Uc=function(a){a=da(a);if(!Tc.test(a))return aa(a);return a},Vc="&amp;",Wc="&lt;",Xc="&gt;",Yc="&quot;",Zc="&",$c="<",ad=">",bd='"',hd=function(a,b){if(b)return a[z](cd,Vc)[z](dd,Wc)[z](ed,Xc)[z](fd,Yc);else{if(!gd.test(a))return a;if(a[D](Zc)!=-1)a=a[z](cd,Vc);if(a[D]($c)!=-1)a=a[z](dd,Wc);if(a[D](ad)!=-1)a=a[z](ed,Xc);if(a[D](bd)!=-1)a=a[z](fd,Yc);return a}},cd=/&/g,dd=/</g,ed=/>/g,fd=/\"/g,gd=/[&<>\"]/,id=
function(a,b){return a[D](b)!=-1},jd="0",T=function(a,b,c){a=c!==n?a[Qa](c):da(a);c=a[D](gc);if(c==-1)c=a[t];b=q.max(0,b-c);b=(new Array(b+1))[O](jd);return b+a},kd=function(){return Array[v][O][I](arguments,S)},ld="(\\d*)(\\D*)",md="g",od=function(a,b){var c=0;a=Sc(da(a))[B](gc);b=Sc(da(b))[B](gc);for(var e=q.max(a[t],b[t]),f=0;c==0&&f<e;f++){var g=a[f]||S,h=b[f]||S,p=new RegExp(ld,md),r=new RegExp(ld,md);do{var u=p[Ja](g)||[S,S,S],w=r[Ja](h)||[S,S,S];if(u[0][t]==0&&w[0][t]==0)break;c=u[1][t]==0?
0:ba(u[1],10);var E=w[1][t]==0?0:ba(w[1],10);c=nd(c,E)||nd(u[2][t]==0,w[2][t]==0)||nd(u[2],w[2])}while(c==0)}return c},nd=function(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};Hc();var pd;var qd="en",rd=function(){pd||(pd=qd);return pd},sd={},td=function(a,b){sd.DateTimeConstants||(sd.DateTimeConstants={});sd.DateTimeConstants[b]=a;pd||(pd=b)},ud="M",vd="S",wd="D",xd="T",yd="PM",Ad={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:["J","F",ud,"A",ud,"J","J","A",vd,"O","N",wd],MONTHS:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTMONTHS:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep",
"Oct","Nov","Dec"],WEEKDAYS:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],SHORTWEEKDAYS:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],NARROWWEEKDAYS:[vd,ud,xd,"W",xd,"F",vd],SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM",yd],DATEFORMATS:["EEEE, MMMM d, yyyy","MMMM d, yyyy","MMM d, yyyy","M/d/yy"],TIMEFORMATS:["h:mm:ss a v","h:mm:ss a z","h:mm:ss a","h:mm a"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
Ad.STANDALONENARROWMONTHS=Ad.NARROWMONTHS;Ad.STANDALONEMONTHS=Ad.MONTHS;Ad.STANDALONESHORTMONTHS=Ad.SHORTMONTHS;Ad.STANDALONEWEEKDAYS=Ad.WEEKDAYS;Ad.STANDALONESHORTWEEKDAYS=Ad.SHORTWEEKDAYS;Ad.STANDALONENARROWWEEKDAYS=Ad.NARROWWEEKDAYS;var Bd=function(){},Cd="UTC",Dd="+",Ed="-",U=":",Gd=function(a){if(typeof a==nc){var b;b=new Bd;b.standardOffset_=a;b.timeZoneId_=Fd(a);a=a;if(a==0)a=Cd;else{var c=[Cd,a<0?Dd:Ed];a=q.abs(a);c[s](q[Ta](a/60)%100);a%=60;a!=0&&c[s](U,a);a=c[O](S)}b.tzNames_=[a,a];b.transitions_=[];return b=b}b=new Bd;b.timeZoneId_=a.id;b.standardOffset_=-a.std_offset;b.tzNames_=a.names;b.transitions_=a.transitions;return b},Hd="Etc/GMT",Fd=function(a){if(a==0)return Hd;var b=[Hd,a<0?Ed:Dd];a=q.abs(a);b[s](q[Ta](a/60)%
100);a%=60;a!=0&&b[s](U,T(a,2));return b[O](S)};P=Bd[v];P.getDaylightAdjustment=function(a){a=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a[Pb](),a.getUTCMinutes())/3600000;for(var b=0;b<this.transitions_[t]&&a>=this.transitions_[b];)b+=2;return b==0?0:this.transitions_[b-1]};var Id="GMT";P.getGMTString=function(a){a=this.getOffset(a);var b=[Id];b[s](a<=0?Dd:Ed);a=q.abs(a);b[s](T(q[Ta](a/60)%100,2),U,T(a%60,2));return a=b[O](S)};
P.getLongName=function(a){return this.tzNames_[this.isDaylightTime(a)?3:1]};P.getOffset=function(a){return this.standardOffset_-this.getDaylightAdjustment(a)};P.getRFCTimeZoneString=function(a){a=-this.getOffset(a);var b=[a<0?Ed:Dd];a=q.abs(a);b[s](T(q[Ta](a/60)%100,2),T(a%60,2));return b[O](S)};P.getShortName=function(a){return this.tzNames_[this.isDaylightTime(a)?2:0]};P.isDaylightTime=function(a){return this.getDaylightAdjustment(a)>0};var Jd="DateTimeConstants",Kd=function(){var a;var b=rd();b=b?b:rd();if(Jd in sd)a=sd.DateTimeConstants[b];this.symbols_=a;this.patternParts_=[]},Ld=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];P=Kd[v];var Md="''",Nd="'";
P.applyPattern=function(a){for(;a;)for(var b=0;b<Ld[t];++b){var c=a[lb](Ld[b]);if(c){c=c[0];a=a[Bb](c[t]);if(b==0)if(c==Md)c=Nd;else{c=c[Bb](1,c[t]-1);c=c[z](/\'\'/,Nd)}this.patternParts_[s]({text:c,type:b});break}}};
P.format=function(a,b){b||(b=Gd(a[ec]()));var c=(a[ec]()-b.getOffset(a))*60000,e=c?new Date(a[N]()+c):a,f=e;if(e[ec]()!=a[ec]()){c+=c>0?-86400000:86400000;f=new Date(a[N]()+c)}c=[];for(var g=0;g<this.patternParts_[t];++g){var h=this.patternParts_[g].text;1==this.patternParts_[g][L]?c[s](this.formatField_(h,a,e,f,b)):c[s](h)}return c[O](S)};P.formatEra_=function(a,b){b=b[ub]()>0?1:0;return a>=4?this.symbols_.ERANAMES[b]:this.symbols_.ERAS[b]};
P.formatYear_=function(a,b){b=b[ub]();if(b<0)b=-b;return a==2?T(b%100,2):da(b)};P.formatMonth_=function(a,b){b=b[Ca]();switch(a){case 5:return this.symbols_.NARROWMONTHS[b];case 4:return this.symbols_.MONTHS[b];case 3:return this.symbols_.SHORTMONTHS[b];default:return T(b+1,a)}};P.format24Hours_=function(a,b){return T(b[Sb]()||24,a)};P.formatFractionalSeconds_=function(a,b){return(b[N]()%1000/1000)[Qa](q.min(3,a)).substr(2)+(a>3?T(0,a-3):S)};
P.formatDayOfWeek_=function(a,b){b=b[Fa]();return a>=4?this.symbols_.WEEKDAYS[b]:this.symbols_.SHORTWEEKDAYS[b]};P.formatAmPm_=function(a,b){a=b[Sb]();return this.symbols_.AMPMS[a>=12&&a<24?1:0]};P.format1To12Hours_=function(a,b){return T(b[Sb]()%12||12,a)};P.format0To11Hours_=function(a,b){return T(b[Sb]()%12,a)};P.format0To23Hours_=function(a,b){return T(b[Sb](),a)};
P.formatStandaloneDay_=function(a,b){b=b[Fa]();switch(a){case 5:return this.symbols_.STANDALONENARROWWEEKDAYS[b];case 4:return this.symbols_.STANDALONEWEEKDAYS[b];case 3:return this.symbols_.STANDALONESHORTWEEKDAYS[b];default:return T(b,1)}};P.formatStandaloneMonth_=function(a,b){b=b[Ca]();switch(a){case 5:return this.symbols_.STANDALONENARROWMONTHS[b];case 4:return this.symbols_.STANDALONEMONTHS[b];case 3:return this.symbols_.STANDALONESHORTMONTHS[b];default:return T(b+1,a)}};
P.formatQuarter_=function(a,b){b=q[Ta](b[Ca]()/3);return a<4?this.symbols_.SHORTQUARTERS[b]:this.symbols_.QUARTERS[b]};P.formatDate_=function(a,b){return T(b[$a](),a)};P.formatMinutes_=function(a,b){return T(b[Tb](),a)};P.formatSeconds_=function(a,b){return T(b[Sa](),a)};P.formatTimeZoneRFC_=function(a,b,c){return a<4?c.getRFCTimeZoneString(b):c.getGMTString(b)};P.formatTimeZone_=function(a,b,c){return a<4?c.getShortName(b):c.getLongName(b)};
var Od="G",Pd="y",Qd="k",Rd="E",Sd="a",Td="h",Ud="K",Vd="H",Wd="c",Xd="L",Yd="Q",Zd="d",$d="m",ae="s",be="v",ce="z",de="Z";
P.formatField_=function(a,b,c,e,f){var g=a[t];switch(a[Xa](0)){case Od:return this.formatEra_(g,c);case Pd:return this.formatYear_(g,c);case ud:return this.formatMonth_(g,c);case Qd:return this.format24Hours_(g,e);case vd:return this.formatFractionalSeconds_(g,e);case Rd:return this.formatDayOfWeek_(g,c);case Sd:return this.formatAmPm_(g,e);case Td:return this.format1To12Hours_(g,e);case Ud:return this.format0To11Hours_(g,e);case Vd:return this.format0To23Hours_(g,e);case Wd:return this.formatStandaloneDay_(g,
c);case Xd:return this.formatStandaloneMonth_(g,c);case Yd:return this.formatQuarter_(g,c);case Zd:return this.formatDate_(g,c);case $d:return this.formatMinutes_(g,e);case ae:return this.formatSeconds_(g,e);case be:return f.timeZoneId_;case ce:return this.formatTimeZone_(g,b,f);case de:return this.formatTimeZoneRFC_(g,b,f);default:return S}};var ee=[{maximum:10/24,msgName:"rating_benchmark_1_bedroom_apartment"},{maximum:20/24,msgName:"rating_benchmark_2_bedroom_apartment"},{maximum:1.25,msgName:"rating_benchmark_2_bedroom_house"},{maximum:1.875,msgName:"rating_benchmark_3_bedroom_house"},{maximum:2.5,msgName:"rating_benchmark_4_bedroom_house"}],fe=[{value:0,color:"00d10f"},{value:0.25,color:"4ed000"},{value:0.5,color:"c8d500"},{value:34/24,color:"f07f00"},{value:1.875,color:"d03000"},{value:2.5,color:"ad0000"}];var ge,he="month_",ie="_long",je="_medium",ke="_short",le="weekday_",ne=function(a){td(Ad,rd());var b=[1,2,3,4,5,6,7,8,9,10,11,12],c=Kc(b,function(r){return me(he+r+ie)}),e=Kc(b,function(r){return me(he+r+je)}),f=Kc(b,function(r){return me(he+r+ke)});b=[0,1,2,3,4,5,6];var g=Kc(b,function(r){return me(le+r+ie)}),h=Kc(b,function(r){return me(le+r+je)}),p=Kc(b,function(r){return me(le+r+ke)});b=new Kd;b.applyPattern(a);b.formatMonth_=function(r,u){u=u[Ca]();switch(r){case 5:return f[u];case 4:return c[u];
case 3:return e[u];default:return T(u+1,r)}};b.formatDayOfWeek_=function(r,u){u=u[Fa]();switch(r){case 5:return p[u];case 4:return g[u];case 3:return h[u];case 2:return h[u];case 1:return p[u]}};return b},oe="_weekStart",pe="default_week_start",qe=function(){var a=ba(ge[hb](oe),10);if(ia(a))a=ba(me(pe),10);return a},re="_currency",se="default",te="default_currency",ue=function(){var a=ge[hb](re);if(a==j||a==S||a==se)a=me(te);return a},ve=' <a href="',we='" target="_blank">',xe="learn_more",ye="</a>",
ze=function(a){return ve+a+we+me(xe)+ye},me=function(a,b){return Ae(ge[C](a),b)},Be="\\$\\{",Ce="\\}",De="[UNMATCHED PARAMETER ",Ee=" FOR ",Fe="]",Ge="[UNMATCHED PLACEHOLDER IN ",He="$",Ae=function(a,b){var c=a;if(b)for(var e in b){var f=new RegExp(Be+e+Ce,md);if(!c[lb](f))return De+e+Ee+a+Fe;c=c[z](f,b[e])}if(c[lb](/\$\{[^$]/))return Ge+a+Fe;return c[z](/\$\{\$\}/g,He)};var Ie,Je=function(a,b){la(a,b)},V=" ",Ke=function(a){return(a=a[Ia])&&typeof a[B]==Q?a[B](V):[]},Le=function(a){var b=Ke(a),c;c=Qc(arguments,1);for(var e=0,f=0;f<c[t];f++)if(!Mc(b,c[f])){b[s](c[f]);e++}c=e==c[t];la(a,b[O](V));return c},Me=function(a){var b=Ke(a),c;c=Qc(arguments,1);for(var e=0,f=0;f<b[t];f++)if(Mc(c,b[f])){Rc(b,f--,1);e++}c=e==c[t];la(a,b[O](V));return c};var W=function(a,b){this.x=a!==n?a:0;this.y=b!==n?b:0};W[v].clone=function(){return new W(this.x,this.y)};var Ne="(",Oe=", ",Pe=")";ja(W[v],function(){return Ne+this.x+Oe+this.y+Pe});var Qe=function(a,b){return new W(a.x-b.x,a.y-b.y)};var Re=function(a,b){ma(this,a);wa(this,b)};Re[v].clone=function(){return new Re(this[x],this[M])};var Se=" x ";ja(Re[v],function(){return Ne+this[x]+Se+this[M]+Pe});Re[v].floor=function(){ma(this,q[Ta](this[x]));wa(this,q[Ta](this[M]));return this};Re[v].round=function(){ma(this,q[La](this[x]));wa(this,q[La](this[M]));return this};var Te=function(a,b,c){for(var e in a)b[I](c,a[e],e,a)},Ue=function(a){var b=[],c=0;for(var e in a)b[c++]=a[e];return b},Ve=function(a){var b=[],c=0;for(var e in a)b[c++]=e;return b},We=function(a,b){var c;if(c=b in a)delete a[b];return c},Xe=function(a,b,c){if(b in a)d(m('The object already contains the key "'+b+bd));a[b]=c},Ye=function(a,b,c){if(b in a)return a[b];return c},Ze=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$e=function(a){for(var b,
c,e=1;e<arguments[t];e++){c=arguments[e];for(b in c)a[b]=c[b];for(var f=0;f<Ze[t];f++){b=Ze[f];if(ea[v][db][I](c,b))a[b]=c[b]}}},af="Uneven number of arguments",bf=function(){var a=arguments[t];if(a==1&&uc(arguments[0]))return bf[Ib](j,arguments[0]);if(a%2)d(m(af));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b};var cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf=function(){return fc.navigator?fc.navigator.userAgent:j},of=function(){return fc.navigator},pf="Opera",qf="MSIE",rf="WebKit",sf="Mobile",tf="Gecko",uf="Camino";(function(){hf=gf=ff=ef=df=cf=k;var a;if(a=nf()){var b=of();cf=a[D](pf)==0;df=!cf&&a[D](qf)!=-1;ff=(ef=!cf&&a[D](rf)!=-1)&&a[D](sf)!=-1;hf=(gf=!cf&&!ef&&b.product==tf)&&b.vendor==uf}})();
var vf=cf,X=df,wf=gf,xf=ef,yf=ff,zf=function(){var a=of();return a&&a.platform||S}(),Af="Mac",Bf="Win",Cf="Linux",Df="X11";(function(){jf=id(zf,Af);kf=id(zf,Bf);lf=id(zf,Cf);mf=!!of()&&id(of().appVersion||S,Df)})();
var Ef=jf,Ff=mf,Gf=function(){var a=S,b;if(vf&&fc[qb]){a=fc[qb].version;a=typeof a==Q?a():a}else{if(wf)b=/rv\:([^\);]+)(\)|;)/;else if(X)b=/MSIE\s+([^\);]+)(\)|;)/;else if(xf)b=/WebKit\/(\S+)/;if(b)a=(a=b[Ja](nf()))?a[1]:S}return a}(),Hf={},If=function(a){return Hf[a]||(Hf[a]=od(Gf,a)>=0)};var Lf=function(a){return a?new Jf(Kf(a)):Ie||(Ie=new Jf)},Y=function(a){return xc(a)?fa.getElementById(a):a},Mf="style",Nf="class",Of="for",Qf=function(a,b){Te(b,function(c,e){if(e==Mf)a[F].cssText=c;else if(e==Nf)la(a,c);else if(e==Of)a.htmlFor=c;else if(e in Pf)a[Ab](Pf[e],c);else a[e]=c})},Pf={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"},Rf="500",Sf="9.50",
Uf=function(a){a=a||o;var b=a[Pa];if(xf&&!If(Rf)&&!yf){if(typeof a.innerHeight=="undefined")a=o;b=a.innerHeight;var c=a[Pa][cc].scrollHeight;if(a==a.top)if(c<b)b-=15;a=new Re(a.innerWidth,b)}else{a=Tf(b)&&(!vf||vf&&If(Sf))?b[cc]:b[gb];a=new Re(a[Ka],a[wb])}return a},Vf="script",Wf="document.parentWindow=window",Xf=function(a){if(a.parentWindow)return a.parentWindow;if(xf&&!If(Rf)&&!yf){var b=a[tb](Vf);na(b,Wf);var c=a[cc];c[za](b);c[ib](b);return a.parentWindow}return a[Ob]},Zf=function(){return Yf(fa,
arguments)},$f=' name="',ag=' type="',Yf=function(a,b){var c=b[0],e=b[1];if(X&&e&&(e[Qb]||e[L])){c=[$c,c];e[Qb]&&c[s]($f,hd(e[Qb]),bd);if(e[L]){c[s](ag,hd(e[L]),bd);e=Ec(e);delete e[L]}c[s](ad);c=c[O](S)}var f=a[tb](c);if(e)if(xc(e))la(f,e);else Qf(f,e);if(b[t]>2){function g(h){if(h)f[za](xc(h)?a[Ya](h):h)}for(e=2;e<b[t];e++){c=b[e];vc(c)&&!(Ac(c)&&c[Oa]>0)?Jc(bg(c)?Oc(c):c,g):g(c)}}return f},cg="CSS1Compat",Tf=function(a){return a.compatMode==cg},dg=function(a,b){a[za](b)},eg=function(a){for(var b;b=
a[K];)a[ib](b)},fg=function(a){return a&&a[Rb]?a[Rb][ib](a):j},gg=function(a,b){var c=b[Rb];c&&c.replaceChild(a,b)},hg=function(a){for(a=a[K];a&&a[Oa]!=1;)a=a[Vb];return a=a},ig=xf&&If("522"),jg=function(a,b){if(typeof a[Hb]!="undefined"&&!ig&&b[Oa]==1)return a==b||a[Hb](b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b[Rb];return b==a},Kf=function(a){return a[Oa]==9?a:a.ownerDocument||a[Pa]},kg="textContent",lg=function(a,
b){if(kg in a)a.textContent=b;else if(a[K]&&a[K][Oa]==3){for(;a.lastChild!=a[K];)a[ib](a.lastChild);a[K].data=b}else{eg(a);var c=Kf(a);a[za](c[Ya](b))}},mg={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},ng="\n",og={IMG:V,BR:ng},pg="tabindex",qg=function(a){var b=a.getAttributeNode(pg);if(b&&b.specified){a=a.tabIndex;return yc(a)&&a>=0}return k},rg="tabIndex",sg=function(a,b){if(b)a.tabIndex=0;else a.removeAttribute(rg)},tg="innerText",vg=function(a){if(X&&tg in a)a=a.innerText[z](/(\r\n|\r|\n)/g,ng);
else{var b=[];ug(a,b,i);a=b[O](S)}a=a[z](/\xAD/g,S);a=a[z](/ +/g,V);if(a!=V)a=a[z](/^\s*/,S);return a},ug=function(a,b,c){if(!(a[fb]in mg))if(a[Oa]==3)c?b[s](da(a[Zb])[z](/(\r\n|\r|\n)/g,S)):b[s](a[Zb]);else if(a[fb]in og)b[s](og[a[fb]]);else for(a=a[K];a;){ug(a,b,c);a=a[Vb]}},bg=function(a){if(a&&typeof a[t]==nc)if(Ac(a))return typeof a.item==Q||typeof a.item==wc;else if(zc(a))return typeof a.item==Q;return k},Jf=function(a){this.document_=a||fc[Pa]||fa};P=Jf[v];P.getDomHelper=Lf;
P.getElement=function(a){return xc(a)?this.document_.getElementById(a):a};P.$=Jf[v].getElement;P.setProperties=Qf;P.getViewportSize=function(a){return Uf(a||this.getWindow())};P.createDom=function(){return Yf(this.document_,arguments)};P.createElement=function(a){return this.document_[tb](a)};P.createTextNode=function(a){return this.document_[Ya](a)};P.isCss1CompatMode=function(){return Tf(this.document_)};P.getWindow=function(){return Xf(this.document_)};
P.getDocumentScrollElement=function(){return!xf&&Tf(this.document_)?this.document_[cc]:this.document_[gb]};P.getDocumentScroll=function(){var a;a=!xf&&Tf(this.document_)?this.document_[cc]:this.document_[gb];return a=new W(a[xb],a[Aa])};P.appendChild=dg;P.removeChildren=eg;P.getFirstElementChild=hg;ta(P,jg);P.setTextContent=lg;var wg,xg="role",yg=function(a,b){if(wf||wg){a[Ab](xg,b);a.roleName=b}},zg="aria-",Ag=function(a,b,c){if(wf||wg)a[Ab](zg+b,c)};var Bg=function(a,b,c,e){this.top=a;this.right=b;this.bottom=c;pa(this,e)};Bg[v].clone=function(){return new Bg(this.top,this[dc],this[zb],this[G])};var Cg="t, ",Dg="r, ",Eg="b, ",Fg="l)";ja(Bg[v],function(){return Ne+this.top+Cg+this[dc]+Dg+this[zb]+Eg+this[G]+Fg});ta(Bg[v],function(a){a=!this||!a?k:a instanceof Bg?a[G]>=this[G]&&a[dc]<=this[dc]&&a.top>=this.top&&a[zb]<=this[zb]:a.x>=this[G]&&a.x<=this[dc]&&a.y>=this.top&&a.y<=this[zb];return a});
var Gg=function(a,b){if(a==b)return i;if(!a||!b)return k;return a.top==b.top&&a[dc]==b[dc]&&a[zb]==b[zb]&&a[G]==b[G]};var Hg=function(a,b,c,e){pa(this,a);this.top=b;ma(this,c);wa(this,e)};P=Hg[v];P.clone=function(){return new Hg(this[G],this.top,this[x],this[M])};var Ig=" - ",Jg="w x ",Kg="h)";ja(P,function(){return Ne+this[G]+Oe+this.top+Ig+this[x]+Jg+this[M]+Kg});P.intersection=function(a){var b=q.max(this[G],a[G]),c=q.min(this[G]+this[x],a[G]+a[x]);if(b<=c){var e=q.max(this.top,a.top);a=q.min(this.top+this[M],a.top+a[M]);if(e<=a){pa(this,b);this.top=e;ma(this,c-b);wa(this,a-e);return i}}return k};
ta(P,function(a){return a instanceof Hg?this[G]<=a[G]&&this[G]+this[x]>=a[G]+a[x]&&this.top<=a.top&&this.top+this[M]>=a.top+a[M]:a.x>=this[G]&&a.x<=this[G]+this[x]&&a.y>=this.top&&a.y<=this.top+this[M]});P.getSize=function(){return new Re(this[x],this[M])};var Lg,Mg,Ng,Og,Pg,Qg,Rg="Firefox",Sg="iPhone",Tg="iPod",Ug="Android",Vg="Chrome",Wg="Safari";(function(){Qg=Pg=Og=Ng=Mg=Lg=k;var a=nf();if(a)if(a[D](Rg)!=-1)Lg=i;else if(a[D](uf)!=-1)Mg=i;else if(a[D](Sg)!=-1||a[D](Tg)!=-1)Ng=i;else if(a[D](Ug)!=-1)Og=i;else if(a[D](Vg)!=-1)Pg=i;else if(a[D](Wg)!=-1)Qg=i})();var Xg=function(a,b){var c=Kf(a);if(c[Ob]&&c[Ob].getComputedStyle)if(a=c[Ob].getComputedStyle(a,S))return a[b];return j},Yg=function(a,b){return Xg(a,b)||(a.currentStyle?a.currentStyle[b]:j)||a[F][b]},Zg="1.9",$g="px",ah=function(a,b,c){var e,f=wf&&(Ef||Ff)&&If(Zg);if(b instanceof W){e=b.x;b=b.y}else{e=b;b=c}pa(a[F],typeof e==nc?(f?q[La](e):e)+$g:e);a[F].top=typeof b==nc?(f?q[La](b):b)+$g:b},bh=function(a){a=a?a[Oa]==9?a:Kf(a):fa;if(X&&!Lf(a).isCss1CompatMode())return a[gb];return a[cc]},ch=function(a){var b=
a[Ea]();if(X){a=a.ownerDocument;b.left-=a[cc][yb]+a[gb][yb];b.top-=a[cc][Cb]+a[gb][Cb]}return b},dh="position",eh="fixed",fh="absolute",gh="static",hh=function(a){if(X)return a.offsetParent;var b=Kf(a),c=Yg(a,dh),e=c==eh||c==fh;for(a=a[Rb];a&&a!=b;a=a[Rb]){c=Yg(a,dh);e=e&&c==gh&&a!=b[cc]&&a!=b[gb];if(!e&&(a.scrollWidth>a[Ka]||a.scrollHeight>a[wb]||c==eh||c==fh))return a}return j},ih="overflow",jh="visible",kh="borderLeftWidth",lh="borderRightWidth",mh="borderTopWidth",ph=function(a){var b=new Bg(0,
Infinity,Infinity,0),c=Lf(a),e=c.getDocumentScrollElement(),f;for(a=a;a=hh(a);)if((!X||a[Ka]!=0)&&(a.scrollWidth!=a[Ka]||a.scrollHeight!=a[wb])&&Yg(a,ih)!=jh){var g=nh(a),h;h=a;if(wf&&!If(Zg)){var p=ca(Xg(h,kh));if(oh(h)){var r=h[Ua]-h[Ka]-p-ca(Xg(h,lh));p+=r}h=new W(p,ca(Xg(h,mh)))}else h=new W(h[yb],h[Cb]);g.x+=h.x;g.y+=h.y;b.top=q.max(b.top,g.y);b.right=q.min(b[dc],g.x+a[Ka]);b.bottom=q.min(b[zb],g.y+a[wb]);pa(b,q.max(b[G],g.x));f=f||a!=e}a=e[xb];e=e[Aa];if(xf){b.left+=a;b.top+=e}else{pa(b,q.max(b[G],
a));b.top=q.max(b.top,e)}if(!f||xf){b.right+=a;b.bottom+=e}c=c.getViewportSize();b.right=q.min(b[dc],a+c[x]);b.bottom=q.min(b[zb],e+c[M]);return b.top>=0&&b[G]>=0&&b[zb]>b.top&&b[dc]>b[G]?b:j},qh="TR",nh=function(a){var b,c=Kf(a),e=Yg(a,dh),f=wf&&c[nb]&&!a[Ea]&&e==fh&&(b=c[nb](a))&&(b[jb]<0||b[kb]<0),g=new W(0,0),h=bh(c);if(a==h)return g;if(a[Ea]){b=ch(a);a=Lf(c).getDocumentScroll();g.x=b[G]+a.x;g.y=b.top+a.y}else if(c[nb]&&!f){b=c[nb](a);a=c[nb](h);g.x=b[jb]-a[jb];g.y=b[kb]-a[kb]}else{b=a;do{g.x+=
b.offsetLeft;g.y+=b.offsetTop;if(b!=a){g.x+=b[yb]||0;g.y+=b[Cb]||0}if(xf&&Yg(b,dh)==eh){g.x+=c[gb][xb];g.y+=c[gb][Aa];break}b=b.offsetParent}while(b&&b!=a);if(vf||xf&&e==fh)g.y-=c[gb].offsetTop;for(b=a;(b=hh(b))&&b!=c[gb]&&b!=h;){g.x-=b[xb];if(!vf||b[Lb]!=qh)g.y-=b[Aa]}}return g},rh=function(a){var b=new W;if(a[Oa]==1)if(a[Ea]){var c=ch(a);b.x=c[G];b.y=c.top}else{c=Lf(a).getDocumentScroll();a=nh(a);b.x=a.x-c.x;b.y=a.y-c.y}else{b.x=a[ac];b.y=a[bc]}return b},sh=function(a,b,c){if(b instanceof Re){c=
b[M];b=b[x]}else{if(c==n)d(m("missing height argument"));c=c}ma(a[F],typeof b==nc?q[La](b)+$g:b);wa(a[F],typeof c==nc?q[La](c)+$g:c)},th="10",uh="display",vh="none",wh="hidden",xh="inline",yh=function(a){var b=vf&&!If(th);if(Yg(a,uh)!=vh)return b?new Re(a[Ua]||a[Ka],a[Xb]||a[wb]):new Re(a[Ua],a[Xb]);var c=a[F],e=c.display,f=c.visibility,g=c.position;xa(c,wh);c.position=fh;va(c,xh);if(b){b=a[Ua]||a[Ka];a=a[Xb]||a[wb]}else{b=a[Ua];a=a[Xb]}va(c,e);c.position=g;xa(c,f);return new Re(b,a)},zh=function(a){var b=
nh(a);a=yh(a);return new Hg(b.x,b.y,a[x],a[M])},Ah=function(a,b){va(a[F],b?S:vh)},Bh="rtl",Ch="direction",oh=function(a){return Bh==Yg(a,Ch)},Dh=wf?"MozUserSelect":xf?"WebkitUserSelect":j,Eh="*",Fh="on",Gh="unselectable",Hh=function(a,b,c){c=!c?a.getElementsByTagName(Eh):j;if(Dh){b=b?vh:S;a[F][Dh]=b;if(c){a=0;for(var e;e=c[a];a++)e[F][Dh]=b}}else if(X||vf){b=b?Fh:S;a[Ab](Gh,b);if(c)for(a=0;e=c[a];a++)e[Ab](Gh,b)}};var Ih=function(){};Ih[v].disposed_=k;Ih[v].dispose=function(){if(!this.disposed_){this.disposed_=i;this.disposeInternal()}};Ih[v].disposeInternal=function(){};var Jh=function(a,b){sa(this,a);qa(this,b);oa(this,this[H])};R(Jh,Ih);P=Jh[v];P.disposeInternal=function(){delete this[L];delete this[H];delete this.currentTarget};P.propagationStopped_=k;P.returnValue_=i;P.stopPropagation=function(){this.propagationStopped_=i};P.preventDefault=function(){this.returnValue_=k};var Kh=function(a,b){this.maxCount_=b;this.freeQueue_=[];this.createInitial_(a)};R(Kh,Ih);P=Kh[v];P.createObjectFn_=j;P.disposeObjectFn_=j;P.setCreateObjectFn=function(a){this.createObjectFn_=a};P.getObject=function(){if(this.freeQueue_[t])return this.freeQueue_.pop();return this.createObject()};P.releaseObject=function(a){this.freeQueue_[t]<this.maxCount_?this.freeQueue_[s](a):this.disposeObject(a)};
P.createInitial_=function(a){if(a>this.maxCount_)d(m("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var b=0;b<a;b++)this.freeQueue_[s](this.createObject())};P.createObject=function(){return this.createObjectFn_?this.createObjectFn_():{}};P.disposeObject=function(a){if(this.disposeObjectFn_)this.disposeObjectFn_(a);else if(zc(a.dispose))a.dispose();else for(var b in a)delete a[b]};
P.disposeInternal=function(){Kh.superClass_.disposeInternal[I](this);for(var a=this.freeQueue_;a[t];)this.disposeObject(a.pop());delete this.freeQueue_};var Lh=function(a,b){a&&this.init(a,b)};R(Lh,Jh);var Mh=[1,4,2];P=Lh[v];qa(P,j);P.relatedTarget=j;P.offsetX=0;P.offsetY=0;P.clientX=0;P.clientY=0;P.screenX=0;P.screenY=0;P.button=0;ra(P,0);P.charCode=0;P.ctrlKey=k;P.altKey=k;P.shiftKey=k;P.metaKey=k;P.event_=j;var Nh="mouseover",Oh="mouseout",Ph="keypress";
P.init=function(a,b){var c=sa(this,a[L]);qa(this,a[H]||a.srcElement);oa(this,b);if(b=a[Ha]){if(wf)try{b=b[fb]&&b}catch(e){}}else if(c==Nh)b=a.fromElement;else if(c==Oh)b=a.toElement;this.relatedTarget=b;this.offsetX=a.offsetX!==n?a.offsetX:a.layerX;this.offsetY=a.offsetY!==n?a.offsetY:a.layerY;this.clientX=a[ac]!==n?a[ac]:a.pageX;this.clientY=a[bc]!==n?a[bc]:a.pageY;this.screenX=a[jb]||0;this.screenY=a[kb]||0;this.button=a.button;ra(this,a[J]||0);this.charCode=a[pb]||(c==Ph?a[J]:0);this.ctrlKey=a.ctrlKey;
this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.event_=a;delete this.returnValue_;delete this.propagationStopped_};var Qh="click";P.isButton=function(a){return X?this[L]==Qh?a==0:!!(this.event_.button&Mh[a]):this.event_.button==a};P.stopPropagation=function(){this.propagationStopped_=i;if(this.event_[Za])this.event_[Za]();else this.event_.cancelBubble=i};var Rh=X&&!If("8");
Lh[v].preventDefault=function(){this.returnValue_=k;var a=this.event_;if(a[bb])a[bb]();else{a.returnValue=k;if(Rh)try{if(a.ctrlKey||a[J]>=112&&a[J]<=123)ra(a,-1)}catch(b){}}};Lh[v].disposeInternal=function(){Lh.superClass_.disposeInternal[I](this);this.event_=j;qa(this,j);oa(this,j);this.relatedTarget=j};var Sh,Th,Uh="ScriptEngine",Vh="JScript";(function(){Th=(Sh=Uh in fc&&fc.ScriptEngine()==Vh)?fc.ScriptEngineMajorVersion()+gc+fc.ScriptEngineMinorVersion()+gc+fc.ScriptEngineBuildVersion():jd})();var Wh=Sh,Xh=Th;var Yh=function(){},Zh=0;P=Yh[v];P.key=0;P.removed=k;P.callOnce=k;var $h="Invalid listener argument";P.init=function(a,b,c,e,f,g){if(zc(a))this.isFunctionListener_=i;else if(a&&a[Db]&&zc(a[Db]))this.isFunctionListener_=k;else d(m($h));this.listener=a;this.proxy=b;this.src=c;sa(this,e);this.capture=!!f;this.handler=g;this.callOnce=k;this.key=++Zh;this.removed=k};
P.handleEvent=function(a){if(this.isFunctionListener_)return this.listener[I](this.handler||this.src,a);return this.listener[Db][I](this.listener,a)};var ai,bi,ci,di,ei,fi,gi,hi,ii,ji,ki,li="5.7";
(function(){var a=Wh&&!(od(Xh,li)>=0);function b(){return{count_:0,remaining_:0}}function c(){return[]}var e;fi=function(y){e=y};function f(){var y=function(ga){return e[I](y.src,y.key,ga)};return y}function g(){return new Yh}function h(){return new Lh}if(a){ai=function(){return p.getObject()};bi=function(y){p.releaseObject(y)};ci=function(){return r.getObject()};di=function(y){r.releaseObject(y)};ei=function(){return u.getObject()};gi=function(){u.releaseObject(f())};hi=function(){return w.getObject()};
ii=function(y){w.releaseObject(y)};ji=function(){return E.getObject()};ki=function(y){E.releaseObject(y)};var p=new Kh(0,600);p.setCreateObjectFn(b);var r=new Kh(0,600);r.setCreateObjectFn(c);var u=new Kh(0,600);u.setCreateObjectFn(f);var w=new Kh(0,600);w.setCreateObjectFn(g);var E=new Kh(0,600);E.setCreateObjectFn(h)}else{ai=b;bi=ic;ci=c;di=ic;ei=f;gi=ic;hi=g;ii=ic;ji=h;ki=ic}})();var mi={},ni={},oi={},pi={},qi=function(a,b,c,e,f){if(b)if(uc(b)){for(var g=0;g<b[t];g++)qi(a,b[g],c,e,f);return j}else{e=!!e;var h=ni;b in h||(h[b]=ai());h=h[b];if(!(e in h)){h[e]=ai();h.count_++}h=h[e];var p=Dc(a),r;h.remaining_++;if(h[p]){r=h[p];for(g=0;g<r[t];g++){h=r[g];if(h.listener==c&&h.handler==f){if(h.removed)break;return r[g].key}}}else{r=h[p]=ci();h.count_++}g=ei();g.src=a;h=hi();h.init(c,g,a,b,e,f);c=h.key;g.key=c;r[s](h);mi[c]=h;oi[p]||(oi[p]=ci());oi[p][s](h);if(a.addEventListener){if(a==
fc||!a.customEvent_)a.addEventListener(b,g,e)}else a.attachEvent(ri(b),g);return c}else d(m("Invalid event type"))},si=function(a,b,c,e,f){if(uc(b)){for(var g=0;g<b[t];g++)si(a,b[g],c,e,f);return j}e=!!e;a=ti(a,b,e);if(!a)return k;for(g=0;g<a[t];g++)if(a[g].listener==c&&a[g].capture==e&&a[g].handler==f)return ui(a[g].key);return k},ui=function(a){if(!mi[a])return k;var b=mi[a];if(b.removed)return k;var c=b.src,e=b[L],f=b.proxy,g=b.capture;if(c.removeEventListener){if(c==fc||!c.customEvent_)c.removeEventListener(e,
f,g)}else c.detachEvent&&c.detachEvent(ri(e),f);c=Dc(c);f=ni[e][g][c];if(oi[c]){var h=oi[c];Nc(h,b);h[t]==0&&delete oi[c]}b.removed=i;f.needsCleanup_=i;vi(e,g,c,f);delete mi[a];return i},vi=function(a,b,c,e){if(!e.locked_)if(e.needsCleanup_){for(var f=0,g=0;f<e[t];f++)if(e[f].removed){var h=e[f].proxy;h.src=j;gi(h);ii(e[f])}else{if(f!=g)e[g]=e[f];g++}ka(e,g);e.needsCleanup_=k;if(g==0){di(e);delete ni[a][b][c];ni[a][b].count_--;if(ni[a][b].count_==0){bi(ni[a][b]);delete ni[a][b];ni[a].count_--}if(ni[a].count_==
0){bi(ni[a]);delete ni[a]}}}},wi=function(a,b,c){var e=0,f=a==j,g=b==j,h=c==j;c=!!c;if(f)Te(oi,function(r){for(var u=r[t]-1;u>=0;u--){var w=r[u];if((g||b==w[L])&&(h||c==w.capture)){ui(w.key);e++}}});else{a=Dc(a);if(oi[a]){a=oi[a];for(f=a[t]-1;f>=0;f--){var p=a[f];if((g||b==p[L])&&(h||c==p.capture)){ui(p.key);e++}}}}return e},ti=function(a,b,c){var e=ni;if(b in e){e=e[b];if(c in e){e=e[c];a=Dc(a);if(e[a])return e[a]}}return j},ri=function(a){if(a in pi)return pi[a];return pi[a]=Fh+a},yi=function(a,
b,c,e,f){var g=1;b=Dc(b);if(a[b]){a.remaining_--;a=a[b];if(a.locked_)a.locked_++;else a.locked_=1;try{for(var h=a[t],p=0;p<h;p++){var r=a[p];if(r&&!r.removed)g&=xi(r,f)!==k}}finally{a.locked_--;vi(c,e,b,a)}}return Boolean(g)},xi=function(a,b){b=a[Db](b);a.callOnce&&ui(a.key);return b},zi="window.event";
fi(function(a,b){if(!mi[a])return i;a=mi[a];var c=a[L],e=ni;if(!(c in e))return i;e=e[c];var f,g;if(X){f=b||hc(zi);b=i in e;var h=k in e;if(b){if(f[J]<0||f.returnValue!=n)return i;a:{var p=k;if(f[J]==0)try{ra(f,-1);break a}catch(r){p=i}if(p||f.returnValue==n)f.returnValue=i}}p=ji();p.init(f,this);f=i;try{if(b){for(var u=ci(),w=p.currentTarget;w;w=w[Rb])u[s](w);g=e[i];g.remaining_=g.count_;for(var E=u[t]-1;!p.propagationStopped_&&E>=0&&g.remaining_;E--){oa(p,u[E]);f&=yi(g,u[E],c,i,p)}if(h){g=e[k];
g.remaining_=g.count_;for(E=0;!p.propagationStopped_&&E<u[t]&&g.remaining_;E++){oa(p,u[E]);f&=yi(g,u[E],c,k,p)}}}else f=xi(a,p)}finally{if(u){ka(u,0);di(u)}p.dispose();ki(p)}return f}g=new Lh(b,this);try{f=xi(a,g)}finally{g.dispose()}return f});var Ai=function(a){this.handler_=a};R(Ai,Ih);var Bi=new Kh(0,100);P=Ai[v];P.listen=function(a,b,c,e,f){if(uc(b))for(var g=0;g<b[t];g++)this.listen(a,b[g],c,e,f);else this.recordListenerKey_(qi(a,b,c||this,e||k,f||this.handler_||this));return this};P.recordListenerKey_=function(a){if(this.keys_)this.keys_[a]=i;else if(this.key_){this.keys_=Bi.getObject();this.keys_[this.key_]=i;this.key_=j;this.keys_[a]=i}else this.key_=a};
P.unlisten=function(a,b,c,e,f){if(this.key_||this.keys_)if(uc(b))for(var g=0;g<b[t];g++)this.unlisten(a,b[g],c,e,f);else{a:{c=c||this;f=f||this.handler_||this;e=!!(e||k);if(a=ti(a,b,e))for(b=0;b<a[t];b++)if(a[b].listener==c&&a[b].capture==e&&a[b].handler==f){a=a[b];break a}a=j}if(a){a=a.key;ui(a);if(this.keys_)We(this.keys_,a);else if(this.key_==a)this.key_=j}}return this};
P.removeAll=function(){if(this.keys_){for(var a in this.keys_){ui(a);delete this.keys_[a]}Bi.releaseObject(this.keys_);this.keys_=j}else this.key_&&ui(this.key_)};P.disposeInternal=function(){Ai.superClass_.disposeInternal[I](this);this.removeAll()};P.handleEvent=function(){d(m("EventHandler.handleEvent not implemented"))};var Ci=function(){};R(Ci,Ih);P=Ci[v];P.customEvent_=i;P.parentEventTarget_=j;P.setParentEventTarget=function(a){this.parentEventTarget_=a};P.addEventListener=function(a,b,c,e){qi(this,a,b,c,e)};P.removeEventListener=function(a,b,c,e){si(this,a,b,c,e)};
P.dispatchEvent=function(a){a=a;if(xc(a))a=new Jh(a,this);else if(a instanceof Jh)qa(a,a[H]||this);else{var b=a;a=new Jh(a[L],this);$e(a,b)}b=1;var c,e=a[L],f=ni;if(e in f){f=f[e];e=i in f;var g;if(e){c=[];for(g=this;g;g=g.parentEventTarget_)c[s](g);g=f[i];g.remaining_=g.count_;for(var h=c[t]-1;!a.propagationStopped_&&h>=0&&g.remaining_;h--){oa(a,c[h]);b&=yi(g,c[h],a[L],i,a)&&a.returnValue_!=k}}if(k in f){g=f[k];g.remaining_=g.count_;if(e)for(h=0;!a.propagationStopped_&&h<c[t]&&g.remaining_;h++){oa(a,
c[h]);b&=yi(g,c[h],a[L],k,a)&&a.returnValue_!=k}else for(c=this;!a.propagationStopped_&&c&&g.remaining_;c=c.parentEventTarget_){oa(a,c);b&=yi(g,c,a[L],k,a)&&a.returnValue_!=k}}a=Boolean(b)}else a=i;return a};P.disposeInternal=function(){Ci.superClass_.disposeInternal[I](this);wi(this);this.parentEventTarget_=j};var Di=function(){};jc(Di);Di[v].nextId_=0;Di[v].getNextUniqueId=function(){return U+(this.nextId_++)[Ba](36)};Di.getInstance();var Fi=function(a){this.dom_=a||Lf();this.rightToLeft_=Ei};R(Fi,Ci);Fi[v].idGenerator_=Di.getInstance();var Ei=j,Gi="disable",Hi="enable",Ii="highlight",Ji="unhighlight",Ki="activate",Li="deactivate",Mi="select",Ni="unselect",Oi="check",Pi="uncheck",Qi="focus",Ri="blur",Si="open",Ti="close",Ui=function(a,b){switch(a){case 1:return b?Gi:Hi;case 2:return b?Ii:Ji;case 4:return b?Ki:Li;case 8:return b?Mi:Ni;case 16:return b?Oi:Pi;case 32:return b?Qi:Ri;case 64:return b?Si:Ti;default:}d(m("Invalid component state"))};
P=Fi[v];P.id_=j;P.dom_=j;P.inDocument_=k;P.element_=j;P.rightToLeft_=j;P.model_=j;P.parent_=j;P.children_=j;P.childIndex_=j;P.wasDecorated_=k;P.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())};P.setId=function(a){if(this.parent_&&this.parent_.childIndex_){We(this.parent_.childIndex_,this.id_);Xe(this.parent_.childIndex_,a,this)}this.id_=a};P.getElement=function(){return this.element_};P.setElementInternal=function(a){this.element_=a};
P.getHandler=function(){return this.googUiComponentHandler_||(this.googUiComponentHandler_=new Ai(this))};var Vi="Unable to set parent component";P.setParent=function(a){if(this==a)d(m(Vi));if(a&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=a)d(m(Vi));this.parent_=a;Fi.superClass_.setParentEventTarget[I](this,a)};P.setParentEventTarget=function(a){if(this.parent_&&this.parent_!=a)d(m("Method not supported"));Fi.superClass_.setParentEventTarget[I](this,a)};
P.getDomHelper=function(){return this.dom_};var Wi="div";P.createDom=function(){this.element_=this.dom_[tb](Wi)};P.render=function(a){this.render_(a)};var Xi="Component already rendered";P.render_=function(a,b){if(this.inDocument_)d(m(Xi));this.element_||this.createDom();a?a[cb](this.element_,b||j):this.dom_.document_[gb][za](this.element_);if(!this.parent_||this.parent_.inDocument_)this.enterDocument()};
P.decorate=function(a){if(this.inDocument_)d(m(Xi));else if(a&&this.canDecorate(a)){this.wasDecorated_=i;if(!this.dom_||this.dom_.document_!=Kf(a))this.dom_=Lf(a);this.decorateInternal(a);this.enterDocument()}else d(m("Invalid element to decorate"))};P.canDecorate=function(){return i};P.decorateInternal=function(a){this.element_=a};P.enterDocument=function(){this.inDocument_=i;this.forEachChild(function(a){!a.inDocument_&&a.getElement()&&a.enterDocument()})};
P.exitDocument=function(){this.forEachChild(function(a){a.inDocument_&&a.exitDocument()});this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll();this.inDocument_=k};
P.disposeInternal=function(){Fi.superClass_.disposeInternal[I](this);this.inDocument_&&this.exitDocument();if(this.googUiComponentHandler_){this.googUiComponentHandler_.dispose();delete this.googUiComponentHandler_}this.forEachChild(function(a){a.dispose()});!this.wasDecorated_&&this.element_&&fg(this.element_);this.parent_=this.model_=this.element_=this.childIndex_=this.children_=j};P.setModel=function(a){this.model_=a};P.addChild=function(a,b){this.addChildAt(a,this.getChildCount(),b)};
P.addChildAt=function(a,b,c){if(a.inDocument_&&(c||!this.inDocument_))d(m(Xi));if(b<0||b>this.getChildCount())d(m("Child component index out of bounds"));if(!this.childIndex_||!this.children_){this.childIndex_={};this.children_=[]}if(a.parent_==this){this.childIndex_[a.getId()]=a;Nc(this.children_,a)}else Xe(this.childIndex_,a.getId(),a);a.setParent(this);Rc(this.children_,b,0,a);if(a.inDocument_&&this.inDocument_&&a.parent_==this){c=this.getContentElement();c[cb](a.getElement(),c[Kb][b+1]||j)}else if(c){this.element_||
this.createDom();b=this.getChildAt(b+1);a.render_(this.getContentElement(),b?b.element_:j)}else this.inDocument_&&!a.inDocument_&&a.element_&&a.enterDocument()};P.getContentElement=function(){return this.element_};P.isRightToLeft=function(){if(this.rightToLeft_==j)this.rightToLeft_=oh(this.inDocument_?this.element_:this.dom_.document_[gb]);return this.rightToLeft_};P.setRightToLeft=function(a){if(this.inDocument_)d(m(Xi));this.rightToLeft_=a};
P.hasChildren=function(){return!!this.children_&&this.children_[t]!=0};P.getChildCount=function(){return this.children_?this.children_[t]:0};P.getChild=function(a){return this.childIndex_&&a?Ye(this.childIndex_,a)||j:j};P.getChildAt=function(a){return this.children_?this.children_[a]||j:j};P.forEachChild=function(a,b){this.children_&&Jc(this.children_,a,b)};P.indexOfChild=function(a){return this.children_&&a?Ic(this.children_,a):-1};
P.removeChild=function(a,b){if(a){var c=xc(a)?a:a.getId();a=this.getChild(c);if(c&&a){We(this.childIndex_,c);Nc(this.children_,a);if(b){a.exitDocument();a.element_&&fg(a.element_)}a.setParent(j)}}if(!a)d(m("Child is not in parent component"));return a};P.removeChildAt=function(a,b){return this[ib](this.getChildAt(a),b)};P.removeChildren=function(a){for(;this.hasChildren();)this.removeChildAt(0,a)};var Yi=function(){},Zi;jc(Yi);P=Yi[v];P.getAriaRole=function(){};P.createDom=function(a){return a.getDomHelper().createDom(Wi,this.getClassNames(a)[O](V),a.content_)};P.getContentElement=function(a){return a};var $i="7";P.enableClassName=function(a,b,c){if(a=a.getElement?a.getElement():a)if(X&&!If($i)){var e=this.getAppliedCombinedClassNames_(Ke(a),b);e[s](b);Gc(c?Le:Me,a)[Ib](j,e)}else c?Le(a,b):Me(a,b)};P.enableExtraClassName=function(a,b,c){this.enableClassName(a,b,c)};P.canDecorate=function(){return i};
P.decorate=function(a,b){b.id&&a.setId(b.id);var c=this.getContentElement(b);c&&c[K]?a.setContentInternal(c[K][Vb]?Oc(c[Kb]):c[K]):a.setContentInternal(j);var e=0,f=this.getCssClass(),g=this.getStructuralCssClass(),h=k,p=k;c=k;var r=Ke(b);Jc(r,function(w){if(!h&&w==f){h=i;if(g==f)p=i}else if(!p&&w==g)p=i;else e|=this.getStateFromClass(w)},this);a.setStateInternal(e);if(!h){r[s](f);if(g==f)p=i}p||r[s](g);(a=a.extraClassNames_)&&r[s][Ib](r,a);if(X&&!If($i)){var u=this.getAppliedCombinedClassNames_(r);
if(u[t]>0){r[s][Ib](r,u);c=i}}if(!h||!p||a||c)Je(b,r[O](V));return b};P.initializeDom=function(a){a.isRightToLeft()&&this.setRightToLeft(a.getElement(),i);a.isEnabled()&&this.setFocusable(a,a.isVisible())};P.setAriaRole=function(a){if(wf){var b=this.getAriaRole();b&&yg(a,b)}};P.setAllowTextSelection=function(a,b){Hh(a,!b,!X&&!vf)};var aj="-rtl";P.setRightToLeft=function(a,b){this.enableClassName(a,this.getStructuralCssClass()+aj,b)};
P.isFocusable=function(a){var b;if(a.isSupportedState(32)&&(b=a.getKeyEventTarget()))return qg(b);return k};P.setFocusable=function(a,b){var c;if(a.isSupportedState(32)&&(c=a.getKeyEventTarget())){if(!b&&a.isFocused()){try{c.blur()}catch(e){}a.isFocused()&&a.handleBlur(j)}qg(c)!=b&&sg(c,b)}};P.setVisible=function(a,b){Ah(a,b)};P.setState=function(a,b,c){var e=a.getElement();if(e){var f=this.getClassForState(b);f&&this.enableClassName(a,f,c);this.updateAriaState(e,b,c)}};
var bj="disabled",cj="pressed",dj="selected",ej="checked",fj="expanded";P.updateAriaState=function(a,b,c){if(wf){Zi||(Zi=bf(1,bj,4,cj,8,dj,16,ej,64,fj));(b=Zi[b])&&Ag(a,b,c)}};var gj="nodeType";P.setContent=function(a,b){var c=this.getContentElement(a);if(c){eg(c);if(b)if(xc(b))lg(c,b);else{function e(f){if(f){var g=Kf(c);c[za](xc(f)?g[Ya](f):f)}}if(uc(b))Jc(b,e);else vc(b)&&!(gj in b)?Jc(Oc(b),e):e(b)}}};P.getKeyEventTarget=function(a){return a.getElement()};var hj="goog-control";P.getCssClass=function(){return hj};
P.getStructuralCssClass=function(){return this.getCssClass()};P.getClassNames=function(a){var b=this.getCssClass(),c=[b],e=this.getStructuralCssClass();e!=b&&c[s](e);(b=this.getClassNamesForState(a.getState()))&&c[s][Ib](c,b);(a=a.extraClassNames_)&&c[s][Ib](c,a);X&&!If($i)&&c[s][Ib](c,this.getAppliedCombinedClassNames_(c));return c};var ij="_";
P.getAppliedCombinedClassNames_=function(a,b){var c=[];if(b)a=a[Va]([b]);Jc([],function(e){var f;a:{f=Gc(Mc,a);if(e[Gb])f=e[Gb](f,n);else if(Array[Gb])f=Array[Gb](e,f,n);else{for(var g=e[t],h=xc(e)?e[B](S):e,p=0;p<g;p++)if(p in h&&!f[I](n,h[p],p,e)){f=k;break a}f=i}}if(f&&(!b||Mc(e,b)))c[s](e[O](ij))});return c};P.getClassNamesForState=function(a){if(a){for(var b=[],c=1;a;c<<=1)if(a&c){b[s](this.getClassForState(c));a&=~c}return b}return j};
P.getClassForState=function(a){this.classByState_||this.createClassByStateMap_();return this.classByState_[a]};P.getStateFromClass=function(a){this.stateByClass_||this.createStateByClassMap_();a=ba(this.stateByClass_[a],10);return ia(a)?0:a};var jj="-disabled",kj="-hover",lj="-active",mj="-selected",nj="-checked",oj="-focused",pj="-open";P.createClassByStateMap_=function(){var a=this.getStructuralCssClass();this.classByState_=bf(1,a+jj,2,a+kj,4,a+lj,8,a+mj,16,a+nj,32,a+oj,64,a+pj)};
P.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_();var a;a=this.classByState_;var b={};for(var c in a)b[a[c]]=c;this.stateByClass_=a=b};var qj=function(){};R(qj,Yi);jc(qj);qj[v].createDom=function(a){return a.getDomHelper().createDom(Wi,this.getCssClass())};var rj="HR";qj[v].decorate=function(a,b){if(b[Lb]==rj){var c=b;b=this.createDom(a);c[Rb]&&c[Rb][cb](b,c);fg(c)}else Le(b,this.getCssClass());return b};qj[v].setContent=function(){};var sj="goog-menuseparator";qj[v].getCssClass=function(){return sj};var uj=function(a){for(var b;a;){b=Dc(a);if(b=tj[b])break;a=a.superClass_?a.superClass_[Wa]:j}if(b)return zc(b.getInstance)?b.getInstance():new b;return j},wj=function(a,b){if(!a)d(m("Invalid class name "+a));if(!zc(b))d(m("Invalid decorator function "+b));vj[a]=b},tj={},vj={};var xj="525",zj=function(a,b,c,e){if(!X&&!(xf&&If(xj)))return i;if(X&&!c&&(b==17||b==18))return k;if(X&&e&&b==a)return k;switch(a){case 13:return i;case 27:return!xf}return yj(a)},yj=function(a){if(a>=48&&a<=57)return i;if(a>=96&&a<=106)return i;if(a>=65&&a<=90)return i;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return i;default:return k}};var Aj=function(a){a&&this.attach(a)};R(Aj,Ci);P=Aj[v];P.element_=j;P.keyPressKey_=j;P.keyDownKey_=j;P.keyUpKey_=j;P.lastKey_=-1;P.keyCode_=-1;
var Bj={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Cj={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Dj={61:187,
59:186},Ej=X||xf&&If(xj);P=Aj[v];P.handleKeyDown_=function(a){if(Ej&&!zj(a[J],this.lastKey_,a.shiftKey,a.ctrlKey))this[Db](a);else this.keyCode_=wf&&a[J]in Dj?Dj[a[J]]:a[J]};P.handleKeyup_=function(){this.keyCode_=this.lastKey_=-1};
P.handleEvent=function(a){var b=a.event_,c,e;if(X&&a[L]==Ph){c=this.keyCode_;e=c!=13&&c!=27?b[J]:0}else if(xf&&a[L]==Ph){c=this.keyCode_;e=b[pb]>=0&&b[pb]<63232&&yj(c)?b[pb]:0}else if(vf){c=this.keyCode_;e=yj(c)?b[J]:0}else{c=b[J]||this.keyCode_;e=b[pb]||0;if(Ef&&e==63&&!c)c=191}var f=c,g=b.keyIdentifier;if(c)if(c>=63232&&c in Bj)f=Bj[c];else{if(c==25&&a.shiftKey)f=9}else if(g&&g in Cj)f=Cj[g];a=f==this.lastKey_;this.lastKey_=f;b=new Fj(f,e,a,b);try{this[eb](b)}finally{b.dispose()}};
var Gj="keydown",Hj="keyup";P.attach=function(a){this.keyUpKey_&&this[Fb]();this.element_=a;this.keyPressKey_=qi(this.element_,Ph,this);this.keyDownKey_=qi(this.element_,Gj,this.handleKeyDown_,k,this);this.keyUpKey_=qi(this.element_,Hj,this.handleKeyup_,k,this)};P.detach=function(){if(this.keyPressKey_){ui(this.keyPressKey_);ui(this.keyDownKey_);ui(this.keyUpKey_);this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=j}this.element_=j;this.lastKey_=-1};
P.disposeInternal=function(){Aj.superClass_.disposeInternal[I](this);this[Fb]()};var Ij="key",Fj=function(a,b,c,e){e&&this.init(e,n);sa(this,Ij);ra(this,a);this.charCode=b;this.repeat=c};R(Fj,Lh);var Jj=function(a,b,c){Fi[I](this,c);this.renderer_=b||uj(this[Wa]);this.setContentInternal(a)};R(Jj,Fi);P=Jj[v];P.content_=j;P.state_=0;P.supportedStates_=39;P.autoStates_=255;P.statesWithTransitionEvents_=0;P.visible_=i;P.extraClassNames_=j;P.handleMouseEvents_=i;P.allowTextSelection_=k;P.setHandleMouseEvents=function(a){this.inDocument_&&a!=this.handleMouseEvents_&&this.enableMouseEventHandling_(a);this.handleMouseEvents_=a};P.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)};
P.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new Aj)};P.addClassName=function(a){if(a){if(this.extraClassNames_)Mc(this.extraClassNames_,a)||this.extraClassNames_[s](a);else this.extraClassNames_=[a];this.renderer_.enableExtraClassName(this,a,i)}};P.removeClassName=function(a){if(a&&this.extraClassNames_){Nc(this.extraClassNames_,a);if(this.extraClassNames_[t]==0)this.extraClassNames_=j;this.renderer_.enableExtraClassName(this,a,k)}};
P.enableClassName=function(a,b){b?this.addClassName(a):this.removeClassName(a)};P.createDom=function(){var a=this.renderer_.createDom(this);this.setElementInternal(a);this.renderer_.setAriaRole(a);this.allowTextSelection_||this.renderer_.setAllowTextSelection(a,k);this.isVisible()||this.renderer_.setVisible(a,k)};P.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};P.canDecorate=function(a){return this.renderer_.canDecorate(a)};
P.decorateInternal=function(a){a=this.renderer_.decorate(this,a);this.setElementInternal(a);this.renderer_.setAriaRole(a);this.allowTextSelection_||this.renderer_.setAllowTextSelection(a,k);this.visible_=a[F].display!=vh};
P.enterDocument=function(){Jj.superClass_.enterDocument[I](this);this.renderer_.initializeDom(this);if(this.supportedStates_&-2){this.handleMouseEvents_&&this.enableMouseEventHandling_(i);if(this.isSupportedState(32)){var a=this.getKeyEventTarget();if(a){var b=this.getKeyHandler();b.attach(a);this.getHandler().listen(b,Ij,this.handleKeyEvent).listen(a,Qi,this.handleFocus).listen(a,Ri,this.handleBlur)}}}};var Kj="mousedown",Lj="mouseup",Mj="dblclick";
P.enableMouseEventHandling_=function(a){var b=this.getHandler(),c=this.getElement();if(a){b.listen(c,Nh,this.handleMouseOver).listen(c,Kj,this.handleMouseDown).listen(c,Lj,this.handleMouseUp).listen(c,Oh,this.handleMouseOut);X&&b.listen(c,Mj,this.handleDblClick)}else{b.unlisten(c,Nh,this.handleMouseOver).unlisten(c,Kj,this.handleMouseDown).unlisten(c,Lj,this.handleMouseUp).unlisten(c,Oh,this.handleMouseOut);X&&b.unlisten(c,Mj,this.handleDblClick)}};
P.exitDocument=function(){Jj.superClass_.exitDocument[I](this);this.keyHandler_&&this.keyHandler_[Fb]();this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,k)};P.disposeInternal=function(){Jj.superClass_.disposeInternal[I](this);if(this.keyHandler_){this.keyHandler_.dispose();delete this.keyHandler_}delete this.renderer_;this.extraClassNames_=this.content_=j};P.setContent=function(a){this.renderer_.setContent(this.getElement(),a);this.setContentInternal(a)};
P.setContentInternal=function(a){this.content_=a};P.getCaption=function(){var a=this.content_;if(!a||xc(a))return a;return(a=uc(a)?Kc(a,vg)[O](S):vg(a))&&Sc(a)};P.setRightToLeft=function(a){Jj.superClass_.setRightToLeft[I](this,a);var b=this.getElement();b&&this.renderer_.setRightToLeft(b,a)};P.setAllowTextSelection=function(a){this.allowTextSelection_=a;var b=this.getElement();b&&this.renderer_.setAllowTextSelection(b,a)};P.isVisible=function(){return this.visible_};var Nj="show",Oj="hide";
P.setVisible=function(a,b){if(b||this.visible_!=a&&this[eb](a?Nj:Oj)){(b=this.getElement())&&this.renderer_.setVisible(b,a);this.isEnabled()&&this.renderer_.setFocusable(this,a);this.visible_=a;return i}return k};P.isEnabled=function(){return!this.hasState(1)};P.isParentDisabled_=function(){var a=this.parent_;return!!a&&typeof a.isEnabled==Q&&!a.isEnabled()};
P.setEnabled=function(a){if(!this.isParentDisabled_()&&this.isTransitionAllowed(1,!a)){if(!a){this[Yb](k);this.setHighlighted(k)}this.isVisible()&&this.renderer_.setFocusable(this,a);this.setState(1,!a)}};P.setHighlighted=function(a){this.isTransitionAllowed(2,a)&&this.setState(2,a)};P.isActive=function(){return this.hasState(4)};P.setActive=function(a){this.isTransitionAllowed(4,a)&&this.setState(4,a)};P.setSelected=function(a){this.isTransitionAllowed(8,a)&&this.setState(8,a)};P.isChecked=function(){return this.hasState(16)};
P.setChecked=function(a){this.isTransitionAllowed(16,a)&&this.setState(16,a)};P.isFocused=function(){return this.hasState(32)};P.setFocused=function(a){this.isTransitionAllowed(32,a)&&this.setState(32,a)};P.isOpen=function(){return this.hasState(64)};P.setOpen=function(a){this.isTransitionAllowed(64,a)&&this.setState(64,a)};P.getState=function(){return this.state_};P.hasState=function(a){return!!(this.state_&a)};
P.setState=function(a,b){if(this.isSupportedState(a)&&b!=this.hasState(a)){this.renderer_.setState(this,a,b);this.state_=b?this.state_|a:this.state_&~a}};P.setStateInternal=function(a){this.state_=a};P.isSupportedState=function(a){return!!(this.supportedStates_&a)};P.setSupportedState=function(a,b){if(this.inDocument_&&this.hasState(a)&&!b)d(m(Xi));!b&&this.hasState(a)&&this.setState(a,k);this.supportedStates_=b?this.supportedStates_|a:this.supportedStates_&~a};
P.isAutoState=function(a){return!!(this.autoStates_&a)&&this.isSupportedState(a)};P.setAutoStates=function(a,b){this.autoStates_=b?this.autoStates_|a:this.autoStates_&~a};P.setDispatchTransitionEvents=function(a,b){this.statesWithTransitionEvents_=b?this.statesWithTransitionEvents_|a:this.statesWithTransitionEvents_&~a};P.isTransitionAllowed=function(a,b){return this.isSupportedState(a)&&this.hasState(a)!=b&&(!(this.statesWithTransitionEvents_&a)||this[eb](Ui(a,b)))&&!this.disposed_};var Pj="enter";
P.handleMouseOver=function(a){a[Ha]&&!jg(this.getElement(),a[Ha])&&this[eb](Pj)&&this.isEnabled()&&this.isAutoState(2)&&this.setHighlighted(i)};var Qj="leave";P.handleMouseOut=function(a){if(a[Ha]&&!jg(this.getElement(),a[Ha])&&this[eb](Qj)){this.isAutoState(4)&&this[Yb](k);this.isAutoState(2)&&this.setHighlighted(k)}};
P.handleMouseDown=function(a){if(this.isEnabled()){this.isAutoState(2)&&this.setHighlighted(i);if(a.isButton(0)){this.isAutoState(4)&&this[Yb](i);this.renderer_.isFocusable(this)&&this.getKeyEventTarget()[sb]()}}!this.allowTextSelection_&&a.isButton(0)&&a[bb]()};P.handleMouseUp=function(a){if(this.isEnabled()){this.isAutoState(2)&&this.setHighlighted(i);this.isActive()&&this.performActionInternal(a)&&this.isAutoState(4)&&this[Yb](k)}};P.handleDblClick=function(a){this.isEnabled()&&this.performActionInternal(a)};
var Rj="action",Sj="altKey",Tj="ctrlKey",Uj="metaKey",Vj="shiftKey";P.performActionInternal=function(a){this.isAutoState(16)&&this.setChecked(!this.isChecked());this.isAutoState(8)&&this.setSelected(i);this.isAutoState(64)&&this.setOpen(!this[ob]());var b=new Jh(Rj,this);if(a)for(var c=[Sj,Tj,Uj,Vj],e,f=0;e=c[f];f++)b[e]=a[e];return this[eb](b)};P.handleFocus=function(){this.isAutoState(32)&&this.setFocused(i)};P.handleBlur=function(){this.isAutoState(4)&&this[Yb](k);this.isAutoState(32)&&this.setFocused(k)};
P.handleKeyEvent=function(a){if(this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(a)){a[bb]();a[Za]();return i}return k};P.handleKeyEventInternal=function(a){return a[J]==13&&this.performActionInternal(a)};if(!zc(Jj))d(m("Invalid component class "+Jj));if(!zc(Yi))d(m("Invalid renderer class "+Yi));var Wj=Dc(Jj);tj[Wj]=Yi;wj(hj,function(){return new Jj(j)});var Xj=function(a,b){Jj[I](this,j,a||qj.getInstance(),b);this.setSupportedState(1,k);this.setSupportedState(2,k);this.setSupportedState(4,k);this.setSupportedState(32,k);this.setStateInternal(1)};R(Xj,Jj);var Yj="separator";Xj[v].enterDocument=function(){Xj.superClass_.enterDocument[I](this);yg(this.getElement(),Yj)};wj(sj,function(){return new Xj});var Zj=function(a){Xj[I](this,qj.getInstance(),a)};R(Zj,Xj);wj(sj,function(){return new Xj});var $j=function(){this.classNameCache_=[]};R($j,Yi);jc($j);P=$j[v];var ak="-highlight",ck="-checkbox",dk="-content";P.getCompositeCssClass_=function(a){var b=this.classNameCache_[a];if(!b){switch(a){case 0:b=this.getStructuralCssClass()+ak;break;case 1:b=this.getStructuralCssClass()+ck;break;case 2:b=this.getStructuralCssClass()+dk;break}this.classNameCache_[a]=b}return b};var ek="menuitem";P.getAriaRole=function(){return ek};
P.createDom=function(a){var b=a.getDomHelper().createDom(Wi,this.getClassNames(a)[O](V),this.createContent(a.content_,a.getDomHelper()));this.setEnableCheckBoxStructure(a,b,a.isSupportedState(8)||a.isSupportedState(16));return b};P.getContentElement=function(a){return a&&a[K]};var fk="goog-option";
P.decorate=function(a,b){this.hasContentStructure(b)||b[za](this.createContent(b[Kb],a.getDomHelper()));if(Mc(Ke(b),fk)){a.setCheckable(i);this.setCheckable(a,b,i)}return $j.superClass_.decorate[I](this,a,b)};P.setContent=function(a,b){var c=this.getContentElement(a),e=this.hasCheckBoxStructure(a)?c[K]:j;$j.superClass_.setContent[I](this,a,b);if(e&&!this.hasCheckBoxStructure(a))c[cb](e,c[K]||j)};
P.hasContentStructure=function(a){a=hg(a);var b=this.getCompositeCssClass_(2);return!!a&&a[Ia][D](b)!=-1};P.createContent=function(a,b){var c=this.getCompositeCssClass_(2);return b.createDom(Wi,c,a)};var gk="menuitemradio";P.setSelectable=function(a,b,c){if(b){yg(b,c?gk:this.getAriaRole());this.setEnableCheckBoxStructure(a,b,c)}};var hk="menuitemcheckbox";P.setCheckable=function(a,b,c){if(b){yg(b,c?hk:this.getAriaRole());this.setEnableCheckBoxStructure(a,b,c)}};
P.hasCheckBoxStructure=function(a){if(a=this.getContentElement(a)){a=a[K];var b=this.getCompositeCssClass_(1);return!!a&&!!a[Ia]&&a[Ia][D](b)!=-1}return k};P.setEnableCheckBoxStructure=function(a,b,c){if(c!=this.hasCheckBoxStructure(b)){c?Le(b,fk):Me(b,fk);b=this.getContentElement(b);if(c){c=this.getCompositeCssClass_(1);b[cb](a.getDomHelper().createDom(Wi,c),b[K]||j)}else b[ib](b[K])}};var ik="goog-option-selected";
P.getClassForState=function(a){switch(a){case 2:return this.getCompositeCssClass_(0);case 16:case 8:return ik;default:return $j.superClass_.getClassForState[I](this,a)}};P.getStateFromClass=function(a){var b=this.getCompositeCssClass_(0);switch(a){case ik:return 16;case b:return 2;default:return $j.superClass_.getStateFromClass[I](this,a)}};var jk="goog-menuitem";P.getCssClass=function(){return jk};var kk=function(a,b,c,e){Jj[I](this,a,e||$j.getInstance(),c);this.setValue(b)};R(kk,Jj);kk[v].getValue=function(){var a=this.model_;return a!=j?a:this.getCaption()};kk[v].setValue=function(a){this.setModel(a)};kk[v].setSelectable=function(a){this.setSupportedState(8,a);this.isChecked()&&!a&&this.setChecked(k);var b=this.getElement();b&&this.renderer_.setSelectable(this,b,a)};kk[v].setCheckable=function(a){this.setSupportedState(16,a);var b=this.getElement();b&&this.renderer_.setCheckable(this,b,a)};
wj(jk,function(){return new kk(j)});var lk=function(a,b,c){kk[I](this,a,b,c);this.setSelectable(i)};R(lk,kk);lk[v].performActionInternal=function(){return this[eb](Rj)};wj(fk,function(){return new lk(j)});var mk="HTML",nk="BODY",pk=function(a,b,c,e,f,g,h,p){var r,u=c.offsetParent;if(u){var w=u[Lb]==mk||u[Lb]==nk;if(!w||Yg(u,dh)!=gh){r=nh(u);w||(r=Qe(r,new W(u[xb],u[Aa])))}}u=zh(a);(w=ph(a))&&u.intersection(new Hg(w[G],w.top,w[dc]-w[G],w[zb]-w.top));w=u=u;var E=Lf(a),y=Lf(c);if(E.document_!=y.document_){var ga=E.document_[gb];y=y.getWindow();var Lc=new W(0,0),Ra;Ra=(Ra=Kf(ga))?Xf(Ra):o;var zd=ga;do{var bk=Ra==y?nh(zd):rh(zd);Lc.x+=bk.x;Lc.y+=bk.y}while(Ra&&Ra!=y&&(zd=Ra.frameElement)&&(Ra=Ra.parent));
y=Lc;y=Qe(y,nh(ga));if(X&&!E.isCss1CompatMode())y=Qe(y,E.getDocumentScroll());w.left+=y.x;w.top+=y.y}a=(b&4&&oh(a)?b^2:b)&-5;b=new W(a&2?u[G]+u[x]:u[G],a&1?u.top+u[M]:u.top);if(r)b=Qe(b,r);if(f){b.x+=(a&2?-1:1)*f.x;b.y+=(a&1?-1:1)*f.y}var kc;if(h)if((kc=ph(c))&&r){kc.top=q.max(0,kc.top-r.y);kc.right-=r.x;kc.bottom-=r.y;pa(kc,q.max(0,kc[G]-r.x))}return ok(b,c,e,g,kc,h,p)},ok=function(a,b,c,e,f,g,h){a=a.clone();var p=0;c=(c&4&&oh(b)?c^2:c)&-5;var r=yh(b);h=h?h.clone():r;if(e||c!=0){if(c&2)a.x-=h[x]+
(e?e[dc]:0);else if(e)a.x+=e[G];if(c&1)a.y-=h[M]+(e?e[zb]:0);else if(e)a.y+=e.top}if(g){p=f?qk(a,h,f,g):256;if(p&496)return p}ah(b,a);a=r==h?i:!r||!h?k:r[x]==h[x]&&r[M]==h[M];a||sh(b,h);return p},qk=function(a,b,c,e){var f=0;if(a.x<c[G]&&e&1){a.x=c[G];f|=1}if(a.x<c[G]&&a.x+b[x]>c[dc]&&e&16){b.width-=a.x+b[x]-c[dc];f|=4}if(a.x+b[x]>c[dc]&&e&1){a.x=q.max(c[dc]-b[x],c[G]);f|=1}if(e&2)f|=(a.x<c[G]?16:0)|(a.x+b[x]>c[dc]?32:0);if(a.y<c.top&&e&4){a.y=c.top;f|=2}if(a.y>=c.top&&a.y+b[M]>c[zb]&&e&32){b.height-=
a.y+b[M]-c[zb];f|=8}if(a.y+b[M]>c[zb]&&e&4){a.y=q.max(c[zb]-b[M],c.top);f|=2}if(e&8)f|=(a.y<c.top?64:0)|(a.y+b[M]>c[zb]?128:0);return f};var rk=function(){};rk[v].reposition=function(){};var sk=function(a,b){this.element=a;this.corner=b};R(sk,rk);sk[v].reposition=function(a,b,c){pk(this.element,this.corner,a,b,n,c)};var tk=function(a,b,c){sk[I](this,a,b);this.adjust_=c};R(tk,sk);tk[v].reposition=function(a,b,c,e){var f=pk(this.element,this.corner,a,b,j,c,10,e)&496;if(f)if(f=pk(this.element,b,a,this.corner,j,c,10,e)&496)this.adjust_?pk(this.element,this.corner,a,b,j,c,5,e):pk(this.element,this.corner,a,b,j,c,0,e)};var uk=function(a,b,c,e){tk[I](this,a,b,c);this.resize_=e};R(uk,tk);uk[v].reposition=function(a,b,c,e){this.resize_?pk(this.element,this.corner,a,b,j,c,33,e):uk.superClass_.reposition[I](this,a,b,c,e)};var wk=function(a,b){this.interval_=a||1;this.timerObject_=b||vk;this.boundTick_=Fc(this.tick_,this);this.last_=Hc()};R(wk,Ci);wk[v].enabled=k;var vk=fc.window;P=wk[v];P.timer_=j;P.tick_=function(){if(this.enabled){var a=Hc()-this.last_;if(a>0&&a<this.interval_*0.8)this.timer_=this.timerObject_[Na](this.boundTick_,this.interval_-a);else{this.dispatchTick_();if(this.enabled){this.timer_=this.timerObject_[Na](this.boundTick_,this.interval_);this.last_=Hc()}}}};var xk="tick";P.dispatchTick_=function(){this[eb](xk)};
P.start=function(){this.enabled=i;if(!this.timer_){this.timer_=this.timerObject_[Na](this.boundTick_,this.interval_);this.last_=Hc()}};P.stop=function(){this.enabled=k;if(this.timer_){this.timerObject_.clearTimeout(this.timer_);this.timer_=j}};P.disposeInternal=function(){wk.superClass_.disposeInternal[I](this);this.stop();delete this.timerObject_};var yk=function(a,b,c){if(zc(a)){if(c)a=Fc(a,c)}else if(a&&typeof a[Db]==Q)a=Fc(a[Db],a);else d(m($h));return b>2147483647?-1:vk[Na](a,b||0)};var zk=function(){};R(zk,Yi);jc(zk);P=zk[v];var Ak="button";P.getAriaRole=function(){return Ak};P.updateAriaState=function(a,b,c){if(wf)b==16?Ag(a,cj,c):zk.superClass_.updateAriaState[I](this,a,b,c)};P.createDom=function(a){var b=zk.superClass_.createDom[I](this,a),c=a.getTooltip();c&&this.setTooltip(b,c);(c=a.getValue())&&this.setValue(b,c);a.isSupportedState(16)&&this.updateAriaState(b,16,k);return b};
P.decorate=function(a,b){b=zk.superClass_.decorate[I](this,a,b);a.setValueInternal(this.getValue(b));a.setTooltipInternal(this.getTooltip(b));a.isSupportedState(16)&&this.updateAriaState(b,16,k);return b};P.getValue=ic;P.setValue=ic;P.getTooltip=function(a){return a.title};P.setTooltip=function(a,b){if(a)a.title=b||S};var Bk="goog-button";P.getCssClass=function(){return Bk};var Ck=function(){};R(Ck,zk);jc(Ck);P=Ck[v];P.getAriaRole=function(){};P.createDom=function(a){this.setUpNativeButton_(a);return a.getDomHelper().createDom(Ak,{"class":this.getClassNames(a)[O](V),disabled:!a.isEnabled(),title:a.getTooltip()||S,value:a.getValue()||S},a.getCaption()||S)};var Dk="BUTTON",Ek="INPUT",Fk="submit",Gk="reset";P.canDecorate=function(a){return a[Lb]==Dk||a[Lb]==Ek&&(a[L]==Ak||a[L]==Fk||a[L]==Gk)};
P.decorate=function(a,b){this.setUpNativeButton_(a);b.disabled&&Le(b,this.getClassForState(1));return Ck.superClass_.decorate[I](this,a,b)};P.initializeDom=function(a){a.getHandler().listen(a.getElement(),Qh,a.performActionInternal)};P.setAllowTextSelection=ic;P.setRightToLeft=ic;P.isFocusable=function(a){return a.isEnabled()};P.setFocusable=ic;P.setState=function(a,b,c){Ck.superClass_.setState[I](this,a,b,c);if((a=a.getElement())&&b==1)a.disabled=c};P.getValue=function(a){return a[ab]};
P.setValue=function(a,b){if(a)a.value=b};P.updateAriaState=ic;P.setUpNativeButton_=function(a){a.setHandleMouseEvents(k);a.setAutoStates(255,k);a.setSupportedState(32,k)};var Hk=function(a,b,c){Jj[I](this,a,b||Ck.getInstance(),c)};R(Hk,Jj);P=Hk[v];P.getValue=function(){return this.value_};P.setValue=function(a){this.value_=a;this.renderer_.setValue(this.getElement(),a)};P.setValueInternal=function(a){this.value_=a};P.getTooltip=function(){return this.tooltip_};P.setTooltip=function(a){this.tooltip_=a;this.renderer_.setTooltip(this.getElement(),a)};P.setTooltipInternal=function(a){this.tooltip_=a};
P.disposeInternal=function(){Hk.superClass_.disposeInternal[I](this);delete this.value_;delete this.tooltip_};P.enterDocument=function(){Hk.superClass_.enterDocument[I](this);if(this.isSupportedState(32)){var a=this.getKeyEventTarget();a&&this.getHandler().listen(a,Hj,this.handleKeyEventInternal)}};P.handleKeyEventInternal=function(a){if(a[J]==13&&a[L]==Ij||a[J]==32&&a[L]==Hj)return this.performActionInternal(a);return a[J]==32};wj(Bk,function(){return new Hk(j)});var Ik=function(){};jc(Ik);P=Ik[v];P.getAriaRole=function(){};P.hasTabIndex=function(a){if(a){var b=a.getAttributeNode(pg);if(b&&b.specified){a=a.tabIndex;return yc(a)&&a>=0}}return k};P.enableTabIndex=function(a,b){if(a)a.tabIndex=b?0:-1};P.createDom=function(a){return a.getDomHelper().createDom(Wi,this.getClassNames(a)[O](V))};P.getContentElement=function(a){return a};var Jk="DIV";P.canDecorate=function(a){return a[Lb]==Jk};
P.decorate=function(a,b){b.id&&a.setId(b.id);var c=this.getCssClass(),e=k,f=Ke(b);f&&Jc(f,function(g){if(g==c)e=i;else g&&this.setStateFromClassName(a,g,c)},this);e||Le(b,c);this.decorateChildren(a,b);return b};var Kk="-horizontal",Lk="horizontal",Mk="-vertical",Nk="vertical";P.setStateFromClassName=function(a,b,c){if(b==c+jj)a.setEnabled(k);else if(b==c+Kk)a.setOrientation(Lk);else b==c+Mk&&a.setOrientation(Nk)};
P.decorateChildren=function(a,b){if(b)for(var c=b[K],e;c&&c[Rb]==b;){e=c[Vb];if(c[Oa]==1){var f=this.getDecoratorForChild(c);if(f){f.setElementInternal(c);a.isEnabled()||f.setEnabled(k);a.addChild(f);f.decorate(c)}}else if(!c[Zb]||Sc(c[Zb])==S)b[ib](c);c=e}};P.getDecoratorForChild=function(a){a:{for(var b=Ke(a),c=0,e=b[t];c<e;c++)if(a=b[c]in vj?vj[b[c]]():j){a=a;break a}a=j}return a};P.initializeDom=function(a){a=a.getElement();Hh(a,i,wf);if(X)a.hideFocus=i;var b=this.getAriaRole();b&&yg(a,b)};
P.getKeyEventTarget=function(a){return a.getElement()};var Ok="goog-container";P.getCssClass=function(){return Ok};P.getClassNames=function(a){var b=this.getCssClass(),c=[b,a.orientation_==Lk?b+Kk:b+Mk];a.isEnabled()||c[s](b+jj);return c};var Pk=function(a,b,c){Fi[I](this,c);this.renderer_=b||Ik.getInstance();this.orientation_=a||Nk};R(Pk,Fi);P=Pk[v];P.keyEventTarget_=j;P.keyHandler_=j;P.renderer_=j;P.orientation_=j;P.visible_=i;P.enabled_=i;P.focusable_=i;P.highlightedIndex_=-1;P.openItem_=j;P.mouseButtonPressed_=k;P.allowFocusableChildren_=k;P.childElementIdMap_=j;P.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)};
P.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new Aj(this.getKeyEventTarget()))};P.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))};P.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};P.canDecorate=function(a){return this.renderer_.canDecorate(a)};P.decorateInternal=function(a){this.setElementInternal(this.renderer_.decorate(this,a));if(a[F].display==vh)this.visible_=k};
P.enterDocument=function(){Pk.superClass_.enterDocument[I](this);this.forEachChild(function(b){b.inDocument_&&this.registerChildId_(b)},this);var a=this.getElement();this.renderer_.initializeDom(this);this.setVisible(this.visible_,i);this.getHandler().listen(this,Pj,this.handleEnterItem).listen(this,Ii,this.handleHighlightItem).listen(this,Ji,this.handleUnHighlightItem).listen(this,Si,this.handleOpenItem).listen(this,Ti,this.handleCloseItem).listen(a,Kj,this.handleMouseDown).listen(Kf(a),Lj,this.handleDocumentMouseUp).listen(a,
[Kj,Lj,Nh,Oh],this.handleChildMouseEvents);this.isFocusable()&&this.enableFocusHandling_(i)};P.enableFocusHandling_=function(a){var b=this.getHandler(),c=this.getKeyEventTarget();a?b.listen(c,Qi,this.handleFocus).listen(c,Ri,this.handleBlur).listen(this.getKeyHandler(),Ij,this.handleKeyEvent):b.unlisten(c,Qi,this.handleFocus).unlisten(c,Ri,this.handleBlur).unlisten(this.getKeyHandler(),Ij,this.handleKeyEvent)};
P.exitDocument=function(){this.setHighlightedIndex(-1);this.openItem_&&this.openItem_.setOpen(k);this.mouseButtonPressed_=k;Pk.superClass_.exitDocument[I](this)};P.disposeInternal=function(){Pk.superClass_.disposeInternal[I](this);if(this.keyHandler_){this.keyHandler_.dispose();this.keyHandler_=j}this.renderer_=this.openItem_=this.childElementIdMap_=j};P.handleEnterItem=function(){return i};var Qk="activedescendant";
P.handleHighlightItem=function(a){var b=this.indexOfChild(a[H]);if(b>-1&&b!=this.highlightedIndex_){var c=this.getHighlighted();c&&c.setHighlighted(k);this.highlightedIndex_=b;c=this.getHighlighted();this.mouseButtonPressed_&&c[Yb](i);if(this.openItem_&&c!=this.openItem_)c.isSupportedState(64)?c.setOpen(i):this.openItem_.setOpen(k)}Ag(this.getElement(),Qk,a[H].getElement().id)};P.handleUnHighlightItem=function(a){if(a[H]==this.getHighlighted())this.highlightedIndex_=-1;Ag(this.getElement(),Qk,S)};
P.handleOpenItem=function(a){if((a=a[H])&&a!=this.openItem_&&a.parent_==this){this.openItem_&&this.openItem_.setOpen(k);this.openItem_=a}};P.handleCloseItem=function(a){if(a[H]==this.openItem_)this.openItem_=j};P.handleMouseDown=function(a){this.enabled_&&this.setMouseButtonPressed(i);var b=this.getKeyEventTarget();this.renderer_.hasTabIndex(b)?b[sb]():a[bb]()};P.handleDocumentMouseUp=function(){this.setMouseButtonPressed(k)};
P.handleChildMouseEvents=function(a){var b=this.getOwnerControl(a[H]);if(b)switch(a[L]){case Kj:b.handleMouseDown(a);break;case Lj:b.handleMouseUp(a);break;case Nh:b.handleMouseOver(a);break;case Oh:b.handleMouseOut(a);break}};P.getOwnerControl=function(a){if(this.childElementIdMap_)for(var b=this.getElement();a&&a[Rb]&&a!=b;){var c=a.id;if(c in this.childElementIdMap_)return this.childElementIdMap_[c];a=a[Rb]}return j};P.handleFocus=function(){};
P.handleBlur=function(){this.setHighlightedIndex(-1);this.setMouseButtonPressed(k);this.openItem_&&this.openItem_.setOpen(k)};P.handleKeyEvent=function(a){if(this.isEnabled()&&this.getChildCount()!=0&&this.handleKeyEventInternal(a)){a[bb]();a[Za]();return i}return k};
P.handleKeyEventInternal=function(a){var b=this.getHighlighted();if(b&&typeof b.handleKeyEvent==Q&&b.handleKeyEvent(a))return i;if(this.openItem_&&this.openItem_!=b&&typeof this.openItem_.handleKeyEvent==Q&&this.openItem_.handleKeyEvent(a))return i;switch(a[J]){case 27:if(this.isFocusable())this.getKeyEventTarget().blur();else return k;break;case 36:this.highlightFirst();break;case 35:this.highlightLast();break;case 38:if(this.orientation_==Nk)this.highlightPrevious();else return k;break;case 37:if(this.orientation_==
Lk)this.isRightToLeft()?this.highlightNext():this.highlightPrevious();else return k;break;case 40:if(this.orientation_==Nk)this.highlightNext();else return k;break;case 39:if(this.orientation_==Lk)this.isRightToLeft()?this.highlightPrevious():this.highlightNext();else return k;break;default:return k}return i};P.registerChildId_=function(a){var b=a.getElement();b=b.id||(b.id=a.getId());if(!this.childElementIdMap_)this.childElementIdMap_={};this.childElementIdMap_[b]=a};
P.addChild=function(a,b){Pk.superClass_.addChild[I](this,a,b)};P.addChildAt=function(a,b,c){a.setDispatchTransitionEvents(2,i);a.setDispatchTransitionEvents(64,i);if(this.isFocusable()||!this.allowFocusableChildren_)a.setSupportedState(32,k);a.setHandleMouseEvents(k);Pk.superClass_.addChildAt[I](this,a,b,c);c&&this.inDocument_&&this.registerChildId_(a);b<=this.highlightedIndex_&&this.highlightedIndex_++};
P.removeChild=function(a,b){var c=this.indexOfChild(a);if(c!=-1)if(c==this.highlightedIndex_)a.setHighlighted(k);else c<this.highlightedIndex_&&this.highlightedIndex_--;(c=a.getElement())&&c.id&&We(this.childElementIdMap_,c.id);a=Pk.superClass_[ib][I](this,a,b);a.setHandleMouseEvents(i);return a};P.setOrientation=function(a){if(this.getElement())d(m(Xi));this.orientation_=a};P.isVisible=function(){return this.visible_};var Rk="aftershow";
P.setVisible=function(a,b){if(b||this.visible_!=a&&this[eb](a?Nj:Oj)){this.visible_=a;var c=this.getElement();if(c){Ah(c,a);this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_);this.visible_&&!b&&this[eb](Rk)}return i}return k};P.isEnabled=function(){return this.enabled_};
P.setEnabled=function(a){if(this.enabled_!=a&&this[eb](a?Hi:Gi)){if(a){this.enabled_=i;this.forEachChild(function(b){if(b.wasDisabled)delete b.wasDisabled;else b.setEnabled(i)})}else{this.forEachChild(function(b){if(b.isEnabled())b.setEnabled(k);else b.wasDisabled=i});this.enabled_=k;this.setMouseButtonPressed(k)}this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),a&&this.visible_)}};P.isFocusable=function(){return this.focusable_};
P.setFocusable=function(a){a!=this.focusable_&&this.inDocument_&&this.enableFocusHandling_(a);this.focusable_=a;this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),a)};P.setHighlightedIndex=function(a){if(a=this.getChildAt(a))a.setHighlighted(i);else this.highlightedIndex_>-1&&this.getHighlighted().setHighlighted(k)};P.setHighlighted=function(a){this.setHighlightedIndex(this.indexOfChild(a))};P.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)};
P.highlightFirst=function(){this.highlightHelper(function(a,b){return(a+1)%b},this.getChildCount()-1)};P.highlightLast=function(){this.highlightHelper(function(a,b){a--;return a<0?b-1:a},0)};P.highlightNext=function(){this.highlightHelper(function(a,b){return(a+1)%b},this.highlightedIndex_)};P.highlightPrevious=function(){this.highlightHelper(function(a,b){a--;return a<0?b-1:a},this.highlightedIndex_)};
P.highlightHelper=function(a,b){b=b<0?this.indexOfChild(this.openItem_):b;var c=this.getChildCount();b=a(b,c);for(var e=0;e<=c;){var f=this.getChildAt(b);if(f&&this.canHighlightItem(f)){this.setHighlightedIndexFromKeyEvent(b);return i}e++;b=a(b,c)}return k};P.canHighlightItem=function(a){return a.isVisible()&&a.isEnabled()&&a.isSupportedState(2)};P.setHighlightedIndexFromKeyEvent=function(a){this.setHighlightedIndex(a)};P.setMouseButtonPressed=function(a){this.mouseButtonPressed_=a};var Sk=function(){};R(Sk,Ik);jc(Sk);P=Sk[v];var Tk="menu";P.getAriaRole=function(){return Tk};var Uk="UL";P.canDecorate=function(a){return a[Lb]==Uk||Sk.superClass_.canDecorate[I](this,a)};P.getDecoratorForChild=function(a){return a[Lb]==rj?new Xj:Sk.superClass_.getDecoratorForChild[I](this,a)};P.containsElement=function(a,b){return jg(a.getElement(),b)};var Vk="goog-menu";P.getCssClass=function(){return Vk};var Wk="haspopup",Xk="true";
P.initializeDom=function(a){Sk.superClass_.initializeDom[I](this,a);a=a.getElement();Ag(a,Wk,Xk)};var Yk=function(a,b){Pk[I](this,Nk,b||Sk.getInstance(),a);this.setFocusable(k)};R(Yk,Pk);P=Yk[v];P.allowAutoFocus_=i;P.allowHighlightDisabled_=k;P.getCssClass=function(){return this.renderer_.getCssClass()};P.containsElement=function(a){if(this.renderer_.containsElement(this,a))return i;for(var b=0,c=this.getChildCount();b<c;b++){var e=this.getChildAt(b);if(typeof e.containsElement==Q&&e.containsElement(a))return i}return k};P.addItem=function(a){this.addChild(a,i)};
P.addItemAt=function(a,b){this.addChildAt(a,b,i)};P.getItemAt=function(a){return this.getChildAt(a)};P.getItemCount=function(){return this.getChildCount()};P.setPosition=function(a,b){var c=this.isVisible();c||Ah(this.getElement(),i);var e=this.getElement();a=a;b=b;var f=nh(e);if(a instanceof W){b=a.y;a=a.x}ah(e,e.offsetLeft+(a-f.x),e.offsetTop+(b-f.y));c||Ah(this.getElement(),k)};P.setAllowAutoFocus=function(a){(this.allowAutoFocus_=a)&&this.setFocusable(i)};
P.setVisible=function(a,b){(b=Yk.superClass_.setVisible[I](this,a,b))&&a&&this.inDocument_&&this.allowAutoFocus_&&this.getKeyEventTarget()[sb]();return b};P.handleEnterItem=function(a){this.allowAutoFocus_&&this.getKeyEventTarget()[sb]();return Yk.superClass_.handleEnterItem[I](this,a)};P.canHighlightItem=function(a){return(this.allowHighlightDisabled_||a.isEnabled())&&a.isVisible()&&a.isSupportedState(2)};var Zk=function(){};R(Zk,zk);jc(Zk);P=Zk[v];var $k="goog-inline-block ";P.createDom=function(a){var b={"class":$k+this.getClassNames(a)[O](V),title:a.getTooltip()||S};return a.getDomHelper().createDom(Wi,b,this.createButton(a.content_,a.getDomHelper()))};P.getContentElement=function(a){return a&&a[K][K]};var al="-outer-box",bl="-inner-box";P.createButton=function(a,b){return b.createDom(Wi,$k+(this.getCssClass()+al),b.createDom(Wi,$k+(this.getCssClass()+bl),a))};
P.canDecorate=function(a){return a[Lb]==Jk};P.hasBoxStructure=function(a,b){if((b=a.getDomHelper().getFirstElementChild(b))&&b[Ia][D](this.getCssClass()+al)!=-1)if((a=a.getDomHelper().getFirstElementChild(b))&&a[Ia][D](this.getCssClass()+bl)!=-1)return i;return k};var cl="goog-inline-block";P.decorate=function(a,b){dl(b,i);dl(b,k);this.hasBoxStructure(a,b)||b[za](this.createButton(b[Kb],a.getDomHelper()));Le(b,cl,this.getCssClass());return Zk.superClass_.decorate[I](this,a,b)};var el="goog-custom-button";
P.getCssClass=function(){return el};var dl=function(a,b){if(a)for(var c=b?a[K]:a.lastChild,e;c&&c[Rb]==a;){e=b?c[Vb]:c.previousSibling;if(c[Oa]==3){var f=c[Zb];if(Sc(f)==S)a[ib](c);else{c.nodeValue=b?f[z](/^[\s\xa0]+/,S):f[z](/[\s\xa0]+$/,S);break}}else break;c=e}};var fl=function(){};R(fl,Zk);jc(fl);if(wf)fl[v].setContent=function(a,b){var c=fl.superClass_.getContentElement[I](this,a&&a[K]);c&&gg(this.createCaption(b,Lf(a)),c)};P=fl[v];P.getContentElement=function(a){a=fl.superClass_.getContentElement[I](this,a&&a[K]);if(wf&&a&&a.__goog_wrapper_div)a=a[K];return a};var gl="528",hl=".goog-menu";
P.decorate=function(a,b){var c,e,f,g;c=fa;e=b||c;if(e.querySelectorAll&&(!xf||Tf(c)||If(gl)))c=e.querySelectorAll(hl);else if(e.getElementsByClassName){var h=e.getElementsByClassName(Vk);c=h}else{h=e.getElementsByTagName(Eh);g={};for(e=f=0;c=h[e];e++){var p=c[Ia];if(typeof p[B]==Q&&Mc(p[B](V),Vk))g[f++]=c}ka(g,f);c=g}if(c=c[0]){Ah(c,k);Kf(c)[gb][za](c);e=new Yk;e.decorate(c);a.setMenu(e)}return fl.superClass_.decorate[I](this,a,b)};
P.createButton=function(a,b){return fl.superClass_.createButton[I](this,[this.createCaption(a,b),this.createDropdown(b)],b)};var il="-caption";P.createCaption=function(a,b){var c=this.getCssClass();return a=b.createDom(Wi,$k+(c+il),a)};var jl="-dropdown",kl="\u00a0";P.createDropdown=function(a){return a.createDom(Wi,$k+(this.getCssClass()+jl),kl)};var ll="goog-menu-button";P.getCssClass=function(){return ll};var ml=function(a,b,c,e){Hk[I](this,a,c||fl.getInstance(),e);this.setSupportedState(64,i);b&&this.setMenu(b);this.timer_=new wk(500)};R(ml,Hk);P=ml[v];P.alignToStart_=i;P.scrollOnOverflow_=k;P.isFocusablePopupMenu_=k;P.enterDocument=function(){ml.superClass_.enterDocument[I](this);this.menu_&&this.attachMenuEventListeners_(this.menu_,i);Ag(this.getElement(),Wk,Xk)};
P.exitDocument=function(){ml.superClass_.exitDocument[I](this);if(this.menu_){this.setOpen(k);this.menu_.exitDocument();this.attachMenuEventListeners_(this.menu_,k);var a=this.menu_.getElement();a&&fg(a)}};P.disposeInternal=function(){ml.superClass_.disposeInternal[I](this);if(this.menu_){this.menu_.dispose();delete this.menu_}this.timer_.dispose()};P.handleMouseDown=function(a){ml.superClass_.handleMouseDown[I](this,a);if(this.isActive()){this.setOpen(!this[ob]());this.menu_&&this.menu_.setMouseButtonPressed(this[ob]())}};
P.handleMouseUp=function(a){ml.superClass_.handleMouseUp[I](this,a);this.menu_&&!this.isActive()&&this.menu_.setMouseButtonPressed(k)};P.performActionInternal=function(){this[Yb](k);return i};P.handleDocumentMouseDown=function(a){this.menu_&&this.menu_.isVisible()&&!this.containsElement(a[H])&&this.setOpen(k)};P.containsElement=function(a){return a&&jg(this.getElement(),a)||this.menu_&&this.menu_.containsElement(a)||k};
P.handleKeyEventInternal=function(a){if(a[L]!=(a[J]==32?Hj:Ij))return k;if(this.menu_&&this.menu_.isVisible()){var b=this.menu_.handleKeyEvent(a);if(a[J]==27){this.setOpen(k);return i}return b}if(a[J]==40||a[J]==38||a[J]==32){this.setOpen(i);return i}return k};P.handleMenuAction=function(){this.setOpen(k)};P.handleMenuBlur=function(){this.isActive()||this.setOpen(k)};P.handleBlur=function(a){this.isFocusablePopupMenu_||this.setOpen(k);ml.superClass_.handleBlur[I](this,a)};
P.getMenu=function(){this.menu_||this.setMenu(new Yk(this.getDomHelper()));return this.menu_||j};P.setMenu=function(a){var b=this.menu_;if(a!=b){if(b){this.setOpen(k);this.inDocument_&&this.attachMenuEventListeners_(b,k);delete this.menu_}if(a){this.menu_=a;a.setParent(this);a.setVisible(k);a.setAllowAutoFocus(this.isFocusablePopupMenu_);this.inDocument_&&this.attachMenuEventListeners_(a,i)}}return b};P.addItem=function(a){this.getMenu().addChild(a,i)};
P.addItemAt=function(a,b){this.getMenu().addChildAt(a,b,i)};P.getItemAt=function(a){return this.menu_?this.menu_.getChildAt(a):j};P.getItemCount=function(){return this.menu_?this.menu_.getChildCount():0};P.setVisible=function(a,b){(a=ml.superClass_.setVisible[I](this,a,b))&&!this.isVisible()&&this.setOpen(k);return a};P.setEnabled=function(a){ml.superClass_.setEnabled[I](this,a);this.isEnabled()||this.setOpen(k)};
P.setOpen=function(a){ml.superClass_.setOpen[I](this,a);if(this.menu_&&this.hasState(64)==a){if(a){this.menu_.inDocument_||this.menu_.render();this.viewportBox_=ph(this.getElement());this.buttonRect_=zh(this.getElement());this.positionMenu();this.menu_.setHighlightedIndex(-1)}else{this[Yb](k);this.menu_.setMouseButtonPressed(k);if(this.originalSize_!=j){this.originalSize_=n;var b=this.menu_.getElement();b&&sh(b,S,S)}}this.menu_.setVisible(a);this.attachPopupListeners_(a)}};
P.positionMenu=function(){var a=this.alignToStart_?5:7;a=new uk(this.getElement(),a,!this.scrollOnOverflow_,this.scrollOnOverflow_);var b=this.menu_.getElement();if(!this.menu_.isVisible()){xa(b[F],wh);Ah(b,i)}if(!this.originalSize_&&this.scrollOnOverflow_)this.originalSize_=yh(b);a.reposition(b,this.alignToStart_?4:6,j,this.originalSize_);if(!this.menu_.isVisible()){Ah(b,k);xa(b[F],jh)}};
P.onTick_=function(){var a=zh(this.getElement()),b=ph(this.getElement()),c;c=this.buttonRect_;c=c==a?i:!c||!a?k:c[G]==a[G]&&c[x]==a[x]&&c.top==a.top&&c[M]==a[M];if(!c||!Gg(this.viewportBox_,b)){this.buttonRect_=a;this.viewportBox_=b;this.positionMenu()}};P.attachMenuEventListeners_=function(a,b){var c=this.getHandler();b=b?c.listen:c.unlisten;b[I](c,a,Rj,this.handleMenuAction);b[I](c,a,Ii,this.handleHighlightItem);b[I](c,a,Ji,this.handleUnHighlightItem)};
P.handleHighlightItem=function(a){Ag(this.getElement(),Qk,a[H].getElement().id)};P.handleUnHighlightItem=function(){this.menu_.getHighlighted()||Ag(this.getElement(),Qk,S)};P.attachPopupListeners_=function(a){var b=this.getHandler(),c=a?b.listen:b.unlisten;c[I](b,this.getDomHelper().document_,Kj,this.handleDocumentMouseDown,i);this.isFocusablePopupMenu_&&c[I](b,this.menu_,Ri,this.handleMenuBlur);c[I](b,this.timer_,xk,this.onTick_);a?this.timer_.start():this.timer_.stop()};wj(ll,function(){return new ml(j)});var nl=function(a){this.items_=[];this.addItems(a)};R(nl,Ci);P=nl[v];P.selectedItem_=j;P.selectionHandler_=j;P.getItemCount=function(){return this.items_[t]};P.indexOfItem=function(a){return a?Ic(this.items_,a):-1};P.getItemAt=function(a){return this.items_[a]||j};P.addItems=function(a){if(a){Jc(a,function(b){this.selectItem_(b,k)},this);Pc(this.items_,a)}};P.addItem=function(a){this.addItemAt(a,this.getItemCount())};P.addItemAt=function(a,b){if(a){this.selectItem_(a,k);Rc(this.items_,b,0,a)}};
P.getSelectedItem=function(){return this.selectedItem_};P.setSelectedItem=function(a){if(a!=this.selectedItem_){this.selectItem_(this.selectedItem_,k);this.selectedItem_=a;this.selectItem_(a,i)}this[eb](Mi)};P.getSelectedIndex=function(){return this.indexOfItem(this.selectedItem_)};P.setSelectedIndex=function(a){this.setSelectedItem(this.getItemAt(a))};ua(P,function(){var a=this.items_;if(!uc(a))for(var b=a[t]-1;b>=0;b--)delete a[b];ka(a,0);this.selectedItem_=j});
P.disposeInternal=function(){nl.superClass_.disposeInternal[I](this);delete this.items_;this.selectedItem_=j};P.selectItem_=function(a,b){if(a)if(typeof this.selectionHandler_==Q)this.selectionHandler_(a,b);else typeof a.setSelected==Q&&a.setSelected(b)};var ol=function(a,b,c,e){ml[I](this,a,b,c,e);this.setDefaultCaption(a)};R(ol,ml);P=ol[v];P.selectionModel_=j;P.defaultCaption_=j;P.enterDocument=function(){ol.superClass_.enterDocument[I](this);this.updateCaption_()};P.decorateInternal=function(a){ol.superClass_.decorateInternal[I](this,a);(a=this.getCaption())?this.setDefaultCaption(a):this.setSelectedIndex(0)};
P.disposeInternal=function(){ol.superClass_.disposeInternal[I](this);if(this.selectionModel_){this.selectionModel_.dispose();this.selectionModel_=j}this.defaultCaption_=j};P.handleMenuAction=function(a){this.setSelectedItem(a[H]);ol.superClass_.handleMenuAction[I](this,a);a[Za]();this[eb](Rj)};P.handleSelectionChange=function(){var a=this.getSelectedItem();ol.superClass_.setValue[I](this,a&&a.getValue());this.updateCaption_()};
P.setMenu=function(a){var b=ol.superClass_.setMenu[I](this,a);if(a!=b){this.selectionModel_&&this.selectionModel_[Jb]();if(a)this.selectionModel_?a.forEachChild(function(c){this.selectionModel_.addItem(c)},this):this.createSelectionModel_(a)}return b};P.setDefaultCaption=function(a){this.defaultCaption_=a;this.updateCaption_()};P.addItem=function(a){ol.superClass_.addItem[I](this,a);this.selectionModel_?this.selectionModel_.addItem(a):this.createSelectionModel_(this.getMenu())};
P.addItemAt=function(a,b){ol.superClass_.addItemAt[I](this,a,b);this.selectionModel_?this.selectionModel_.addItemAt(a,b):this.createSelectionModel_(this.getMenu())};P.setSelectedItem=function(a){this.selectionModel_&&this.selectionModel_.setSelectedItem(a)};P.setSelectedIndex=function(a){this.selectionModel_&&this.setSelectedItem(this.selectionModel_.getItemAt(a))};
P.setValue=function(a){if(a!=j&&this.selectionModel_)for(var b=0,c;c=this.selectionModel_.getItemAt(b);b++)if(c&&typeof c.getValue==Q&&c.getValue()==a){this.setSelectedItem(c);return}this.setSelectedItem(j)};P.getSelectedItem=function(){return this.selectionModel_?this.selectionModel_.getSelectedItem():j};P.getSelectedIndex=function(){return this.selectionModel_?this.selectionModel_.getSelectedIndex():-1};
P.createSelectionModel_=function(a){this.selectionModel_=new nl;a&&a.forEachChild(function(b){this.selectionModel_.addItem(b)},this);this.getHandler().listen(this.selectionModel_,Mi,this.handleSelectionChange)};P.updateCaption_=function(){var a=this.getSelectedItem();this.setContent(a?a.getCaption():this.defaultCaption_)};P.setOpen=function(a){ol.superClass_.setOpen[I](this,a);this[ob]()&&this.getMenu().setHighlightedIndex(this.getSelectedIndex())};wj("goog-select",function(){return new ol(j)});var pl=function(a,b){this.coordinate=a instanceof W?a:new W(a,b)};R(pl,rk);pl[v].reposition=function(a,b,c,e){pk(bh(a),0,a,b,this.coordinate,c,j,e)};var ql="StopIteration"in fc?fc.StopIteration:m("StopIteration"),rl=function(){};rl[v].next=function(){d(ql)};rl[v].__iterator__=function(){return this};var sl=function(a){if(typeof a.getValues==Q)return a.getValues();if(xc(a))return a[B](S);if(vc(a)){for(var b=[],c=a[t],e=0;e<c;e++)b[s](a[e]);return b}return Ue(a)},tl=function(a,b,c){if(typeof a[vb]==Q)a[vb](b,c);else if(vc(a)||xc(a))Jc(a,b,c);else{var e;if(typeof a.getKeys==Q)e=a.getKeys();else if(typeof a.getValues!=Q)if(vc(a)||xc(a)){e=[];for(var f=a[t],g=0;g<f;g++)e[s](g);e=e}else e=Ve(a);else e=void 0;f=sl(a);g=f[t];for(var h=0;h<g;h++)b[I](c,f[h],e&&e[h],a)}};var ul=function(a){this.map_={};this.keys_=[];var b=arguments[t];if(b>1){if(b%2)d(m(af));for(var c=0;c<b;c+=2)this.set(arguments[c],arguments[c+1])}else a&&this.addAll(a)};P=ul[v];P.count_=0;P.version_=0;P.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_[t];b++)a[s](this.map_[this.keys_[b]]);return a};P.getKeys=function(){this.cleanupKeysArray_();return this.keys_[Va]()};P.containsKey=function(a){return vl(this.map_,a)};
ua(P,function(){this.map_={};ka(this.keys_,0);this.version_=this.count_=0});P.remove=function(a){if(vl(this.map_,a)){delete this.map_[a];this.count_--;this.version_++;this.keys_[t]>2*this.count_&&this.cleanupKeysArray_();return i}return k};
P.cleanupKeysArray_=function(){if(this.count_!=this.keys_[t]){for(var a=0,b=0;a<this.keys_[t];){var c=this.keys_[a];if(vl(this.map_,c))this.keys_[b++]=c;a++}ka(this.keys_,b)}if(this.count_!=this.keys_[t]){var e={};for(b=a=0;a<this.keys_[t];){c=this.keys_[a];if(!vl(e,c)){this.keys_[b++]=c;e[c]=1}a++}ka(this.keys_,b)}};P.get=function(a,b){if(vl(this.map_,a))return this.map_[a];return b};P.set=function(a,b){if(!vl(this.map_,a)){this.count_++;this.keys_[s](a);this.version_++}this.map_[a]=b};
P.addAll=function(a){var b;if(a instanceof ul){b=a.getKeys();a=a.getValues()}else{b=Ve(a);a=Ue(a)}for(var c=0;c<b[t];c++)this.set(b[c],a[c])};P.clone=function(){return new ul(this)};P.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.keys_,e=this.map_,f=this.version_,g=this,h=new rl;h.next=function(){for(;1;){if(f!=g.version_)d(m("The map has changed since the iterator was created"));if(b>=c[t])d(ql);var p=c[b++];return a?p:e[p]}};return h};
var vl=function(a,b){return ea[v][db][I](a,b)};var wl=function(a){this.map_=new ul;a&&this.addAll(a)},xl="o",yl=function(a){var b=typeof a;return b==lc&&a||b==Q?xl+Dc(a):b.substr(0,1)+a};P=wl[v];P.add=function(a){this.map_.set(yl(a),a)};P.addAll=function(a){a=sl(a);for(var b=a[t],c=0;c<b;c++)this.add(a[c])};P.removeAll=function(a){a=sl(a);for(var b=a[t],c=0;c<b;c++)this[rb](a[c])};P.remove=function(a){return this.map_[rb](yl(a))};ua(P,function(){this.map_[Jb]()});ta(P,function(a){return this.map_.containsKey(yl(a))});
P.intersection=function(a){var b=new wl;a=sl(a);for(var c=0;c<a[t];c++){var e=a[c];this[Hb](e)&&b.add(e)}return b};P.getValues=function(){return this.map_.getValues()};P.clone=function(){return new wl(this)};P.__iterator__=function(){return this.map_.__iterator__(k)};var zl=function(a,b){this.handler_=new Ai(this);this.setElement(a||j);b&&this.setType(b)};R(zl,Ci);P=zl[v];P.element_=j;P.autoHide_=i;P.autoHideRegion_=j;P.isVisible_=k;P.shouldHideAsync_=k;P.lastShowTime_=-1;P.lastHideTime_=-1;P.hideOnEscape_=k;P.enableCrossIframeDismissal_=i;var Al="toggle_display";P.type_=Al;P.getType=function(){return this.type_};P.setType=function(a){this.type_=a};P.getElement=function(){return this.element_};P.setElement=function(a){this.ensureNotVisible_();this.element_=a};
P.ensureNotVisible_=function(){if(this.isVisible_)d(m("Can not change this state of the popup while showing."))};P.isVisible=function(){return this.isVisible_};P.setVisible=function(a){a?this.show_():this.hide_()};P.reposition=function(){};var Bl="IFRAME",Cl="move_offscreen";
P.show_=function(){if(!this.isVisible_)if(this.onBeforeShow()){if(!this.element_)d(m("Caller must call setElement before trying to show the popup"));this.reposition();var a=Kf(this.element_);this.hideOnEscape_&&this.handler_.listen(a,Gj,this.onDocumentKeyDown_,i);if(this.autoHide_){this.handler_.listen(a,Kj,this.onDocumentMouseDown_,i);if(X){for(var b=a.activeElement;b&&b[fb]==Bl;){try{var c,e=n;c=e=xf?b[Pa]||b.contentWindow[Pa]:b.contentDocument||b.contentWindow[Pa]}catch(f){break}a=c;b=a.activeElement}this.handler_.listen(a,
Kj,this.onDocumentMouseDown_,i);this.handler_.listen(a,Li,this.onDocumentBlur_)}else this.handler_.listen(a,Ri,this.onDocumentBlur_)}if(this.type_==Al)this.showPopupElement();else this.type_==Cl&&this.reposition();this.isVisible_=i;this.onShow_()}};
P.hide_=function(a){if(!this.isVisible_||!this.onBeforeHide_(a))return k;this.handler_&&this.handler_.removeAll();if(this.type_==Al)this.shouldHideAsync_?yk(this.hidePopupElement_,0,this):this.hidePopupElement_();else this.type_==Cl&&this.moveOffscreen_();this.isVisible_=k;this.onHide_(a);return i};P.showPopupElement=function(){xa(this.element_[F],jh);Ah(this.element_,i)};P.hidePopupElement_=function(){xa(this.element_[F],wh);Ah(this.element_,k)};var Dl="-200px";
P.moveOffscreen_=function(){pa(this.element_[F],Dl);this.element_[F].top=Dl};var El="beforeshow";P.onBeforeShow=function(){return this[eb](El)};P.onShow_=function(){this.lastShowTime_=Hc();this.lastHideTime_=-1;this[eb](Nj)};var Fl="beforehide";P.onBeforeHide_=function(a){return this[eb]({type:Fl,target:a})};P.onHide_=function(a){this.lastHideTime_=Hc();this[eb]({type:Oj,target:a})};
P.onDocumentMouseDown_=function(a){a=a[H];if(!jg(this.element_,a)&&(!this.autoHideRegion_||jg(this.autoHideRegion_,a))&&!this.shouldDebounce_())this.hide_(a)};P.onDocumentKeyDown_=function(a){if(a[J]==27)if(this.hide_(a[H])){a[bb]();a[Za]()}};P.onDocumentBlur_=function(a){if(this.enableCrossIframeDismissal_){var b=Kf(this.element_);if(X||vf){if((a=b.activeElement)&&jg(this.element_,a))return}else if(a[H]!=b)return;this.shouldDebounce_()||this.hide_()}};
P.shouldDebounce_=function(){return Hc()-this.lastShowTime_<150};P.disposeInternal=function(){zl.superClass_.disposeInternal[I](this);this.handler_.dispose();delete this.element_;delete this.handler_};var Gl=function(a,b){this.popupCorner_=4;this.position_=b||n;zl[I](this,a)};R(Gl,zl);Gl[v].setPosition=function(a){this.position_=a||n;this.isVisible()&&this.reposition()};Gl[v].reposition=function(){if(this.position_){var a=!this.isVisible()&&this.getType()!=Cl,b=this.getElement();if(a){xa(b[F],wh);Ah(b,i)}this.position_.reposition(b,this.popupCorner_,this.margin_);a&&Ah(b,k)}};var Hl="position:absolute;display:none;",Il=function(a,b,c){this.dom_=c||(a?Lf(Y(a)):Lf());Gl[I](this,this.dom_.createDom(Wi,{style:Hl}));this.cursorPosition=new W(1,1);this.activeEl_=j;this.elements_=new wl;a&&this.attach(a);b!=j&&this.setText(b)};R(Il,Gl);var Jl=[];P=Il[v];la(P,"goog-tooltip");P.showDelayMs_=500;P.hideDelayMs_=0;P.getDomHelper=function(){return this.dom_};var Kl="mousemove";
P.attach=function(a){a=Y(a);this.elements_.add(a);qi(a,Nh,this.handleMouseOver,k,this);qi(a,Oh,this.handleMouseOutAndBlur,k,this);qi(a,Kl,this.handleMouseMove,k,this);qi(a,Qi,this.handleFocus,k,this);qi(a,Ri,this.handleMouseOutAndBlur,k,this)};P.detach=function(a){if(a){a=Y(a);this.detachElement_(a);this.elements_[rb](a)}else{for(var b=this.elements_.getValues(),c=0;a=b[c];c++)this.detachElement_(a);this.elements_[Jb]()}};
P.detachElement_=function(a){si(a,Nh,this.handleMouseOver,k,this);si(a,Oh,this.handleMouseOutAndBlur,k,this);si(a,Kl,this.handleMouseMove,k,this);si(a,Qi,this.handleFocus,k,this);si(a,Ri,this.handleMouseOutAndBlur,k,this)};P.setShowDelayMs=function(a){this.showDelayMs_=a};P.setHideDelayMs=function(a){this.hideDelayMs_=a};P.setText=function(a){lg(this.getElement(),a)};P.setHtml=function(a){na(this.getElement(),a)};
P.setElement=function(a){var b=this.getElement();b&&fg(b);Il.superClass_.setElement[I](this,a);a&&dg(this.dom_.document_[gb],a)};P.getState=function(){return this.showTimer?this.isVisible()?4:1:this.hideTimer?3:this.isVisible()?2:0};
P.onBeforeShow=function(){if(!zl[v].onBeforeShow[I](this))return k;if(this.anchor)for(var a,b=0;a=Jl[b];b++)jg(a.getElement(),this.anchor)||a.setVisible(k);Mc(Jl,this)||Jl[s](this);a=this.getElement();la(a,this[Ia]);this.clearHideTimer_();qi(a,Nh,this.handleTooltipMouseOver,k,this);qi(a,Oh,this.handleTooltipMouseOut,k,this);this.clearShowTimer();return i};
P.onHide_=function(){Nc(Jl,this);for(var a=this.getElement(),b,c=0;b=Jl[c];c++)b.anchor&&jg(a,b.anchor)&&b.setVisible(k);this.parentTooltip_&&this.parentTooltip_.startHideTimer_();si(a,Nh,this.handleTooltipMouseOver,k,this);si(a,Oh,this.handleTooltipMouseOut,k,this);this.anchor=n;if(this.getState()==0)this.seenInteraction_=k;zl[v].onHide_[I](this)};
P.maybeShow=function(a,b){if(this.anchor==a)if(this.seenInteraction_||!this.requireInteraction_){this.setVisible(k);this.isVisible()||this.positionAndShow_(a,b)}else this.anchor=n;this.showTimer=n};P.positionAndShow_=function(a,b){if(b)b=b;else{b=new W(this.cursorPosition.x,this.cursorPosition.y);b=new Ll(b)}this.anchor=a;this.setPosition(b);this.setVisible(i)};
P.maybeHide=function(a){this.hideTimer=n;if(a==this.anchor)if((this.activeEl_==j||this.activeEl_!=this.getElement()&&!this.elements_[Hb](this.activeEl_))&&!this.hasActiveChild())this.setVisible(k)};P.hasActiveChild=function(){return!!(this.childTooltip_&&this.childTooltip_.activeEl_)};P.handleMouseOver=function(a){this.activeEl_=a=this.getAnchorFromElement(a[H]);this.clearHideTimer_();if(a!=this.anchor){this.anchor=a;this.startShowTimer(a);this.checkForParentTooltip_()}};
P.getAnchorFromElement=function(a){try{for(;a&&!this.elements_[Hb](a);)a=a[Rb];return a}catch(b){return j}};P.handleMouseMove=function(a){var b=this.dom_.getDocumentScroll();this.cursorPosition.x=a[ac]+b.x;this.cursorPosition.y=a[bc]+b.y;this.seenInteraction_=i};P.handleFocus=function(a){this.activeEl_=a=this.getAnchorFromElement(a[H]);this.seenInteraction_=i;if(this.anchor!=a){this.anchor=a;var b=new Ml(this.activeEl_);this.clearHideTimer_();this.startShowTimer(a,b);this.checkForParentTooltip_()}};
P.checkForParentTooltip_=function(){if(this.anchor)for(var a,b=0;a=Jl[b];b++)if(jg(a.getElement(),this.anchor)){a.childTooltip_=this;this.parentTooltip_=a}};P.handleMouseOutAndBlur=function(a){var b=this.getAnchorFromElement(a[H]),c=this.getAnchorFromElement(a[Ha]);if(b!=c){if(b==this.activeEl_)this.activeEl_=j;this.clearShowTimer();this.seenInteraction_=k;if(this.isVisible()&&(!a[Ha]||!jg(this.getElement(),a[Ha])))this.startHideTimer_();else this.anchor=n}};
P.handleTooltipMouseOver=function(){var a=this.getElement();if(this.activeEl_!=a){this.clearHideTimer_();this.activeEl_=a}};P.handleTooltipMouseOut=function(a){var b=this.getElement();if(this.activeEl_==b&&(!a[Ha]||!jg(b,a[Ha]))){this.activeEl_=j;this.startHideTimer_()}};P.startShowTimer=function(a,b){if(!this.showTimer)this.showTimer=yk(Fc(this.maybeShow,this,a,b),this.showDelayMs_)};P.clearShowTimer=function(){if(this.showTimer){vk.clearTimeout(this.showTimer);this.showTimer=n}};
P.startHideTimer_=function(){if(this.getState()==2)this.hideTimer=yk(Fc(this.maybeHide,this,this.anchor),this.hideDelayMs_)};P.clearHideTimer_=function(){if(this.hideTimer){vk.clearTimeout(this.hideTimer);this.hideTimer=n}};P.disposeInternal=function(){this.setVisible(k);this.clearShowTimer();this[Fb]();this.getElement()&&fg(this.getElement());this.activeEl_=j;delete this.dom_;Il.superClass_.disposeInternal[I](this)};var Ll=function(a,b){pl[I](this,a,b)};R(Ll,pl);
Ll[v].reposition=function(a,b,c){b=bh(a);b=ph(b);c=c?new Bg(c.top+10,c[dc],c[zb],c[G]+10):new Bg(10,0,0,10);ok(this.coordinate,a,4,c,b,9)&496&&ok(this.coordinate,a,4,c,b,5)};var Ml=function(a){sk[I](this,a,3)};R(Ml,sk);Ml[v].reposition=function(a,b,c){var e=new W(10,0);pk(this.element,this.corner,a,b,e,c,9)&496&&pk(this.element,2,a,1,e,c,5)};var Nl="StatsResponseError",Ol="Unable to retrieve stats value.",Pl=function(a){this.name=Nl;this.message=Ol;this.response=a},Ql="ChartResponseError",Rl="Unable to retrieve chart values.",Sl=function(a){this.name=Ql;this.message=Rl;this.response=a},Tl="errors",Ul=function(a){var b={};if(Tl in a&&a.errors[t]>0){b.responseCode=500;b.errors=a.errors}else if(a[A]){b.responseCode=200;b.rc=a.rc;b.data=a[A];if(a[A].responseCode)if(a[A].responseCode>0)b.responseCode=a[A].responseCode}else{b.responseCode=
500;b.rc=a.rc;b.oauthApprovalUrl=a.oauthApprovalUrl;b.oauthError=a.oauthError;b.oauthErrorText=a.oauthErrorText;b.errors=a.oauthErrorText}return b},Vl="money_format",Xl=function(a,b){var c=2;if(b>=0)c=b;a=Wl(a,c);return Z(Vl,{CURRENCY:ue(),AMOUNT:a})},Yl="decimal_separator",Wl=function(a,b){if(a[Wa]==Array){var c=[];for(var e in a)c[s](Wl(a[e],b));return c}c=a<0?Ed:S;a=q.abs(a);if(b>0){e=q.pow(10,b);var f=q[La](a*e);a=q[Ta](f/e);e=S+(f+e);b=e[Bb](e[t]-b);if(a==0&&0+b==0)c=S;return c+a+(ge?me(Yl)||
gc:gc)+b}else{e=q.pow(10,-b);f=q[La](a/e);if(f==0)c=S;return c+f*e}},Zl=function(a,b){if(a[Wa]!=Array)return Zl([a],b)[0];b=b<1?1:b;var c=$l(a)||1;c=q[Ta](q.log(c)/q.log(10))+1;return Wl(a,b-c)},$l=function(a){for(var b=0,c=0;c<a[t];c++)b=q.max(b,q.abs(a[c]));return b},am="google",bm="http://www.google.com/powermeter",cm=function(a,b,c){var e={AUTHORIZATION:l.io.AuthorizationType.OAUTH,CONTENT_TYPE:l.io.ContentType.JSON,OAUTH_SERVICE_NAME:am,METHOD:l.io.MethodType.GET};if(c&&c>-1)e[l.io.RequestParameters.REFRESH_INTERVAL]=
c;l.io.makeRequest(bm+a,b,e)},dm=function(a){return a!=j&&!ia(a)},em=function(a){va(a[F],S)},fm=function(a){va(a[F],vh)},gm="home",hm=function(a){var b=l[Ga].getSupportedViews(),c=l[Ga].getCurrentView().getName();c[$b]()==se||c[$b]()==gm?l[Ga].requestNavigateTo(b.canvas,a):l[Ga].requestNavigateTo(b.home,a)},im=function(a,b){var c={};for(var e in a)c[e]=a[e];for(e in b)c[e]=b[e];return c},jm=function(a,b){for(var c=0;c<b[t];c++)if(b[c]==a)return c;b[s](a);return b[t]-1},km=function(a){a=new Il(Y(a));
a.setShowDelayMs(200);a.setHideDelayMs(200);return a},lm="=",mm=function(a){var b=S;for(var c in a)b+=c+lm+aa(a[c])+Zc;return b},Z=me;var nm=function(a){this.requestUnit_=a;this.displayUnits_=[]};nm[v].getRequestUnit=function(){return this.requestUnit_};nm[v].addDisplayUnit=function(a,b,c){c!=n?this.displayUnits_[s]({symbol:a,exponent:b,threshold:c}):this.displayUnits_[s]({symbol:a,exponent:b});this.displayUnits_=this.displayUnits_.sort(function(e,f){return f.exponent-e.exponent})};
nm[v].getDisplayUnit=function(a){var b;for(var c in this.displayUnits_){b=this.displayUnits_[c];var e=b.threshold||q.pow(10,b.exponent);if(q.abs(a/e)>=1)break}return b};nm[v].formatQuantity=function(a,b){if(a[Wa]!=Array)return this.formatQuantity([a],b)[0];var c=this.getDisplayUnit($l(a)||1),e=q.pow(10,c.exponent),f=[];for(var g in a)f[s](a[g]/e);a=Zl(f,b);b=[];for(g in a)b[s](a[g]+V+c.symbol);return b};var om=new nm("kW h");om.addDisplayUnit("kW\u00b7h",0);om.addDisplayUnit("MW\u00b7h",3);
om.addDisplayUnit("GW\u00b7h",6);var pm=new nm("kW");pm.addDisplayUnit("kW",0);pm.addDisplayUnit("MW",3);pm.addDisplayUnit("GW",6);var qm=function(a,b){switch(b){case 1:return a%4==0&&(a%100!=0||a%400==0)?29:28;case 5:case 8:case 10:case 3:return 30}return 31},rm="n",sm=function(a,b,c,e,f,g){if(xc(a)){this.years=a==Pd?b:0;this.months=a==$d?b:0;this.days=a==Zd?b:0;this.hours=a==Td?b:0;this.minutes=a==rm?b:0;this.seconds=a==ae?b:0}else{this.years=a||0;this.months=b||0;this.days=c||0;this.hours=e||0;this.minutes=f||0;this.seconds=g||0}},tm="PT0S",um="P",vm="Y";
sm[v].toIsoString=function(a){var b=q.min(this.years,this.months,this.days,this.hours,this.minutes,this.seconds),c=q.max(this.years,this.months,this.days,this.hours,this.minutes,this.seconds);if(b<0&&c>0)return j;if(!a&&b==0&&c==0)return tm;c=[];b<0&&c[s](Ed);c[s](um);if(this.years||a)c[s](q.abs(this.years)+vm);if(this.months||a)c[s](q.abs(this.months)+ud);if(this.days||a)c[s](q.abs(this.days)+wd);if(this.hours||this.minutes||this.seconds||a){c[s](xd);if(this.hours||a)c[s](q.abs(this.hours)+Vd);if(this.minutes||
a)c[s](q.abs(this.minutes)+ud);if(this.seconds||a)c[s](q.abs(this.seconds)+vd)}return c[O](S)};sm[v].clone=function(){return new sm(this.years,this.months,this.days,this.hours,this.minutes,this.seconds)};sm[v].add=function(a){this.years+=a.years;this.months+=a.months;this.days+=a.days;this.hours+=a.hours;this.minutes+=a.minutes;this.seconds+=a.seconds};
var wm=function(a,b,c){if(yc(a)){this.date_=new Date(a,b||0,c||1);this.maybeFixDst_(c||1)}else if(Ac(a)){this.date_=new Date(a[ub](),a[Ca](),a[$a]());this.maybeFixDst_(a[$a]())}else{this.date_=new Date;this.date_[Mb](0);this.date_[Nb](0);this.date_[mb](0);this.date_.setMilliseconds(0)}};P=wm[v];P.firstDayOfWeek_=0;P.firstWeekCutOffDay_=3;P.clone=function(){var a=new wm(this.date_);a.firstDayOfWeek_=this.firstDayOfWeek_;a.firstWeekCutOffDay_=this.firstWeekCutOffDay_;return a};P.getFullYear=function(){return this.date_[ub]()};
P.getYear=function(){return this[ub]()};P.getMonth=function(){return this.date_[Ca]()};P.getDate=function(){return this.date_[$a]()};P.getTime=function(){return this.date_[N]()};P.getDay=function(){return this.date_[Fa]()};P.getIsoWeekday=function(){return(this[Fa]()+6)%7};P.getWeekday=function(){return(this.getIsoWeekday()-this.firstDayOfWeek_+7)%7};P.getUTCFullYear=function(){return this.date_.getUTCFullYear()};P.getUTCMonth=function(){return this.date_.getUTCMonth()};P.getUTCDate=function(){return this.date_.getUTCDate()};
P.getUTCHours=function(){return this.date_[Pb]()};P.getUTCMinutes=function(){return this.date_.getUTCMinutes()};P.getNumberOfDaysInMonth=function(){return qm(this[ub](),this[Ca]())};P.getTimezoneOffset=function(){return this.date_[ec]()};P.getTimezoneOffsetString=function(){var a;a=this[ec]();if(a==0)a=de;else{var b=q.abs(a)/60,c=q[Ta](b);b=(b-c)*60;a=(a>0?Ed:Dd)+T(c,2)+U+T(b,2)}return a};P.set=function(a){this.date_=new Date(a[ub](),a[Ca](),a[$a]())};P.setFullYear=function(a){this.date_.setFullYear(a)};
P.setMonth=function(a){this.date_.setMonth(a)};P.setDate=function(a){this.date_[ya](a)};P.setTime=function(a){this.date_.setTime(a)};P.setFirstDayOfWeek=function(a){this.firstDayOfWeek_=a};
P.add=function(a){if(a.years||a.months){var b=this[Ca]()+a.months+a.years*12,c=this.getYear()+q[Ta](b/12);b%=12;if(b<0)b+=12;var e=qm(c,b);e=q.min(e,this[$a]());this[ya](1);this.setFullYear(c);this.setMonth(b);this[ya](e)}if(a.days){b=new Date(this.getYear(),this[Ca](),this[$a](),12);a=new Date(b[N]()+a.days*86400000);this[ya](1);this.setFullYear(a[ub]());this.setMonth(a[Ca]());this[ya](a[$a]());this.maybeFixDst_(a[$a]())}};
P.toIsoString=function(a,b){return[this[ub](),T(this[Ca]()+1,2),T(this[$a](),2)][O](a?Ed:S)+(b?this.getTimezoneOffsetString():S)};ja(P,function(){return this.toIsoString()});P.maybeFixDst_=function(a){if(this[$a]()!=a){a=this[$a]()<a?1:-1;this.date_.setUTCHours(this.date_[Pb]()+a)}};P.valueOf=function(){return this.date_.valueOf()};var xm=function(a,b,c,e,f,g,h){this.date_=yc(a)?new Date(a,b||0,c||1,e||0,f||0,g||0,h||0):new Date(a?a[N]():Hc())};R(xm,wm);P=xm[v];P.getHours=function(){return this.date_[Sb]()};
P.getMinutes=function(){return this.date_[Tb]()};P.getSeconds=function(){return this.date_[Sa]()};P.getMilliseconds=function(){return this.date_.getMilliseconds()};P.getUTCHours=function(){return this.date_[Pb]()};P.getUTCMinutes=function(){return this.date_.getUTCMinutes()};P.setHours=function(a){this.date_[Mb](a)};P.setMinutes=function(a){this.date_[Nb](a)};P.setSeconds=function(a){this.date_[mb](a)};P.setMilliseconds=function(a){this.date_.setMilliseconds(a)};P.setUTCHours=function(a){this.date_.setUTCHours(a)};
P.add=function(a){wm[v].add[I](this,a);a.hours&&this[Mb](this.date_[Sb]()+a.hours);a.minutes&&this[Nb](this.date_[Tb]()+a.minutes);a.seconds&&this[mb](this.date_[Sa]()+a.seconds)};P.toIsoString=function(a,b){var c=wm[v].toIsoString[I](this,a);if(a)return c+V+T(this[Sb](),2)+U+T(this[Tb](),2)+U+T(this[Sa](),2)+(b?this.getTimezoneOffsetString():S);return c+xd+T(this[Sb](),2)+T(this[Tb](),2)+T(this[Sa](),2)+(b?this.getTimezoneOffsetString():S)};ja(P,function(){return this.toIsoString()});
P.clone=function(){var a=new xm(this.date_);a.firstDayOfWeek_=this.firstDayOfWeek_;a.firstWeekCutOffDay_=this.firstWeekCutOffDay_;return a};var ym="window.location.href",zm="Unknown error",Am="Not available",Bm="Message: ",Cm='\nUrl: <a href="view-source:',Dm='" target="_new">',Em="</a>\nLine: ",Fm="\n\nBrowser stack:\n",Gm="-> ",Hm="[end]\n\nJS stack traversal:\n",Im="Exception trying to expose exception! You win, we lose. ",Km=function(a,b){try{var c,e=hc(ym);c=typeof a==wc?{message:a,name:zm,lineNumber:Am,fileName:e,stack:Am}:!a.lineNumber||!a[Ub]||!a.stack?{message:a.message,name:a[Qb],lineNumber:a.lineNumber||a.line||Am,fileName:a[Ub]||
a.filename||a.sourceURL||e,stack:a.stack||Am}:a;return Bm+hd(c.message)+Cm+c[Ub]+Dm+c[Ub]+Em+c.lineNumber+Fm+hd(c.stack+Gm)+Hm+hd(Jm(b)+Gm)}catch(f){return Im+f}},Jm=function(a){return Lm(a||arguments.callee.caller,[])},Mm="[...circular reference...]",Nm="boolean",Om="false",Pm="[fn]",Qm="...",Rm=")\n",Sm="[exception trying to get caller]\n",Tm="[...long stack...]",Um="[end]",Lm=function(a,b){var c=[];if(Mc(b,a))c[s](Mm);else if(a&&b[t]<50){c[s](Vm(a)+Ne);for(var e=a.arguments,f=0;f<e[t];f++){f>0&&
c[s](Oe);var g;g=e[f];switch(typeof g){case lc:g=g?lc:sc;break;case wc:g=g;break;case nc:g=da(g);break;case Nm:g=g?Xk:Om;break;case Q:g=(g=Vm(g))?g:Pm;break;case "undefined":default:g=typeof g;break}if(g[t]>40)g=g.substr(0,40)+Qm;c[s](g)}b[s](a);c[s](Rm);try{c[s](Lm(a.caller,b))}catch(h){c[s](Sm)}}else a?c[s](Tm):c[s](Um);return c[O](S)},Wm="[Anonymous]",Vm=function(a){a=da(a);if(!Xm[a]){var b=/function ([^\(]+)/[Ja](a);Xm[a]=b?b[1]:Wm}return Xm[a]},Xm={};var Zm=function(a,b,c,e,f){this.sequenceNumber_=typeof f==nc?f:Ym++;this.time_=e||Hc();this.level_=a;this.msg_=b;this.loggerName_=c};Zm[v].exception_=j;Zm[v].exceptionText_=j;var Ym=0;Zm[v].setException=function(a){this.exception_=a};Zm[v].setExceptionText=function(a){this.exceptionText_=a};Zm[v].setLevel=function(a){this.level_=a};var $m=function(a){this.name_=a;this.parent_=j;this.children_={};this.handlers_=[]};$m[v].level_=j;var an=function(a,b){this.name=a;this.value=b};ja(an[v],function(){return this[Qb]});new an("OFF",Infinity);var bn=new an("SHOUT",1200),cn=new an("SEVERE",1000),dn=new an("WARNING",900),en=new an("INFO",800),fn=new an("CONFIG",700);new an("FINE",500);new an("FINER",400);new an("FINEST",300);new an("ALL",0);P=$m[v];P.getName=function(){return this.name_};P.addHandler=function(a){this.handlers_[s](a)};
P.removeHandler=function(a){return Nc(this.handlers_,a)};P.setLevel=function(a){this.level_=a};P.isLoggable=function(a){if(this.level_)return a[ab]>=this.level_[ab];if(this.parent_)return this.parent_.isLoggable(a);return k};P.log=function(a,b,c){this.isLoggable(a)&&this.logRecord(this.getLogRecord(a,b,c))};P.getLogRecord=function(a,b,c){var e=new Zm(a,da(b),this.name_);if(c){e.setException(c);e.setExceptionText(Km(c,arguments.callee.caller))}return e};P.warning=function(a,b){this.log(dn,a,b)};
P.info=function(a,b){this.log(en,a,b)};P.logRecord=function(a){if(this.isLoggable(a.level_))for(var b=this;b;){b.callPublish_(a);b=b.parent_}};P.callPublish_=function(a){for(var b=0;b<this.handlers_[t];b++)this.handlers_[b](a)};P.setParent_=function(a){this.parent_=a};P.addChild_=function(a,b){this.children_[a]=b};
var gn={},hn=j,jn=function(){if(!hn){hn=new $m(S);gn[S]=hn;hn.setLevel(fn)}},ln=function(a){jn();return a in gn?gn[a]:kn(a)},kn=function(a){var b=new $m(a),c=a[B](gc),e=c[c[t]-1];c.length-=1;c=c[O](gc);c=ln(c);c.addChild_(e,b);b.setParent_(c);return gn[a]=b};var mn="powermeter.PowerPoller",nn=function(){this.listeners_=[];this.logger_=ln(mn);this.requests_={};this.units_={};this.optionalParams_={}};P=nn[v];var on="CONSUMPTION";P.setConsumptionRequest=function(a,b,c,e,f,g,h,p){this.setRequest(a,on,b,c,e,f,g,k,p,j,h,yd)};var pn="HOURLY_RATE";P.setRateRequest=function(a,b,c,e,f,g,h,p){this.setRequest(a,pn,b,c,e,f,g,k,p,j,h,yd)};P.getRequestUnit=function(a){return this.units_[a]};
P.setRequest=function(a,b,c,e,f,g,h,p,r,u,w,E){var y={};sa(y,b);if(E&&E!=yd)y.format=E;y.start=e[N]();y.end=f[N]();y.vars=c;y.chunk=g;y.unit=h.getRequestUnit();if(p)y.features=p;if(r)y.alwaysOn=r;if(u)y.combo=u;if(w)y.wantExpected=i;this.requests_[a]=y;this.units_[a]=h};P.addParam=function(a,b){this.optionalParams_[a]=b};var qn="$1:",rn="/gadget/stats?vars=",sn="&requests=";
P.fetchRequests=function(){var a={},b=[];for(var c in this.requests_){for(var e=this.requests_[c].vars,f=[],g=0;g<e[t];g++)f[s](jm(e[g],b));e={};e.vars=f;a[c]=im(this.requests_[c],e)}b=l.json.stringify(b);a=l.json.stringify(a);a=a[z](/"(\w+)":/g,qn);c=mm(this.optionalParams_);cm(rn+aa(b)+sn+aa(a)+Zc+c,l.util.makeClosure(this,this.onDataResponse_))};P.onDataResponse_=function(a){a=Ul(a);for(var b=0;b<this.listeners_[t];++b)this.listeners_[b](a)};P.addListener=function(a){Mc(this.listeners_,a)||this.listeners_[s](a)};
P.clearRequests=function(){this.requests_={};this.units_={}};P.clearListeners=function(){this.listeners_=[]};var tn="powermeter.UserPoller",un=function(){this.listeners_=[];this.logger_=ln(tn);this.optionalParams_={}};P=un[v];P.addParam=function(a,b){this.optionalParams_[a]=b};var vn="/gadget/user?";P.fetchUserData=function(){var a=mm(this.optionalParams_);cm(vn+a,l.util.makeClosure(this,this.onUserResponse_))};P.onUserResponse_=function(a){a=Ul(a);for(var b=0;b<this.listeners_[t];++b)this.listeners_[b](a)};P.addListener=function(a){Mc(this.listeners_,a)||this.listeners_[s](a)};
P.clearListeners=function(){this.listeners_=[]};var wn=function(){this.relativeTimeStart_=Hc()},xn=new wn;wn[v].set=function(a){this.relativeTimeStart_=a};wn[v].get=function(){return this.relativeTimeStart_};var yn=function(a){this.prefix_=a||S;this.startTimeProvider_=xn};yn[v].showAbsoluteTime=i;yn[v].showRelativeTime=i;yn[v].showLoggerName=i;yn[v].showExceptionText=k;
var An=function(a){a=new Date(a.time_);return zn(a[ub]()-2000)+zn(a[Ca]()+1)+zn(a[$a]())+V+zn(a[Sb]())+U+zn(a[Tb]())+U+zn(a[Sa]())+gc+zn(q[Ta](a.getMilliseconds()/10))},zn=function(a){if(a<10)return jd+a;return da(a)},Bn=function(a,b){a=(a.time_-b)/1000;b=a[Qa](3);var c=0;if(a<1)c=2;else for(;a<100;){c++;a*=10}for(;c-- >0;)b=V+b;return b},Cn=function(a){yn[I](this,a)};R(Cn,yn);var Dn="[",En="] ",Fn="s] ";
Cn[v].formatRecord=function(a){var b=[];b[s](this.prefix_,V);this.showAbsoluteTime&&b[s](Dn,An(a),En);this.showRelativeTime&&b[s](Dn,Bn(a,this.startTimeProvider_.get()),Fn);this.showLoggerName&&b[s](Dn,a.loggerName_,En);b[s](a.msg_,ng);this.showExceptionText&&a.exception_&&b[s](a.exceptionText_,ng);return b[O](S)};var Gn=function(){this.publishHandler_=Fc(this.addLogRecord,this);this.formatter_=new Cn;this.formatter_.showAbsoluteTime=k;this.isCapturing_=this.formatter_.showExceptionText=k;this.logBuffer_=S};Gn[v].setCapturing=function(a){if(a!=this.isCapturing_){var b;jn();b=hn;if(a)b.addHandler(this.publishHandler_);else{b.removeHandler(this.publishHandler_);this.logBuffer=S}this.isCapturing_=a}};
Gn[v].addLogRecord=function(a){var b=this.formatter_.formatRecord(a);if(o[Eb]&&o[Eb].firebug)switch(a.level_){case bn:o[Eb].info(b);break;case cn:o[Eb].error(b);break;case dn:o[Eb].warn(b);break;default:o[Eb].debug(b);break}else if(o[Eb])o[Eb].log(b);else if(o[qb])o[qb].postError(b);else this.logBuffer_+=b};var Hn=j;var In=/^(?:([^:\/?#]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Jn=function(a){return a[lb](In)};var Kn=function(a,b){var c;if(a instanceof Kn){this.setIgnoreCase(b==j?a.ignoreCase_:b);this.setScheme(a.scheme_);this.setUserInfo(a.userInfo_);this.setDomain(a.domain_);this.setPort(a.port_);this.setPath(a.path_);this.setQueryData(a.queryData_.clone());this.setFragment(a.fragment_)}else if(a&&(c=Jn(da(a)))){this.setIgnoreCase(!!b);this.setScheme(c[1]||S,i);this.setUserInfo(c[2]||S,i);this.setDomain(c[3]||S,i);this.setPort(c[4]);this.setPath(c[5]||S,i);this.setQuery(c[6]||S,i);this.setFragment(c[7]||
S,i)}else{this.setIgnoreCase(!!b);this.queryData_=new Ln(j,this,this.ignoreCase_)}};P=Kn[v];P.scheme_=S;P.userInfo_=S;P.domain_=S;P.port_=j;P.path_=S;P.fragment_=S;P.isReadOnly_=k;P.ignoreCase_=k;var Mn="//",Nn="@",On="?",Pn="#";
ja(P,function(){if(this.cachedToString_)return this.cachedToString_;var a=[];this.scheme_&&a[s](Qn(this.scheme_,Rn),U);if(this.domain_){a[s](Mn);this.userInfo_&&a[s](Qn(this.userInfo_,Rn),Nn);a[s](Sn(this.domain_));this.port_!=j&&a[s](U,da(this.port_))}this.path_&&a[s](Qn(this.path_,Tn));var b=da(this.queryData_);b&&a[s](On,b);this.fragment_&&a[s](Pn,Qn(this.fragment_,Un));return this.cachedToString_=a[O](S)});
P.clone=function(){var a;a=this.scheme_;var b=this.userInfo_,c=this.domain_,e=this.port_,f=this.path_,g=this.queryData_.clone(),h=this.fragment_,p=new Kn(j,this.ignoreCase_);a&&p.setScheme(a);b&&p.setUserInfo(b);c&&p.setDomain(c);e&&p.setPort(e);f&&p.setPath(f);g&&p.setQueryData(g);h&&p.setFragment(h);return a=p};P.setScheme=function(a,b){this.enforceReadOnly();delete this.cachedToString_;if(this.scheme_=b?a?ha(a):S:a)this.scheme_=this.scheme_[z](/:$/,S);return this};
P.setUserInfo=function(a,b){this.enforceReadOnly();delete this.cachedToString_;this.userInfo_=b?a?ha(a):S:a;return this};P.setDomain=function(a,b){this.enforceReadOnly();delete this.cachedToString_;this.domain_=b?a?ha(a):S:a;return this};P.setPort=function(a){this.enforceReadOnly();delete this.cachedToString_;if(a){a=Number(a);if(ia(a)||a<0)d(m("Bad port number "+a));this.port_=a}else this.port_=j;return this};
P.setPath=function(a,b){this.enforceReadOnly();delete this.cachedToString_;this.path_=b?a?ha(a):S:a;return this};P.setQueryData=function(a,b){this.enforceReadOnly();delete this.cachedToString_;if(a instanceof Ln){this.queryData_=a;this.queryData_.uri_=this;this.queryData_.setIgnoreCase(this.ignoreCase_)}else{b||(a=Qn(a,Vn));this.queryData_=new Ln(a,this,this.ignoreCase_)}return this};P.setQuery=function(a,b){return this.setQueryData(a,b)};
P.setParameterValue=function(a,b){this.enforceReadOnly();delete this.cachedToString_;this.queryData_.set(a,b);return this};P.getParameterValue=function(a){return this.queryData_.get(a)};P.setFragment=function(a,b){this.enforceReadOnly();delete this.cachedToString_;this.fragment_=b?a?ha(a):S:a;return this};P.enforceReadOnly=function(){if(this.isReadOnly_)d(m("Tried to modify a read-only Uri"))};P.setIgnoreCase=function(a){this.ignoreCase_=a;this.queryData_&&this.queryData_.setIgnoreCase(a)};
var Sn=function(a){if(xc(a))return aa(a);return j},Wn=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/,Qn=function(a,b){var c=j;if(xc(a)){c=a;Wn.test(c)||(c=encodeURI(a));if(c.search(b)>=0)c=c[z](b,Xn)}return c},Yn="%",Xn=function(a){a=a.charCodeAt(0);return Yn+(a>>4&15)[Ba](16)+(a&15)[Ba](16)},Rn=/[#\/\?@]/g,Tn=/[\#\?]/g,Vn=/[\#\?@]/g,Un=/#/g,Ln=function(a,b,c){this.encodedQuery_=a||j;this.uri_=b||j;this.ignoreCase_=!!c};P=Ln[v];
P.ensureKeyMapInitialized_=function(){if(!this.keyMap_){this.keyMap_=new ul;if(this.encodedQuery_)for(var a=this.encodedQuery_[B](Zc),b=0;b<a[t];b++){var c=a[b][D](lm),e=j,f=j;if(c>=0){e=a[b][Bb](0,c);f=a[b][Bb](c+1)}else e=a[b];e=ha(e[z](/\+/g,V));e=this.getKeyName_(e);this.add(e,f?ha(f[z](/\+/g,V)):S)}}};P.keyMap_=j;P.count_=j;
P.add=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);if(this.containsKey(a)){var c=this.keyMap_.get(a);uc(c)?c[s](b):this.keyMap_.set(a,[c,b])}else this.keyMap_.set(a,b);this.count_++;return this};P.remove=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);if(this.keyMap_.containsKey(a)){this.invalidateCache_();var b=this.keyMap_.get(a);if(uc(b))this.count_-=b[t];else this.count_--;return this.keyMap_[rb](a)}return k};
ua(P,function(){this.invalidateCache_();this.keyMap_&&this.keyMap_[Jb]();this.count_=0});P.containsKey=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)};P.getKeys=function(){this.ensureKeyMapInitialized_();for(var a=this.keyMap_.getValues(),b=this.keyMap_.getKeys(),c=[],e=0;e<b[t];e++){var f=a[e];if(uc(f))for(var g=0;g<f[t];g++)c[s](b[e]);else c[s](b[e])}return c};
P.getValues=function(a){this.ensureKeyMapInitialized_();if(a){a=this.getKeyName_(a);if(this.containsKey(a)){var b=this.keyMap_.get(a);if(uc(b))return b;else{a=[];a[s](b)}}else a=[]}else{b=this.keyMap_.getValues();a=[];for(var c=0;c<b[t];c++){var e=b[c];uc(e)?Pc(a,e):a[s](e)}}return a};
P.set=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);if(this.containsKey(a)){var c=this.keyMap_.get(a);if(uc(c))this.count_-=c[t];else this.count_--}this.keyMap_.set(a,b);this.count_++;return this};P.get=function(a,b){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);if(this.containsKey(a)){a=this.keyMap_.get(a);return uc(a)?a[0]:a}else return b};
ja(P,function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return S;for(var a=[],b=0,c=this.keyMap_.getKeys(),e=0;e<c[t];e++){var f=c[e],g=Uc(f);f=this.keyMap_.get(f);if(uc(f))for(var h=0;h<f[t];h++){b>0&&a[s](Zc);a[s](g,lm,Uc(f[h]));b++}else{b>0&&a[s](Zc);a[s](g,lm,Uc(f));b++}}return this.encodedQuery_=a[O](S)});P.invalidateCache_=function(){delete this.decodedQuery_;delete this.encodedQuery_;this.uri_&&delete this.uri_.cachedToString_};
P.clone=function(){var a=new Ln;if(this.decodedQuery_)a.decodedQuery_=this.decodedQuery_;if(this.encodedQuery_)a.encodedQuery_=this.encodedQuery_;if(this.keyMap_)a.keyMap_=this.keyMap_.clone();return a};P.getKeyName_=function(a){a=da(a);if(this.ignoreCase_)a=a[$b]();return a};P.setIgnoreCase=function(a){if(a&&!this.ignoreCase_){this.ensureKeyMapInitialized_();this.invalidateCache_();tl(this.keyMap_,function(b,c){var e=c[$b]();if(c!=e){this[rb](c);this.add(e,b)}},this)}this.ignoreCase_=a};var Zn="http://chart.apis.google.com/chart",$n=function(a,b,c,e,f){Fi[I](this,e);this.uri_=new Kn(f||Zn);this.encodingType_=S;this.dataSets_=[];this.setColors_=[];this.setLegendTexts_=[];this.xLabels_=[];this.leftLabels_=[];this.rightLabels_=[];this.multiAxisType_=[];this.multiAxisLabelText_={};this.multiAxisLabelPosition_={};this.multiAxisRange_={};this.multiAxisLabelStyle_={};this.setType(a);this.setSize(b,c);this.minValue_=this.isPieChart()?0:Infinity};R($n,Fi);P=$n[v];P.uriLengthLimit_=2048;
P.gridX_=0;P.gridY_=0;P.maxValue_=-Infinity;P.title_=j;P.legend_=j;P.numVisibleDataSets_=j;var ao="img",bo="goog-serverchart-image";P.createDom=function(){var a=this.getSize();this.setElementInternal(this.getDomHelper().createDom(ao,{src:this.getUri(),"class":bo,width:a[0],height:a[1]}))};P.decorateInternal=function(a){a.src=this.getUri();this.setElementInternal(a)};P.getUri=function(){this.computeDataString_();return this.uri_};var co="chg";
P.setGridParameter=function(a){this.uri_.setParameterValue(co,a)};var eo="chm";P.setMarkerParameter=function(a){this.uri_.setParameterValue(eo,a)};P.getMarkerParameter=function(){return this.uri_.getParameterValue(eo)};P.setEncodingType=function(a){this.encodingType_=a};var fo="cht";P.setType=function(a){this.uri_.setParameterValue(fo,a)};P.getType=function(){return this.uri_.getParameterValue(fo)};var go="chs",ho="x";P.setSize=function(a,b){this.uri_.setParameterValue(go,[a||300,b||150][O](ho))};
P.getSize=function(){return this.uri_.getParameterValue(go)[B](ho)};P.setMinValue=function(a){this.minValue_=a};P.setMaxValue=function(a){this.maxValue_=a};var io="chl",jo="|";P.setXLabels=function(a){this.xLabels_=a;this.uri_.setParameterValue(io,this.xLabels_[O](jo))};var ko="p",lo="p3",mo="pc";P.isPieChart=function(){var a=this.getType();return a==ko||a==lo||a==mo};P.setParameterValue=function(a,b){this.uri_.setParameterValue(a,b)};var no="chlr";
P.setRightLabels=function(a){this.rightLabels_=a;this.uri_.setParameterValue(no,this.rightLabels_.reverse()[O](jo))};var oo="chtt";P.setTitle=function(a){this.title_=a;this.uri_.setParameterValue(oo,this.title_[z](/\n/g,jo))};var po="chbh",$=",";P.setBarSpaceWidths=function(a,b,c){a=[a];b!==n&&a[s](b);c!==n&&a[s](c);this.uri_.setParameterValue(po,a[O]($))};P.setAutomaticBarWidth=function(a,b){var c=[Sd];a!==n&&c[s](a);b!==n&&c[s](b);this.uri_.setParameterValue(po,c[O]($))};var qo="chxt";
P.addMultiAxis=function(a){this.multiAxisType_[s](a);this.uri_.setParameterValue(qo,this.multiAxisType_[O]($));return this.multiAxisType_[t]-1};var ro="chxl",so=":|";P.setMultiAxisLabelText=function(a,b){this.multiAxisLabelText_[a]=b;this.uri_.setParameterValue(ro,this.computeMultiAxisDataString_(this.multiAxisLabelText_,so,jo,jo))};var to="chxp";
P.setMultiAxisLabelPosition=function(a,b){this.multiAxisLabelPosition_[a]=b;this.uri_.setParameterValue(to,this.computeMultiAxisDataString_(this.multiAxisLabelPosition_,$,$,jo))};var uo="chdl",vo="chco";
P.addDataSet=function(a,b,c){var e=this.arrayMin_(a);if(e<this.minValue_)this.minValue_=e;e=this.arrayMax_(a);if(e>this.maxValue_)this.maxValue_=e;if(c!==n){if(this.setLegendTexts_[t]<this.dataSets_[t])d(m("Cannot start adding legends text after first element."));this.setLegendTexts_[s](c);this.uri_.setParameterValue(uo,this.setLegendTexts_[O](jo))}this.dataSets_[s](a);this.setColors_[s](b);this.uri_.setParameterValue(vo,this.setColors_[O]($))};var wo="chd";
P.clearDataSets=function(){var a=this.uri_.queryData_;a[rb](uo);a[rb](vo);a[rb](wo);ka(this.setLegendTexts_,0);ka(this.setColors_,0);ka(this.dataSets_,0)};var xo="e";P.computeDataString_=function(){var a;if(this.encodingType_!=S)a=this.computeDataStringForEncoding_(this.encodingType_);else(a=this.computeDataStringForEncoding_(xo))||(a=this.computeDataStringForEncoding_(ae));a||this[eb](new yo(this.uri_[Ba]()))};var zo="t";
P.computeDataStringForEncoding_=function(a){for(var b=[],c=0,e=this.dataSets_[t];c<e;++c)b[c]=this.getChartServerValues_(this.dataSets_[c],this.minValue_,this.maxValue_,a);b=b[O](a==zo?jo:$);a=this.numVisibleDataSets_==j?kd(a,U,b):kd(a,this.numVisibleDataSets_,U,b);this.uri_.setParameterValue(wo,a);return this.uri_[Ba]()[t]<this.uriLengthLimit_};P.computeMultiAxisDataString_=function(a,b,c,e){for(var f=[],g=0,h=this.multiAxisType_[t];g<h;++g)a[g]&&f[s](g+b+a[g][O](c));return f[O](e)};
var Ao=q.pow(64,2)-1;P=$n[v];var Bo="__";P.getConvertedValue_=function(a,b,c,e){if(b>c)d(m("minValue is greater than maxValue"));var f=e==xo;if(a==j||ia(a))return f?Bo:ij;if(e==zo)return da(a);e=0.5;if(c>b)e=(a-b)/(c-b);if(f){a=q[Ta](e*Ao/64);b=q[Ta](e*Ao%64);return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-."[Xa](a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-."[Xa](b)}return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[Xa](q[La](e*61))};
P.getChartServerValues_=function(a,b,c,e){for(var f=[],g=0,h=a[t];g<h;++g)f[s](this.getConvertedValue_(a[g],b,c,e));return f[O](this.encodingType_==zo?$:S)};P.arrayMin_=function(a){for(var b=Infinity,c=0,e=a[t];c<e;++c){var f=a[c];if(f!=j&&f<b)b=f}return b};P.arrayMax_=function(a){for(var b=-Infinity,c=0,e=a[t];c<e;++c){var f=a[c];if(f!=j&&f>b)b=f}return b};
P.disposeInternal=function(){$n.superClass_.disposeInternal[I](this);delete this.xLabels_;delete this.leftLabels_;delete this.rightLabels_;delete this.gridX_;delete this.gridY_;delete this.setColors_;delete this.setLegendTexts_;delete this.dataSets_;this.uri_=j;delete this.minValue_;delete this.maxValue_;this.title_=j;delete this.multiAxisType_;delete this.multiAxisLabelText_;delete this.multiAxisLabelPosition_;delete this.multiAxisRange_;delete this.multiAxisLabelStyle_;this.legend_=j};
var Co="uritoolong",yo=function(a){Jh[I](this,Co);this.uri=a};R(yo,Jh);var Do="powermeter.MiniChart",Eo="r",Fo="mini_chart_image",Go=function(a){this.prefs_=a;this.logger_=ln(Do);this.serverChart_=new $n;this.serverChart_.addMultiAxis(ho);this.serverChart_.addMultiAxis(Eo);this.chartImage_=Y(Fo);wa(this.chartImage_,this.HEIGHT);this.xLabels_=[];this.xSegments_=1;this.yAxisMsgName_=S;this.displayBaseloads_=this.isLabelsCentered_=k;this.maxValue_=0};P=Go[v];P.HEIGHT=150;P.LEFT_MARGIN=10;P.RIGHT_MARGIN=20;P.MAX_Y_IF_NO_DATA=1;P.CURR_FILL_COLOR="70d070";
P.BASELOAD_FILL_COLOR1="5A9F59";P.BASELOAD_FILL_COLOR2="1D7F17";P.SHADE_COLOR="f8f8f8";P.PREV_FILL_COLOR="b4ecb4";P.X_LABEL_COLOR="666666";P.Y_LABEL_COLOR="666666";P.CHART_PAD=0;P.setXLabels=function(a,b){this.xLabels_=a;if(b)this.serverChart_.setMultiAxisLabelPosition(0,[]);else{b=[0];for(var c=100/(a[t]-1),e=0,f=0;f<a[t]-1;f++){e+=c;b[s](e)}this.serverChart_.setMultiAxisLabelPosition(0,b)}this.serverChart_.setMultiAxisLabelText(0,a)};var Ho="title";
P.setImageHover=function(a){this.chartImage_[Ab](Ho,a)};P.setXSegments=function(a){this.xSegments_=a};P.setYAxisMsgName=function(a){this.yAxisMsgName_=a};P.setType=function(a){this.serverChart_.setType(a)};var Io="Invalid chart data set.";
P.populateChart=function(a,b,c){var e=[],f=[],g=k,h=k;if(typeof a==lc&&a[Wa]==Array){for(var p=a[t],r=0;r<p;r++){var u=a[r][ab],w=a[r].a;if(u&&typeof u==nc){e[s](u>0?u:0);h=i;if(w&&typeof w==nc){g=i;f[s](w>0?w:0)}else f[s](j);u=u+(w||0);if(u>this.maxValue_)this.maxValue_=u}else{e[s](j);f[s](j)}}if(g){this.displayBaseloads_=i;this.serverChart_.addDataSet(f,c)}else this.displayBaseloads_=k;this.serverChart_.addDataSet(e,b)}else this.logger_.warning(Io);return h};
var Jo="Chart data set is empty!",Ko="@t",Lo=",0,0:1,10",Mo="B,",No=",1,2,0",Oo=",0,1,0",Po=",3,4,0",Qo=",2,3,0",Ro=",0.25,0.75";
P.buildChart=function(a,b,c,e){b[t]==0&&this.logger_.warning(Jo);e||this.clearDataSets();var f=b[t];e=b[0][t];var g=k,h=k;if(f==2){g=this.populateChart(b[0],this.PREV_FILL_COLOR,this.BASELOAD_FILL_COLOR1);h=this.populateChart(b[1],this.CURR_FILL_COLOR,this.BASELOAD_FILL_COLOR2)}else if(f==1)g=this.populateChart(b[0],this.PREV_FILL_COLOR,this.BASELOAD_FILL_COLOR1);b=this.getGridScale_(this.maxValue_||this.MAX_Y_IF_NO_DATA,c);this.serverChart_.setMaxValue(b.maximum);this.serverChart_.setRightLabels(b.labels);
this.serverChart_.setType(a);a=[Ko+Z(this.yAxisMsgName_,{UNIT:b.unit})+$+this.Y_LABEL_COLOR+Lo];if(e>100){this.serverChart_.setAutomaticBarWidth(0,0);if(this.displayBaseloads_)if(g&&h){a[s](Mo+this.PREV_FILL_COLOR+No);a[s](Mo+this.BASELOAD_FILL_COLOR1+Oo);a[s](Mo+this.CURR_FILL_COLOR+Po);a[s](Mo+this.BASELOAD_FILL_COLOR2+Qo)}else if(!g&&h){a[s](Mo+this.CURR_FILL_COLOR+Oo);a[s](Mo+this.BASELOAD_FILL_COLOR2+No)}else{a[s](Mo+this.PREV_FILL_COLOR+No);a[s](Mo+this.BASELOAD_FILL_COLOR1+Oo)}else{a[s](Mo+
this.PREV_FILL_COLOR+Oo);a[s](Mo+this.CURR_FILL_COLOR+No)}}else this.serverChart_.setBarSpaceWidths(Sd);this.serverChart_.setMarkerParameter(a[O](jo));this.serverChart_.setGridParameter((this.xSegments_?100/this.xSegments_:0)+$+100/(b.labels[t]-1||1)+Ro);this.appendChartMisc_();this.updateImage_()};
P.updateImage_=function(){if(!this.serverChart_.getType())return j;var a=Uf(o);a=a[x]>1000?1000:a[x];a-=this.CHART_PAD;this.serverChart_.setSize(a,this.HEIGHT);this.chartImage_.src=this.serverChart_.getUri()[Ba]();return a};var So="chf",To=",0.5,ffffff,0.5",Uo="chma",Vo="chxs",Wo="0,",Xo=",10,0,lt,ffffff",Yo="1,",Zo=",10,-1,t,ffffff",$o="chxtc",ap="0,3|1,2";
P.appendChartMisc_=function(){var a=this.serverChart_.getUri();a.setParameterValue(So,this.SHADE_COLOR+To);a.setParameterValue(Uo,this.LEFT_MARGIN+$+this.RIGHT_MARGIN);a.setParameterValue(Vo,[Wo+this.X_LABEL_COLOR+Xo,Yo+this.Y_LABEL_COLOR+Zo][O](jo));a.setParameterValue($o,ap)};
P.getGridScale_=function(a,b){for(var c=[{ticks:[0,0.2,0.4,0.6,0.8,1],decimals:1},{ticks:[0,0.2,0.4,0.6,0.8,1,1.2],decimals:1},{ticks:[0,0.5,1,1.5],decimals:1},{ticks:[0,0.5,1,1.5,2],decimals:1},{ticks:[0,0.5,1,1.5,2,2.5],decimals:1},{ticks:[0,0.5,1,1.5,2,2.5,3],decimals:1},{ticks:[0,1,2,3,4],decimals:0},{ticks:[0,1,2,3,4,5],decimals:0},{ticks:[0,1,2,3,4,5,6],decimals:0},{ticks:[0,2,4,6,8],decimals:0},{ticks:[0,2,4,6,8,10],decimals:0}],e=q[Ta](q.log(a)/q.log(10)),f=q.pow(10,e),g=a/f,h=0;h<c[t];h++){a=
c[h].ticks;var p=a[a[t]-1];if(p>=g){g=p*f;b=b.getDisplayUnit(g);f=f/q.pow(10,b.exponent);c=c[h].decimals-(e-b.exponent);e=[];for(h=0;h<a[t];h++)e[s](Wl(a[h]*f,c));return{labels:e,unit:b.symbol,maximum:g}}}};P.clearDataSets=function(){this.serverChart_.clearDataSets();this.maxValue_=0;this.serverChart_.setMinValue(0);this.serverChart_.setMaxValue(0)};P.adjustSize=function(){return this.updateImage_()};var bp="powermeter.MiniStats",cp="prev_cost_help",dp="curr_cost_help",ep="http://www.google.com/support/powermeter?hl=${LANG}",fp="http://www.google.com/support/powermeter/bin/answer.py?answer=162864",gp=function(a,b){Fi[I](this,b);this.logger_=ln(bp);this.prefs_=a;this.cost_=this.getCost_();this.hasDisplayed_=k;this.powerData_=this.currentView_=j;this.populateCounter_=0;this.strings_={};this.prevCostTooltip_=km(cp);this.currCostTooltip_=km(dp);this.powerScoreHelpUrl_=ep;this.costHelpUrl_=fp};gp.inherits(Fi);
P=gp[v];P.prevAreaElt_=j;P.currAreaElt_=j;P.prevTitleElt_=j;P.prevTickerElt_=j;P.prevUsageElt_=j;P.prevCostElt_=j;P.prevCostDiv_=j;P.currTitleElt_=j;P.currTickerElt_=j;P.currUsageElt_=j;P.currCostElt_=j;P.currCostDiv_=j;P.prevAlwaysElt_=j;P.currAlwaysElt_=j;P.costHelpUrl_=j;var hp="_costPerKwh";P.getCost_=function(){return this.prefs_.getFloat(hp)};
var ip="prev_title",jp="prev_ticker",kp="prev_usage",lp="prev_cost",mp="prev_cost_container",np="curr_title",op="curr_ticker",pp="curr_usage",qp="curr_cost",rp="curr_cost_container",sp="curr_area",tp="prev_area",up="always_prev",vp="always_curr";
P.decorateInternal=function(a){gp.superClass_.decorateInternal[I](this,a);this.prevTitleElt_=this.dom_.$(ip);this.prevTickerElt_=this.dom_.$(jp);this.prevUsageElt_=this.dom_.$(kp);this.prevCostElt_=this.dom_.$(lp);this.prevCostDiv_=this.dom_.$(mp);this.currTitleElt_=this.dom_.$(np);this.currTickerElt_=this.dom_.$(op);this.currUsageElt_=this.dom_.$(pp);this.currCostElt_=this.dom_.$(qp);this.currCostDiv_=this.dom_.$(rp);this.currAreaElt_=this.dom_.$(sp);this.prevAreaElt_=this.dom_.$(tp);this.prevAlwaysElt_=
this.dom_.$(up);this.currAlwaysElt_=this.dom_.$(vp);this.resetDisplay_()};P.setStrings=function(a){this.strings_=a;this.dateFormat_=ne(this.strings_.dateFormat)};P.createDom=function(){this.decorateInternal(Zf(Wi))};var wp="value",xp="Stats Response Error: ";
P.getStat_=function(a){var b=j,c=j;if(a.responseCode==200){a=a.streams;if(typeof a==lc&&a[Wa]==Array){a=a[0].points;if(typeof a==lc&&a[Wa]==Array)if(a[t]==1){c=a[0];b=Ye(c,wp,j);c=Ye(c,Sd,j)}}}else{this.logger_.warning(xp+a.responseCode);d(new Pl(a))}return[b,c]};P.resetDisplay_=function(){na(this.prevCostElt_,S);na(this.currCostElt_,S);na(this.prevUsageElt_,S);na(this.currUsageElt_,S);na(this.prevAlwaysElt_,S);na(this.currAlwaysElt_,S);va(this.prevCostDiv_[F],vh);va(this.currCostDiv_[F],vh)};
var yp="day_bar",zp="stats_approx",Ap="/",Bp="stats_yr_abbreviation",Cp="week_bar",Dp="month_bar";P.setCostInfo_=function(a,b,c){var e=S,f=0;if(c==yp){f=Xl(b*this.cost_*365,0);e=this.prefs_[C](zp)+V+f+Ap+this.prefs_[C](Bp)}else if(c==Cp){f=Xl(b*this.cost_*52,0);e=this.prefs_[C](zp)+V+f+Ap+this.prefs_[C](Bp)}else if(c==Dp){f=Xl(b*this.cost_*12,0);e=this.prefs_[C](zp)+V+f+Ap+this.prefs_[C](Bp)}lg(a,e)};P.getValidValues_=function(a){for(var b=j,c=[],e=0;e<a[t];e++){b=a[e][ab];if(b!=n||b!=j)c[s](a[e])}return c};
var Ep=" am",Fp=" pm",Gp="{time}";P.updateTimeStamps_=function(a,b){for(var c=j,e=a[t]-1;e>=0;e--)if(a[e].end){c=a[e].end;break}if(c!=j){a=new xm;a.setTime(c);c=this.dateFormat_.format(a);c=c[z](/ AM$/,Ep)[z](/ PM$/,Fp);c=this.strings_.currentPeriodPartial[z](Gp,c);b[Ab](Ho,c)}};
var Hp="{url}",Ip="http://www.google.com/powermeter/static/images/menu-icon.gif",Jp="{width}",Kp="{height}",Lp="total_prev",Mp="stats_energy_used",Np="block",Op="stats_cost_tooltip",Pp='<div class="tooltip">',Qp="</div>",Rp="total_curr",Sp="No Data";
P.populateStats=function(a,b,c){this.resetDisplay_();var e='<img src="{url}" width={width} height={height}>'[z](Hp,Ip)[z](Jp,13)[z](Kp,12);if(a.responseCode==200){em(this.prevAreaElt_);this.powerData_=a[A];var f=j;var g=a=j;f=a=a=j;lg(this.prevTitleElt_,this.strings_.previousPeriod);lg(this.currTitleElt_,this.strings_.currentPeriod);var h=this.strings_.decimalSeparator;if(Lp in this.powerData_){f=this.getStat_(this.powerData_.total_prev);g=f[0];a=f[1];f=(g||0)+(a||0);if(f!=n){g=S;g=b.formatQuantity(f,
2,h);lg(this.prevUsageElt_,Z(Mp,{QUANTITY:g}));if(a){g=S;g=b.formatQuantity(a,2,h);lg(this.prevAlwaysElt_,Z(Mp,{QUANTITY:g}))}if(this.cost_&&dm(f)){this.setCostInfo_(this.prevCostElt_,f,c);va(this.prevCostDiv_[F],Np);a=Z(Op,{COST_RATE:Xl(this.cost_),ICON_IMAGE_HTML:e})+ze(this.costHelpUrl_);this.prevCostTooltip_.setHtml(Pp+a+Qp)}}}else fm(this.prevAreaElt_);if(Rp in this.powerData_){em(this.currAreaElt_);f=this.getStat_(this.powerData_.total_curr);a=f[0];f=f[1];a=(a||0)+(f||0);if(dm(a)){g=b.formatQuantity(a,
2,h);lg(this.currUsageElt_,Z(Mp,{QUANTITY:g}));if(f){g=b.formatQuantity(f,2,h);lg(this.currAlwaysElt_,Z(Mp,{QUANTITY:g}))}if(this.powerData_.chart_prev&&this.powerData_.chart_curr){var p=this.powerData_.chart_curr.streams[0].points;b=this.powerData_.chart_prev.streams[0].points;this.updateTimeStamps_(p,this.currTitleElt_);if(this.cost_>0){g=h=0;f=this.getValidValues_(p);var r=f[t],u=b[t]/2;if(c==Cp&&r<7){r-=1;if(p[t]>2)for(a=0;a<r;a++)if(f[a][db](wp)&&dm(f[a][ab])){h+=f[a][ab];h+=Ye(f[a],Sd,0)}}else h=
a;for(a=r;a<u;a++)if(b[a][db](wp)&&dm(b[a][ab])){g+=b[a][ab];g+=Ye(b[a],Sd,0)}h+=c==yp?g/4:g;this.setCostInfo_(this.currCostElt_,h,c);va(this.currCostDiv_[F],Np);Xl(this.cost_,0);a=Z(Op,{COST_RATE:Xl(this.cost_),ICON_IMAGE_HTML:e})+ze(this.costHelpUrl_);this.currCostTooltip_.setHtml(Pp+a+Qp)}}}}else fm(this.currAreaElt_);this.hasDisplayed_=i;this.populateCounter_++}else this.logger_.warning(Sp)};P.dispose=function(){};P.enterDocument=function(){gp.superClass_.enterDocument[I](this)};
P.exitDocument=function(){gp.superClass_.exitDocument[I](this)};var Tp="budget_chart_image",Up="budget_message",Vp="budget_help",Wp="http://www.google.com/support/powermeter/bin/answer.py?answer=162872",Xp="tracking",Yp=function(a){this.prefs_=a;this.serverChart_=new $n;this.chartImage_=Y(Tp);wa(this.chartImage_,this.HEIGHT);this.messageDiv_=Y(Up);this.helpTooltip_=km(Vp);this.chartTooltip_=km(Tp);this.budgetHelpUrl_=Wp;this.strings_={};this.unit_=om;this.currentActualValue_=0;this.actualSubtotals_=[];this.currentBudgetValue_=0;this.budgetSubtotals_=[];this.entireBudget_=
0;this.intervalLabels_=[];this.messageMode_=Xp};Yp[v].HEIGHT=34;Yp[v].LEFT_MARGIN=Go[v].LEFT_MARGIN;Yp[v].RIGHT_MARGIN=100;Yp[v].MIN_LABEL_SQUISH=0.9;var Zp={};Zp.statusUnder="008000";Zp.statusEven="909000";Zp.statusOver="a06000";Zp.statusOnTrack="008000";Zp.statusMightExceed="909000";Zp.statusLikelyToExceed="a06000";Zp.statusAlreadyExceeded="900000";Yp[v].LINE_COLORS=Zp;var $p={};$p.statusUnder="70d070";$p.statusEven="d8d870";$p.statusOver="e0b070";$p.statusOnTrack="70d070";
$p.statusMightExceed="d8d870";$p.statusLikelyToExceed="e0b070";$p.statusAlreadyExceeded="e0a0a0";P=Yp[v];P.FILL_COLORS=$p;P.BUDGET_LINE_COLOR="666666";P.BUDGET_FILL_COLOR="c0c0c0";P.SEGMENT_LABEL_PADDING=4;P.setStrings=function(a){this.strings_=a};P.setUnit=function(a){this.unit_=a};P.setCurrentActualValue=function(a){this.currentActualValue_=a};P.setActualSubtotals=function(a){this.actualSubtotals_=a};P.setCurrentBudgetValue=function(a){this.currentBudgetValue_=a};
P.setBudgetSubtotals=function(a){this.budgetSubtotals_=a;for(var b=this.entireBudget_=0;b<a[t];b++)this.entireBudget_+=a[b]};P.setIntervalLabels=function(a){this.intervalLabels_=a};P.setMessageMode=function(a){this.messageMode_=a};P.updateDisplay=function(){this.updateMessage_();this.updateChart_();this.updateHelpTooltip_();this.updateChartTooltip_()};var aq="statusUnder",bq="statusOver",cq="statusEven";
P.getOverUnderStatus=function(){var a=this.getOverUnderPercentage();if(a<=-1)return aq;if(a>=1)return bq;return cq};P.getOverUnderPercentage=function(){return 100*((this.currentActualValue_-this.currentBudgetValue_)/this.entireBudget_)};var dq="statusOnTrack",eq="statusAlreadyExceeded",fq="statusLikelyToExceed",gq="statusMightExceed";
P.getTrackingStatus=function(){var a=this.entireBudget_-this.currentActualValue_;if(this.currentActualValue_<this.currentBudgetValue_+this.entireBudget_*0.01)return dq;if(a<0)return eq;if(a<0.75*(this.entireBudget_-this.currentBudgetValue_))return fq;return gq};var hq="overUnder";P.getStatus=function(){switch(this.messageMode_){case hq:return this.getOverUnderStatus();case Xp:return this.getTrackingStatus()}};var iq="<em>",jq="</em>",kq="{budget}",lq="{percentage}";
P.updateMessage_=function(){var a=q[La](q.abs(this.getOverUnderPercentage()));na(this.messageDiv_,hd(this.strings_[this.getStatus()]||S)[z](Dn,iq)[z](Fe,jq)[z](kq,this.strings_.budgetName||kq)[z](lq,a))};var mq="{actual_quantity}",nq="{budget_quantity}",oq="{icon_image}";
P.updateHelpTooltip_=function(){var a=this.unit_.formatQuantity([this.currentActualValue_,this.entireBudget_],2),b='<img src="{url}" width={width} height={height}>'[z](Hp,Ip)[z](Jp,13)[z](Kp,12);a=hd(this.strings_.budgetTooltip||S)[z](/\{budget_period\}/g,this.strings_.tooltipPeriod||S)[z](mq,a[0])[z](nq,a[1])[z](oq,b);a+=ze(this.budgetHelpUrl_);this.helpTooltip_.setHtml(Pp+a+Qp)};
P.updateChartTooltip_=function(){var a=hd(this.strings_.budgetChartTooltip||S);a+=ze(this.budgetHelpUrl_);this.chartTooltip_.setHtml(Pp+a+Qp)};var pq="\\,",qq="'h\\",rq="'f\\",sq="'c\\",tq="'a\\";P.textDynicon_=function(a,b,c,e){a=(a||S)[z](/,/g,pq)+qq;if(b)a+=lm+b+rq;if(c)a+=c+sq;if(e)a+=e+tq;return a};var uq="sq",vq="'i\\=",wq="'=",xq="'scl'\\";P.boxDynicon_=function(a,b,c,e){a=(e||uq)+vq+a+wq+b+xq;if(c)a+=c+sq;return a};var yq="\\",zq="@y",Aq=",,0,",Bq=",0";
P.dyniconMarker_=function(a,b,c,e){a=aa(a[z](/\\$/,S));a=a[z](/%20/g,Dd);a=a[z](/%27/g,Nd);a=a[z](/%2C/g,$);a=a[z](/%3A/g,U);a=a[z](/%3C/g,$c);a=a[z](/%3D/g,lm);a=a[z](/%3E/g,ad);a=a[z](/%5C/g,yq);b=(b||0)[Qa](3)-0+S;c=(c||0)[Qa](3)-0+S;e=e?$+e:S;return zq+a+Aq+c+U+b+Bq+e};var Cq="bhs",Dq="13,1,1",Eq="x,y,r",Fq="{quantity}",Gq="2:",Hq="0,ffffff,0,0,t|1,ffffff,10,1,t|2,ffffff,10,-1,t,ffffff",Iq="0,0|1,0|2,6",Jq="fff",Kq="sq75",Lq="sq50",Mq="l",Nq="l-0-13",Oq="-6-10";
P.updateChart_=function(){var a=this.getStatus(),b=this.LINE_COLORS[a];a=this.FILL_COLORS[a];this.serverChart_.setType(Cq);this.serverChart_.clearDataSets();this.serverChart_.addDataSet([this.currentActualValue_,0],a);this.serverChart_.addDataSet([0,this.currentBudgetValue_],this.BUDGET_LINE_COLOR);this.serverChart_.setEncodingType(xo);var c=q.max(this.currentActualValue_,this.entireBudget_);this.serverChart_.setMinValue(0);this.serverChart_.setMaxValue(c);a=this.serverChart_.getUri();a.setParameterValue(Uo,
this.LEFT_MARGIN+10+Bq);a.setParameterValue(po,Dq);a.setParameterValue(qo,Eq);var e=this.unit_.formatQuantity([this.currentActualValue_,this.entireBudget_],2),f=(this.strings_.actualBarLabel||On)[z](Fq,e[0]),g=(this.strings_.budgetBarLabel||On)[z](Fq,e[1]);a.setParameterValue(ro,[Gq,g,f][O](jo));a.setParameterValue(Vo,Hq);a.setParameterValue($o,Iq);e=[];var h=this.currentActualValue_/c,p=this.entireBudget_/c;e[s](this.dyniconMarker_(this.boxDynicon_(999,13,this.BUDGET_FILL_COLOR),0,0.5,-1));e[s](this.dyniconMarker_(this.boxDynicon_(999,
13,Jq),p,0.5,-1));var r=this.intervalLabels_[t]<=4;e=e[Va](this.segmentMarkers_(this.actualSubtotals_,this.currentActualValue_,c,0,Kq,r));e=e[Va](this.segmentMarkers_(this.budgetSubtotals_,this.entireBudget_,c,0.5,Lq,r));c=this.textDynicon_(Mq,18,b,Nq);r=this.textDynicon_(Mq,18,this.BUDGET_LINE_COLOR,Nq);e[s](this.dyniconMarker_(c,h,0));e[s](this.dyniconMarker_(r,p,0.5));b=this.textDynicon_(f,10,b,Oq);f=this.textDynicon_(g,10,this.BUDGET_LINE_COLOR,Oq);e[s](this.dyniconMarker_(b,h,0));e[s](this.dyniconMarker_(f,
p,0.5));a.setParameterValue(eo,e[O](jo));this.updateImage_()};var Pq="&chm=";P.updateImage_=function(){if(this.entireBudget_!=0){this.serverChart_.setSize(this.getChartWidth_()+10,this.HEIGHT);var a=this.serverChart_.getUri().clone();a.setParameterValue(eo,S);var b=this.serverChart_.getMarkerParameter();a=a[Ba]()+Pq+b;a=a[z](/%20/g,Dd);a=a[z](/%2C/g,$);a=a[z](/%3A/g,U);a=a[z](/%7C/g,jo);this.chartImage_.src=a}};var Qq="h-0-10",Rq="<=",Sq="''scl'\\";
P.segmentMarkers_=function(a,b,c,e,f,g){f=this.boxDynicon_(1,13,Jq,f);var h=this.getChartWidth_()-this.LEFT_MARGIN-this.RIGHT_MARGIN,p=[],r=0,u=0;for(var w in a){r+=a[w]||0;var E=r/c,y=(E-u)*h-this.SEGMENT_LABEL_PADDING,ga=this.intervalLabels_[w][B](jo);for(var Lc in ga){var Ra=ga[Lc],zd=this.getTextWidth(Ra,10);if(g)zd*=this.MIN_LABEL_SQUISH;if(y>=zd){ga=this.textDynicon_(Ra,10,Jq,Qq);if(g)ga+=Rq+q[La](y)+Sq;p[s](this.dyniconMarker_(ga,(u+E)/2,e));break}}if(r>=b)break;p[s](this.dyniconMarker_(f,
E,e));u=E}return p};P.getTextWidth=function(a,b){return a[t]*b*0.5};P.adjustSize=function(){this.updateDisplay()};P.getChartWidth_=function(){var a=Uf(o);return a[x]>990?990:a[x]};var Tq="rating_chart_image",Uq=function(a){this.prefs_=a;this.serverChart_=new $n;this.chartImage_=Y(Tq);this.gradient_=[];this.benchmarks_=[];this.valueLabel_=S;this.value_=0;this.unit_=om;this.height_=0};P=Uq[v];P.BAR_HEIGHT=13;P.LINE_HEIGHT=10;P.DESCENDER_HEIGHT=2;P.FONT_SIZE=10;P.CHARACTER_WIDTH=Uq[v].FONT_SIZE*0.6;P.LEFT_MARGIN=Go[v].LEFT_MARGIN;P.RIGHT_MARGIN=Go[v].RIGHT_MARGIN;P.PADDING_ABOVE=0;P.TRIANGLE_WIDTH=10;P.TRIANGLE_HEIGHT=8;P.PADDING_BELOW=-1;P.MIN_SQUISH=0.76;
P.BENCHMARK_LABEL_PADDING=4;P.VALUE_LABEL_COLOR="000";P.BENCHMARK_LABEL_COLOR="666";P.setGradient=function(a){this.gradient_=a};P.setBenchmarks=function(a){this.benchmarks_=a};P.setValueLabel=function(a){this.valueLabel_=a};P.setValue=function(a){this.value_=a};P.setUnit=function(a){this.unit_=a};P.updateDisplay=function(){this.updateChart_()};var Vq="a\\",Wq="-0-",Xq="o\\";
P.textDynicon_=function(a,b,c,e,f,g){var h=S;a=(a||S)[B](/\|/g);var p=0;b=b||Mq;for(var r=0;r<a[t];r++){h+=a[r][z](/,/g,pq)+Nd;h+=p==0?b+Vq:b+Wq+p+tq;p+=this.LINE_HEIGHT}if(a[t]>1)h+=Xq;if(c)h+=lm+c+rq;if(e)h+=e+sq;if(g)h+=Rq+g+Sq;if(f)h+=f+tq;return h};P.boxDynicon_=function(a,b,c,e){a=(e||uq)+vq+a+wq+b+xq;if(c)a+=c+sq;return a};
P.dyniconMarker_=function(a,b,c,e){a=aa(a[z](/\\$/,S));a=a[z](/%20/g,Dd);a=a[z](/%27/g,Nd);a=a[z](/%2C/g,$);a=a[z](/%2F/g,Ap);a=a[z](/%3A/g,U);a=a[z](/%3C/g,$c);a=a[z](/%3D/g,lm);a=a[z](/%3E/g,ad);a=a[z](/%5C/g,yq);b=(b||0)[Qa](3)-0+S;c=(c||0)[Qa](3)-0+S;e=e?$+e:S;return zq+a+Aq+c+U+b+Bq+e};var Yq="bhg",Zq="0,000000,0,0,t",$q="0,0";
P.updateChart_=function(){this.serverChart_.setType(Yq);this.serverChart_.clearDataSets();this.serverChart_.addDataSet([0]);this.serverChart_.setMinValue(0);this.serverChart_.setMaxValue(1);this.serverChart_.setBarSpaceWidths(this.BAR_HEIGHT+1,0,0);for(var a=this.getChartWidth_()-this.LEFT_MARGIN-this.RIGHT_MARGIN,b=this.valueLabel_+jo+this.unit_.formatQuantity(this.value_,2),c=this.getTextHeight(b),e=0,f=0;f<this.benchmarks_[t];f++)e=q.max(e,this.getTextHeight(this.benchmarks_[f].label));e+=this.DESCENDER_HEIGHT;
c=c+this.PADDING_ABOVE+this.TRIANGLE_HEIGHT;var g=this.PADDING_BELOW+e;this.height_=c+this.BAR_HEIGHT+g;e=this.value_;for(f=0;f<this.benchmarks_[t];f++)e=q.max(e,this.benchmarks_[f].maximum);f=this.serverChart_.getUri();f.setParameterValue(Uo,[this.LEFT_MARGIN,this.RIGHT_MARGIN,c,g][O]($));f.setParameterValue(qo,Pd);f.setParameterValue(Vo,Zq);f.setParameterValue($o,$q);f.setParameterValue(So,this.getGradientParameter_(e));c=[];c=c[Va](this.getBarEdgeMarkers_());c=c[Va](this.getCurrentValueMarkers_(b,
e,a));c=c[Va](this.getBenchmarkMarkers_(this.benchmarks_,e,a));f.setParameterValue(eo,c[O](jo));this.updateImage_()};P.updateImage_=function(){this.serverChart_.setSize(this.getChartWidth_(),this.height_);var a=this.serverChart_.getUri().clone();a.setParameterValue(eo,S);var b=this.serverChart_.getMarkerParameter();a=a[Ba]()+Pq+b;a=a[z](/%20/g,Dd);a=a[z](/%2C/g,$);a=a[z](/%3A/g,U);a=a[z](/%3C/g,$c);a=a[z](/%7C/g,jo);this.chartImage_.src=a};
P.okayToSquish=function(a,b){return this.MIN_SQUISH*this.getTextWidth(a)<=b};var ar="c,lg,0,";P.getGradientParameter_=function(a){for(var b=[],c=0;c<this.gradient_[t];c++){var e=this.gradient_[c];b[s](e.color+$+((e[ab]/a)[Qa](3)-0))}return ar+b[O]($)};P.getBarEdgeMarkers_=function(){var a=this.boxDynicon_(999,1,Jq);return[this.dyniconMarker_(a,0,0),this.dyniconMarker_(a,0,1)]};var br="\u25bc",cr="-0-3",dr="Lzh'f\\=",er="-0+",fr="l+",gr="r-";
P.getCurrentValueMarkers_=function(a,b,c){var e=[];e[s](this.dyniconMarker_(this.textDynicon_(br,Td,16,this.VALUE_LABEL_COLOR,cr)+dr+this.TRIANGLE_WIDTH+wq+this.TRIANGLE_HEIGHT+xq,this.value_/b,0));var f=this.getTextHeight(a)+this.PADDING_ABOVE,g=-this.LEFT_MARGIN,h=c+this.RIGHT_MARGIN;c=this.value_*c/b;var p=q.min(c-g,h-c)*2,r=this.getTextWidth(a);if(r<=p)e[s](this.dyniconMarker_(this.textDynicon_(a,Td,this.FONT_SIZE,this.VALUE_LABEL_COLOR,er+f,r),this.value_/b,0));else if(r<=h-g)c-r/2<g?e[s](this.dyniconMarker_(this.textDynicon_(a,
Td,this.FONT_SIZE,this.VALUE_LABEL_COLOR,fr+this.LEFT_MARGIN+Dd+f,r),0,0)):e[s](this.dyniconMarker_(this.textDynicon_(a,Td,this.FONT_SIZE,this.VALUE_LABEL_COLOR,gr+this.RIGHT_MARGIN+Dd+f,r),1,0));return e};
P.getBenchmarkMarkers_=function(a,b,c){for(var e=[],f=this.boxDynicon_(1,this.BAR_HEIGHT+1,Jq,Lq),g=Wq+(this.LINE_HEIGHT+this.PADDING_BELOW),h=-this.LEFT_MARGIN,p=c+this.RIGHT_MARGIN,r=0,u=0;u<a[t];u++){var w=a[u].label,E=a[u].maximum*c/b,y=E-r-this.BENCHMARK_LABEL_PADDING,ga=(r+E)/2,Lc=q.min(ga-h,p-ga)*2-this.BENCHMARK_LABEL_PADDING;if(h<=r&&this.okayToSquish(w,y)){e[s](this.dyniconMarker_(this.textDynicon_(w,Td,this.FONT_SIZE,this.BENCHMARK_LABEL_COLOR,g,y),ga/c,1));h=ga+y/2}else if(this.okayToSquish(w,
Lc)){h=this.getTextWidth(w)*this.MIN_SQUISH;e[s](this.dyniconMarker_(this.textDynicon_(w,Td,this.FONT_SIZE,this.BENCHMARK_LABEL_COLOR,g,h),ga/c,1));h=ga+h/2}else h=q.max(h,(r*2+E)/3);e[s](this.dyniconMarker_(f,E/c,0));r=E}return e};P.getTextWidth=function(a){var b=0;a=a[B](/\|/g);for(var c=0;c<a[t];c++)b=q.max(b,a[c][t]*this.CHARACTER_WIDTH);return b};P.getTextHeight=function(a){return a[B](/\|/g)[t]*this.LINE_HEIGHT};P.adjustSize=function(){this.updateDisplay()};
P.getChartWidth_=function(){var a=Uf(o);return a[x]>1000?1000:a[x]};var hr="powermeter",ir="report",jr="error_message",kr="report_log",lr="report_reply",mr="report_form",nr=function(a,b){this.prefs_=a;this.logger_=ln(hr);this.messageCount_=0;this.reportDiv_=Y(ir);this.messageDiv_=Y(jr);this.reportLog_=Y(kr);this.replyIframe_=Y(lr);this.reportForm_=Y(mr);this.miniDisplay_=b};P=nr[v];P.submitErrors=function(){this.reportForm_.submit()};var or="0000",pr="\\u",qr="\\x",rr="\\t",sr="\\n",tr="\\r",ur="\\'",vr="\\\\",wr=' id="',xr=' class="',yr=": ",zr="{",Ar="}";
P.repr=function(a,b){b=(b||0)+1;if(b>10)return Qm;if(a==j)return sc;if(typeof a==wc){function c(g){g=or+g.charCodeAt(0)[Ba](16);return pr+g[Bb](g[t]-4)}a=a[z](/([^\x20-\x7e]|'|\\)/g,c);a=a[z](/\\u00/g,qr);a=a[z](/\\x09/g,rr);a=a[z](/\\x0a/g,sr);a=a[z](/\\x0d/g,tr);a=a[z](/\\x27/g,ur);a=a[z](/\\x5c/g,vr);return Nd+a+Nd}if(typeof a==lc){if(a[Oa])return $c+a[fb]+(a.id?wr+a.id+bd:S)+(a[Ia]?xr+a[Ia]+bd:S)+ad;if(a[Wa]==Array){for(var e=[],f=0;f<a[t];f++)e[s](this.repr(a[f],b));return Dn+e[O](Oe)+Fe}e=[];
for(f in a)e[s](f+yr+this.repr(a[f],b));return zr+e[O](Oe)+Ar}return S+a};var Br="input";P.log=function(a,b){var c=a;if(typeof b!="undefined")c=a+yr+this.repr(b);typeof console!="undefined"&&typeof b!="undefined"&&typeof console.debug!="undefined"?console.debug(a+U,b):this.logger_.info(c);this.messageCount_+=1;this.reportLog_[za](Zf(Br,{type:wh,name:this.messageCount_,value:c}))};var Cr="showError";
P.showError=function(a){this.log(Cr,a);a=Z(a)||a;lg(this.messageDiv_,a);em(this.reportDiv_);this.submitErrors();this.miniDisplay_.adjustSize()};var Dr="about:blank";P.hideError=function(){fm(this.reportDiv_);this.replyIframe_.src=Dr};var Er="_compareToOtherUsers",Fr="_budgetMode",Gr="off",Hr="chart_day_axis_label_00",Ir="chart_day_axis_label_06",Jr="chart_day_axis_label_12",Kr="chart_day_axis_label_18",Lr="budget_target_actual_bar",Mr="budget_expected_actual_bar",Nr="budget_target_budget_bar",Or="budget_expected_budget_bar",Pr="budget_over",Qr="budget_even",Rr="budget_under",Sr="budget_on_track",Tr="budget_might_exceed",Ur="budget_likely_to_exceed",Vr="budget_already_exceeded",Wr="budget_target_today",Xr="budget_expected_today",
Yr="budget_target_tooltip",Zr="budget_expected_tooltip",$r="{reduction_percentage}",as="menu_day",bs="bvs",cs="chart_energy_in_unit",ds="stats_curr_as_of",es="stats_day_date_format",fs="day_interval_00h_to_06h",gs="day_interval_06h_to_12h",hs="day_interval_12h_to_18h",is="day_interval_18h_to_00h",js="budget_period_today",ks="budget_chart_day_tooltip",ls="menu_week_bar",ms="stats_last_week",ns="stats_this_week",os="stats_week_date_format",ps="budget_target_this_week",qs="budget_expected_this_week",
rs="budget_period_this_week",ss="budget_chart_week_tooltip",ts="menu_month",us="stats_this_week_as_of",vs="stats_month_title_format",ws="resize",xs=function(a,b,c,e){Fi[I](this,c);this.prefs_=a;this.serverUrl_=bm;this.statsPane_=new gp(this.prefs_);this.userPoller_=new un;this.powerPoller_=new nn;this.reporter_=new nr(this.prefs_,this);this.currentTime_=new xm(e);this.prefocusStart_=this.focusEnd_=this.focusStart_=this.lastMeasurementTime_=j;this.browserTime_=this.currentTime_.clone();this.browserTodayStart_=
this.browserTime_.clone();this.browserTodayStart_[Mb](0);this.browserTodayStart_[Nb](0);this.browserTodayStart_[mb](0);this.isChartInitialized=this.isStatsInitialized=k;this.miniMessage_=this.mmUtils_=j;this.providerMessages_=[];this.latestLink_=this.prevLink_=this.nextLink_=this.miniControl_=this.controlNextBox_=this.nextBtnLabel_=this.prevBtnLabel_=this.headerTitle_=this.nextButton_=this.prevButton_=this.controlTable_=this.containerDiv_=this.newLastPoint_=this.currLastPoint_=this.intervalId=this.contentDiv_=
this.footerDiv_=this.headerTitle_=this.headerDiv_=this.providerLogoLink_=this.providerLogoImage_=this.statusDiv_=this.budgetDiv_=this.ratingDiv_=this.chartDiv_=this.statsDiv_=this.chart_=j;this.experiments_={};this.viewSelect_=this.variableSelect_=this.variablePath_=this.variable_=this.account_=this.accounts_=j;this.showComparison_=this.prefs_.getInt(Er);this.budgetMode_=this.prefs_[hb](Fr);if(this.budgetMode_==Gr)this.budgetMode_=j;this.budgetTargetPercentage_=ba(this.budgetMode_);this.budgetTargetSelected_=
!ia(this.budgetTargetPercentage_);this.viewConfig_=this.viewType_=j;this.numIntervals_=0;this.eventHandler_=new Ai(this);this.numMinsPerWeekInterval=60;this.pageTracker_=b;a=Z(Hr);b=Z(Ir);c=Z(Jr);e=Z(Kr);var f=qe(),g;g=qe();for(var h=[],p=0;p<7;p++)h[s](me(le+(g+p)%7+ke));g=h;this.commonBudgetStrings_={actualBarLabel:this.prefs_[C](this.budgetTargetSelected_?Lr:Mr),budgetBarLabel:this.prefs_[C](this.budgetTargetSelected_?Nr:Or),statusOver:this.prefs_[C](Pr),statusEven:this.prefs_[C](Qr),statusUnder:this.prefs_[C](Rr),
statusOnTrack:this.prefs_[C](Sr),statusMightExceed:this.prefs_[C](Tr),statusLikelyToExceed:this.prefs_[C](Ur),statusAlreadyExceeded:this.prefs_[C](Vr),budgetName:this.prefs_[C](this.budgetTargetSelected_?Wr:Xr),budgetTooltip:this.prefs_[C](this.budgetTargetSelected_?Yr:Zr)[z]($r,-this.budgetTargetPercentage_)};this.viewConfigs_={};this.viewConfigs_.day_bar={name:Z(as),chartType:bs,xLabels:[a,b,c,e,a,b,c,e,a],xSegments:8,weekStart:f,yAxisMsgName:cs,statsStrings:im(this.commonStatsStrings_,{previousPeriod:S,
currentPeriod:S,totalTitle:S,currentPeriodPartial:this.prefs_[C](ds),dateFormat:Z(es)}),budgetStrings:im(this.commonBudgetStrings_,{intervalLabels:[Z(fs),Z(gs),Z(hs),Z(is)],tooltipPeriod:Z(js),budgetChartTooltip:Z(ks)})};this.viewConfigs_.week_bar={name:Z(ls),chartType:bs,xLabels:[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[0],g[1],g[2],g[3],g[4],g[5],g[6]],xSegments:2,weekStart:f,yAxisMsgName:cs,statsStrings:im(this.commonStatsStrings_,{previousPeriod:Z(ms),currentPeriod:Z(ns),totalTitle:S,currentPeriodPartial:S,
dateFormat:Z(os)}),budgetStrings:im(this.commonBudgetStrings_,{budgetName:this.prefs_[C](this.budgetTargetSelected_?ps:qs),intervalLabels:g,tooltipPeriod:this.prefs_[C](rs),budgetChartTooltip:this.prefs_[C](ss)})};this.viewConfigs_.month_bar={name:this.prefs_[C](ts),chartType:bs,xLabels:[],xSegments:1,weekStart:f,yAxisMsgName:cs,statsStrings:im(this.commonStatsStrings_,{previousPeriod:S,currentPeriod:S,totalTitle:S,currentPeriodPartial:this.prefs_[C](us),dateFormat:this.prefs_[C](vs)}),budgetStrings:im(this.commonBudgetStrings_,
{budgetName:S,intervalLabels:g,tooltipPeriod:S})};this.sizeListenerKey_=this.eventHandler_.listen(o,ws,this.handleResize,i,this);this.lastKnownSize_=Uf(o)};xs.inherits(Fi);P=xs[v];P.LOGO_IMAGE_PATH="/gadget/logo";P.DISMISS_PATH="/gadget/dismiss";P.ENERGY_UNIT=om;P.POWER_UNIT=pm;P.CHART_PAD=4;
var ys="status",zs="mini_message_container",As="__MODULE_ID__",Bs="mini_logo_image",Cs="mini_logo_link",Ds="mini_display_header",Es="mini_display_footer",Fs="mini_display_content",Gs="mini_container",Hs="mini_display_stats",Is="mini_chart",Js="mini_display_rating",Ks="mini_display_budget",Ls="control_table",Ms="control_next_box",Ns="prev_button",Os="next_button",Ps="now_button",Qs="prev_button_label",Rs="next_button_label",Ss="mini_control",Ts="next_link",Us="prev_link",Vs="latest_link",Ws="mini_title";
P.decorateInternal=function(a){xs.superClass_.decorateInternal[I](this,a);this.statusDiv_=this.dom_.$(ys);this.mmDiv_=this.dom_.$(zs);this.mmUtils_=new l.MiniMessage(As,this.mmDiv_);this.providerLogoImage_=this.dom_.$(Bs);this.providerLogoLink_=this.dom_.$(Cs);this.headerDiv_=this.dom_.$(Ds);this.footerDiv_=this.dom_.$(Es);this.contentDiv_=this.dom_.$(Fs);this.containerDiv_=this.dom_.$(Gs);this.statsDiv_=this.dom_.$(Hs);this.chartDiv_=this.dom_.$(Is);this.ratingDiv_=this.dom_.$(Js);this.ratingScale_=
new Uq(this.prefs_);this.budgetDiv_=this.dom_.$(Ks);this.budgetGauge_=new Yp(this.prefs_);this.controlTable_=this.dom_.$(Ls);this.controlNextBox_=this.dom_.$(Ms);this.prevButton_=this.dom_.$(Ns);this.nextButton_=this.dom_.$(Os);this.nowButton_=this.dom_.$(Ps);this.prevBtnLabel_=Y(Qs);this.nextBtnLabel_=Y(Rs);this.miniControl_=Y(Ss);this.nextLink_=Y(Ts);this.prevLink_=Y(Us);this.latestLink_=Y(Vs);this.headerTitle_=this.dom_.$(Ws);if(!this.isStatsInitialized){this.chart_=new Go(this.prefs_);this.eventHandler_.listen(this.chartDiv_,
Qh,hm);this.eventHandler_.listen(this.prevButton_,Qh,this.flipPrevious);this.eventHandler_.listen(this.nextButton_,Qh,this.flipNext);this.eventHandler_.listen(this.nowButton_,Qh,this.flipNow);this.eventHandler_.listen(this.prevBtnLabel_,Qh,this.flipPrevious);this.eventHandler_.listen(this.nextBtnLabel_,Qh,this.flipNext);this.eventHandler_.listen(this.prevLink_,Qh,this.flipPrevious);this.eventHandler_.listen(this.nextLink_,Qh,this.flipNext);this.eventHandler_.listen(this.latestLink_,Qh,this.flipNow);
this.statsPane_.decorate(this.statsDiv_);a=j;for(var b in this.viewConfigs_)(a=this.dom_.$(b))&&this.eventHandler_.listen(a,Qh,this.handleViewSelect_);this.sendPrefs()}this.makePollerRequests()};P.createDom=function(){this.decorateInternal(this.dom_.createDom(Wi))};P.dispose=function(){this.eventHandler_.dispose()};var Xs="_targetUser",Ys="targetUser";P.sendPrefs=function(){var a=this.prefs_[hb](Xs);if(a[t]>0){this.userPoller_.addParam(Ys,a);this.powerPoller_.addParam(Ys,a)}};var Zs="/mini/flipnow/";
P.flipNow=function(){this.setDisplay_(this.variablePath_,this.viewType_,i);this.pageTracker_._trackPageview(Zs+this.viewType_);this.pageTracker_._trackEvent(Zs,this.viewType_)};var $s="/mini/flipback/";
P.flipPrevious=function(){switch(this.viewType_){case Cp:this.currentTime_.add(new sm(Zd,-7));break;case Dp:this.currentTime_.add(new sm($d,-1));break;default:this.currentTime_.add(new sm(Zd,-1));break}this.requestStats(this.variable_);this.pageTracker_._trackPageview($s+this.viewType_);this.pageTracker_._trackEvent($s,this.viewType_)};var at="/mini/flipnext/";
P.flipNext=function(){switch(this.viewType_){case Cp:this.currentTime_.add(new sm(Zd,7));break;case Dp:this.currentTime_.add(new sm($d,1));break;default:this.currentTime_.add(new sm(Zd,1));break}this.requestStats(this.variable_);this.pageTracker_._trackPageview(at+this.viewType_);this.pageTracker_._trackEvent(at,this.viewType_)};var bt="tabUnselect",ct="tabSelect";P.toggleViewTab_=function(a){a=this.dom_.$(a);var b=this.dom_.$(this.viewType_);if(b)la(b,bt);la(a,ct)};
var dt="canvas",et="chart_hover_shrink",ft="chart_hover_enlarge";P.updateImageHover_=function(){if(this.chart_)l[Ga].getCurrentView().getName()==dt?this.chart_.setImageHover(Z(et)):this.chart_.setImageHover(Z(ft))};var gt="/mini/pageload/";P.enterDocument=function(){xs.superClass_.enterDocument[I](this);this.pageTracker_._trackPageview(gt+this.getViewName_());this.pageTracker_._trackEvent(gt,this.getViewName_())};
var ht='<span class="author">',it=":</span> ",jt="{anchor}",kt="message_link_anchor",lt="{link}",mt='<div class="provider_mm">';
P.updateProviderMessage_=function(){if(this.miniMessage_){this.mmUtils_.dismissMessage(this.miniMessage_);this.miniMessage_=j}if(this.providerMessages_[t]>0){var a=this.providerMessages_[0],b=ht+hd(a.author)+it+hd(a.text);if(a.linkUrl){a='<a href="{url}" target="_blank">{anchor}</a>'[z](Hp,a.linkUrl)[z](jt,Z(kt));b+=' <span class="link">({link})</span>'[z](lt,a)}this.miniMessage_=this.mmUtils_.createDismissibleMessage(mt+b+Qp,Fc(this.handleMessageDismissed_,this))}this.adjustSize()};var nt="?durMessage=";
P.handleMessageDismissed_=function(){var a=this.providerMessages_[Wb](0,1)[0];this.updateProviderMessage_();cm(this.DISMISS_PATH+nt+a.path)};P.hideStatus_=function(){fm(this.statusDiv_);la(this.statusDiv_,S);this.dom_.removeChildren(this.statusDiv_);this.reporter_.hideError()};var ot="loading";P.displayLoading_=function(a){em(this.statusDiv_);la(this.statusDiv_,ot);this.dom_.removeChildren(this.statusDiv_);a&&this.dom_.setTextContent(this.statusDiv_,a)};
P.makePollerRequests=function(){this.displayLoading_();this.userPoller_.clearListeners();this.userPoller_.addListener(Fc(this.handleUserResponse_,this));this.userPoller_.fetchUserData()};var pt="/mini/dateselect/";P.handleViewSelect_=function(a){this.setDisplay_(this.variablePath_,a[H].id,k);this.pageTracker_._trackPageview(pt+this.getViewName_());this.pageTracker_._trackEvent(pt,this.getViewName_())};var qt="userMenu";
P.buildNavMenu_=function(a){var b=this.dom_.$(qt);if(a[t]>1||a[0].variables[t]>1){em(b);for(var c=new ol,e=0;e<a[t];e++){a[t]>1&&e>0&&c.addItem(new Zj);for(var f=a[e].variables,g=0;g<f[t];g++){var h;h=f[g][Qb];h=h[t]<=30?h:h[Ma](0,27)+Qm;c.addItem(new lk(h,f[g].path))}}this.variableSelect_=a=c;this.variableSelect_.render(b);this.eventHandler_.listen(this.variableSelect_,Rj,this.handleVariableSelect_)}};var rt="Default";P.getViewName_=function(){return this.viewType_==j?rt:this.viewConfigs_[this.viewType_][Qb]};
P.handleVariableSelect_=function(a){this.setDisplay_(a[H].getValue(),this.viewType_,k)};var st="gadget_title",tt="own_house",ut="single_home_name";P.setTitle_=function(a){var b=Z(st)+yr;b+=a?Z(tt,{NAME:a}):Z(ut);l.window.setTitle(b)};var vt="Received user response",wt="_selectedView",xt="_selectedVariable",yt="User has no accounts/variables",zt="error_no_variables",At="error_user_request",Bt="error_not_enrolled",Ct="OAUTH approval needed.",Dt="UserServlet Error RC: ";
P.handleUserResponse_=function(a){this.hideStatus_();this.reporter_.log(vt,a);if(a.responseCode==200){em(this.containerDiv_);if(a[A]!=n){this.accounts_=a[A].accounts;if(this.accounts_[t]>0&&this.accounts_[0].variables[t]>0){em(this.headerDiv_);this.experiments_=a[A].experiment;this.buildNavMenu_(this.accounts_);this.setupFooterLinks_(this.experiments_);this.setupControlDisplay_(this.experiments_);this.setTitle_(a[A].firstName);a=this.prefs_[hb](wt)||this.experiments_.defaultMiniView||yp;this.setDisplay_(this.prefs_[hb](xt)||
S,a,i)}else{this.setupFooterLinks_(a[A].experiment);this.reporter_.log(yt);this.reporter_.showError(zt)}}else this.reporter_.showError(At)}else if(a.responseCode==401)this.reporter_.showError(Bt);else if(a.oauthApprovalUrl){this.reporter_.log(Ct);this.setupOauthProcess_(a.oauthApprovalUrl)}else{this.reporter_.log(Dt+a.responseCode);this.reporter_.showError(At)}};
P.setDisplay_=function(a,b,c){this.reporter_.hideError();for(var e,f,g=k,h=0,p=0;p<this.accounts_[t]&&!g;p++){f=this.accounts_[p];for(var r=0;r<f.variables[t]&&!g;r++){e=f.variables[r];if(e.path==a||!a){a=e.path;h=e.lastMeasurementTime||0;g=i}}}if(!g){f=this.accounts_[0];e=f.variables[0];a=e.path;h=e.lastMeasurementTime}if(!(b in this.viewConfigs_)||!b)b=yp;if(h>0){g=new xm;g.setTime(h);if(c)this.currentTime_=g.clone();this.lastMeasurementTime_=g.clone()}else this.lastMeasurementTime_=j;this.toggleViewTab_(b);
this.account_=f;this.variable_=e;this.variablePath_=a;this.viewType_=b;this.viewConfig_=this.viewConfigs_[b];this.variableSelect_&&this.variableSelect_.setValue(a);this.prefs_.set(xt,a);this.prefs_.set(wt,b);this.updateProviderLogo_(f);this.providerMessages_=f.providerMessages||[];this.updateProviderMessage_();this.requestStats(e);this.setupAnalyticsSegmentation_(this.experiments_)};P.suppressEvent_=function(a){a[Za]();a[bb]()};var Et="?id=",Ft="pointer";
P.updateProviderLogo_=function(){this.providerLogoImage_.src=this.serverUrl_+this.LOGO_IMAGE_PATH+Et+this.account_.providerId;this.providerLogoImage_.title=this.account_.providerName||S;if(this.account_.providerLogoLinkUrl){this.providerLogoLink_.href=this.account_.providerLogoLinkUrl;this.eventHandler_.unlisten(this.providerLogoLink_,Qh,this.suppressEvent_);this.providerLogoLink_[F].cursor=Ft}else{this.providerLogoLink_.href=this.account_.providerLogoLinkUrl;this.eventHandler_.listen(this.providerLogoLink_,
Qh,this.suppressEvent_);this.providerLogoLink_[F].cursor=se}};P.setupControlDisplay_=function(a){if(a.useChartTopNav==i){em(this.miniControl_);fm(this.controlTable_)}else{fm(this.miniControl_);em(this.controlTable_)}};var Gt="http://www.google.com/support/forum/p/powermeter?hl=${LANG}",Ht="settings_link",It="help_link",Jt="discuss_link",Kt="http://www.google.com/powermeter/settings";
P.setupFooterLinks_=function(){var a=Ae(Gt,{LANG:this.prefs_.getLang()||qd}),b=Ae(ep,{LANG:this.prefs_.getLang()||qd}),c=this.dom_.$(Ht),e=this.dom_.$(It),f=this.dom_.$(Jt);this.dom_.setProperties(c,{href:Kt});va(c[F],xh);this.dom_.setProperties(e,{href:b});va(f[F],xh);this.dom_.setProperties(f,{href:a})};
P.setupAnalyticsSegmentation_=function(a){var b=vh;if(a.experimentId!=j)b=a.experimentId;else if(this.accounts_[t]>0&&this.accounts_[0].variables[t]>0){a=this.accounts_[0].variables[0].path[lb](/\/(user\/\d+|provider)\/(.+)\/variable/);if(a!=j)b=a[2]}this.pageTracker_._setVar(b)};var Lt="approve",Mt="Click here to grant approval to access your account.",Nt="Requesting user OAUTH approval...",Ot="Click here if you have granted approval";
P.setupOauthProcess_=function(a){this.dom_.removeChildren(this.statusDiv_);em(this.statusDiv_);fm(this.containerDiv_);a=this.dom_.createDom(Sd,{target:Lt,href:a},Mt);this.eventHandler_.listen(a,Qh,function(){this.dom_.removeChildren(this.statusDiv_);this.reporter_.log(Nt);var b=this.dom_.createDom(Sd,j,Ot);this.eventHandler_.listen(b,Qh,this.makePollerRequests);this.statusDiv_[za](b)});this.statusDiv_[za](a)};var Pt="this.viewType_",Qt="Unknown viewType";
P.requestStats=function(a){this.displayLoading_();this.powerPoller_.clearRequests();this.powerPoller_.clearListeners();this.reporter_.log(Pt,this.viewType_);switch(this.viewType_){case yp:this.requestDayStats_(a);break;case Cp:this.requestWeekStats_(a);break;case Dp:this.requestMonthStats_(a);break;default:this.reporter_.log(Qt,this.viewType_)}this.powerPoller_.addListener(Fc(this.handleStatsResponse_,this));this.powerPoller_.fetchRequests()};
P.getDayStart_=function(a){a=a.clone();a[Mb](0);a[Nb](0);a[mb](0);a.setMilliseconds(0);return a};P.addDays_=function(a,b){a=a.clone();a.add(new sm(Zd,b));return a};var Rt="stats_day_title_format",St="stats_day_header_format",Tt="total_usage_header_double",Ut="chart_prev",Vt="chart_curr",Wt="rating_your_usage_so_far_today",Xt="rating_your_usage_previous_day",Yt="act_int",Zt="exp_curr",$t="exp_int";
P.requestDayStats_=function(a){var b=this.experiments_.samplingFrequencyMinutes||10,c=b*60000;this.numIntervals_=1440/b;this.focusStart_=this.getDayStart_(this.currentTime_);this.focusEnd_=this.addDays_(this.focusStart_,1);this.prefocusStart_=this.addDays_(this.focusStart_,-1);b=this.currentTime_.clone();b[Mb](23);b[Nb](59);b[mb](59);var e=ne(Z(Rt));this.viewConfigs_.day_bar.statsStrings.previousPeriod=e.format(this.prefocusStart_);this.viewConfigs_.day_bar.statsStrings.currentPeriod=e.format(b);
var f=ne(Z(St));this.viewConfigs_.day_bar.statsStrings.totalTitle=Z(Tt,{START_DATE:f.format(this.prefocusStart_),END_DATE:f.format(b)});e=[a.path];this.powerPoller_.setConsumptionRequest(Lp,e,this.prefocusStart_,this.focusStart_,86400000,this.ENERGY_UNIT,k,i);this.powerPoller_.setConsumptionRequest(Rp,e,this.focusStart_,b,b[N]()-this.focusStart_[N](),this.ENERGY_UNIT,k,i);this.powerPoller_.setRateRequest(Ut,e,this.prefocusStart_,this.focusStart_,c,this.POWER_UNIT,k,i);this.powerPoller_.setRateRequest(Vt,
e,this.focusStart_,b,c,this.POWER_UNIT,k,i);this.focusStart_[N]()==this.browserTodayStart_[N]()?this.ratingScale_.setValueLabel(Z(Wt)):this.ratingScale_.setValueLabel(Z(Xt,{DATE:f.format(this.focusStart_)}));if(this.budgetMode_){c=b.clone();if(c[N]()>a.lastMeasurementTime)c=new xm(new Date(a.lastMeasurementTime));if(c[N]()>this.focusStart_[N]()){this.powerPoller_.setConsumptionRequest(Yt,e,this.focusStart_,this.focusEnd_,21600000,this.ENERGY_UNIT);this.powerPoller_.setConsumptionRequest(Zt,e,this.focusStart_,
c,c-this.focusStart_[N](),this.ENERGY_UNIT,i);this.powerPoller_.setConsumptionRequest($t,e,this.focusStart_,this.focusEnd_,21600000,this.ENERGY_UNIT,i)}}};var au="stats_week_title_format",bu="stats_week_title_msg",cu="rating_your_usage_so_far_this_week",du="rating_your_usage_previous_week",eu="{week_range}",fu="stats_week_header_format";
P.requestWeekStats_=function(a){var b=[a.path],c=(this.viewConfig_.weekStart+6)%7,e=this.getDayStart_(this.currentTime_);e.setFirstDayOfWeek(c);this.focusStart_=this.addDays_(e,-e.getWeekday());this.focusEnd_=this.addDays_(this.focusStart_,7);this.prefocusStart_=this.addDays_(this.focusStart_,-7);c=this.addDays_(this.focusEnd_,-1);var f=this.addDays_(this.focusStart_,-1);this.powerPoller_.setConsumptionRequest(Lp,b,this.prefocusStart_,this.focusStart_,604800000,this.ENERGY_UNIT,k,i);this.powerPoller_.setConsumptionRequest(Rp,
b,this.focusStart_,this.focusEnd_,604800000,this.ENERGY_UNIT,k,i);var g=ne(Z(au));e=Z(bu,{START_DATE:g.format(this.focusStart_),END_DATE:g.format(c)});this.viewConfigs_.week_bar.statsStrings.previousPeriod=Z(bu,{START_DATE:g.format(this.prefocusStart_),END_DATE:g.format(f)});this.viewConfigs_.week_bar.statsStrings.currentPeriod=e;this.focusStart_[N]()<=this.browserTodayStart_[N]()&&this.focusEnd_[N]()>this.browserTodayStart_[N]()?this.ratingScale_.setValueLabel(Z(cu)):this.ratingScale_.setValueLabel(Z(du,
{DATE_RANGE:e}));f=this.viewConfigs_.week_bar.budgetStrings;g=this.prefs_[C](this.budgetTargetSelected_?ps:qs);g=g[z](eu,e);f.budgetName=g;f.tooltipPeriod=e;e=ne(Z(fu));this.viewConfigs_.week_bar.statsStrings.totalTitle=Z(Tt,{START_DATE:e.format(this.prefocusStart_),END_DATE:e.format(c)});if(this.isLineChart_()){this.numIntervals_=1440/this.numMinsPerWeekInterval*7;c=60000*this.numMinsPerWeekInterval;this.powerPoller_.setRateRequest(Ut,b,this.prefocusStart_,this.focusStart_,c,this.POWER_UNIT);this.powerPoller_.setRateRequest(Vt,
b,this.focusStart_,this.focusEnd_,c,this.POWER_UNIT)}else{this.numIntervals_=7;this.powerPoller_.setConsumptionRequest(Ut,b,this.prefocusStart_,this.focusStart_,86400000,this.ENERGY_UNIT,k,i);this.powerPoller_.setConsumptionRequest(Vt,b,this.focusStart_,this.focusEnd_,86400000,this.ENERGY_UNIT,k,i)}if(this.budgetMode_){c=this.focusEnd_.clone();if(c[N]()>a.lastMeasurementTime)c=new xm(new Date(a.lastMeasurementTime));if(c[N]()>this.focusStart_[N]()){this.powerPoller_.setConsumptionRequest(Yt,b,this.focusStart_,
this.focusEnd_,86400000,this.ENERGY_UNIT);this.powerPoller_.setConsumptionRequest(Zt,b,this.focusStart_,c,c-this.focusStart_[N](),this.ENERGY_UNIT,i);this.powerPoller_.setConsumptionRequest($t,b,this.focusStart_,this.focusEnd_,86400000,this.ENERGY_UNIT,i)}}};var gu="total_usage_header_single",hu="rating_your_usage_so_far_this_month",iu="rating_your_usage_previous_month";
P.requestMonthStats_=function(a){a=[a.path];var b=this.getDayStart_(this.currentTime_);this.numIntervals_=b.getNumberOfDaysInMonth();this.focusStart_=new xm(b.getYear(),b[Ca](),1,0,0,0,0);this.focusEnd_=this.addDays_(this.focusStart_,this.numIntervals_);b=ne(Z(vs)).format(this.focusStart_);var c=Z(gu,{MONTH:b});this.viewConfigs_.month_bar.statsStrings.previousPeriod=b;this.viewConfigs_.month_bar.statsStrings.totalTitle=c;this.viewConfigs_.month_bar.xLabels=this.getMonthDaysLabels_(this.numIntervals_,
3);this.powerPoller_.setConsumptionRequest(Lp,a,this.focusStart_,this.focusEnd_,this.focusEnd_[N]()-this.focusStart_[N](),this.ENERGY_UNIT,k,i);this.powerPoller_.setConsumptionRequest(Ut,a,this.focusStart_,this.focusEnd_,86400000,this.ENERGY_UNIT,k,i);this.focusStart_[N]()<=this.browserTodayStart_[N]()&&this.focusEnd_[N]()>this.browserTodayStart_[N]()?this.ratingScale_.setValueLabel(Z(hu)):this.ratingScale_.setValueLabel(Z(iu,{MONTH:b}))};
P.getMonthDaysLabels_=function(a,b){for(var c=[],e=1;e<=a;e++){if(e>31)break;!(e%b)||e==1?c[s](e):c[s](S)}return c};P.getNullArray_=function(a){var b=[],c={};c.time=0;c.value=j;for(var e=0;e<a;e++)b[s](c);return b};P.isLineChart_=function(){return this.viewConfig_.chartType[Xa](0)==Mq};var ju="chartPrevRes.responseCode",ku="chartCurrRes.responseCode";
P.generateDualChart_=function(a){var b=a[A].chart_prev,c=a[A].chart_curr,e=this.isLineChart_();if(b.responseCode!=200||c.responseCode!=200){this.reporter_.log(ju,b.responseCode);this.reporter_.log(ku,c.responseCode);d(new Sl(a))}a=this.getNullArray_(this.numIntervals_);b=b.streams[0].points;var f=this.getNullArray_(this.numIntervals_-b[t]);e&&b[s](c.streams[0].points[0]);Pc(b,a,f);c=c.streams[0].points;f=this.getNullArray_(this.numIntervals_-c[t]);Pc(a,c,f);e&&a[s](this.getNullArray_(1)[0]);this.viewType_==
yp?this.chart_.setXLabels(this.viewConfig_.xLabels,k):this.chart_.setXLabels(this.viewConfig_.xLabels,i);this.chart_.setXSegments(this.viewConfig_.xSegments);this.chart_.setYAxisMsgName(this.viewConfig_.yAxisMsgName);e=this.viewConfig_.chartType;this.chart_.buildChart(e,[b,a],this.powerPoller_.getRequestUnit(Ut))};
P.generateSingleChart_=function(a){var b=a[A].chart_prev,c=this.isLineChart_();if(b.responseCode!=200){this.reporter_.log(ju,b.responseCode);d(new Sl(a))}a=b.streams[0].points;b=this.getNullArray_(this.numIntervals_-a[t]);Pc(a,b);c&&a[s](this.getNullArray_(1)[0]);this.viewType_==yp?this.chart_.setXLabels(this.viewConfig_.xLabels,k):this.chart_.setXLabels(this.viewConfig_.xLabels,i);this.chart_.setXSegments(this.viewConfig_.xSegments);this.chart_.setYAxisMsgName(this.viewConfig_.yAxisMsgName);c=this.viewConfig_.chartType;
this.chart_.buildChart(c,[a],this.powerPoller_.getRequestUnit(Ut))};var lu="flip_next_day",mu="flip_previous_day",nu="flip_next_week",ou="flip_previous_week",pu="flip_next_month",qu="flip_previous_month";
P.updateDisplay_=function(){this.dom_.setTextContent(this.headerTitle_,this.viewConfig_.statsStrings.totalTitle);var a=this.lastMeasurementTime_||this.browserTime_,b=this.prefocusStart_||this.focusStart_;if(a[N]()>=b[N]()&&a[N]()<=this.focusEnd_[N]()){fm(this.controlNextBox_);fm(this.nextLink_);fm(this.latestLink_)}else{em(this.controlNextBox_);em(this.nextLink_);em(this.latestLink_)}var c,e;switch(this.viewType_){case yp:c=Z(lu);e=Z(mu);break;case Cp:c=Z(nu);e=Z(ou);break;case Dp:c=Z(pu);e=Z(qu);
break}this.dom_.setTextContent(this.prevBtnLabel_,e);this.dom_.setTextContent(this.nextBtnLabel_,c)};
P.updateRating_=function(a){var b=a[A].total_curr;if(this.viewType_==Dp)b=a[A].total_prev;if(!b||!b.streams[0]||!b.streams[0].points||b.streams[0].points[t]==0)fm(this.ratingDiv_);else{var c=(b.streams[0].lastMeasurementTime-this.focusStart_[N]())/3600000;a=[];for(var e=0;e<fe[t];e++){var f=fe[e];a[s]({value:f[ab]*c,color:f.color})}f=[];for(e=0;e<ee[t];e++){var g=ee[e];f[s]({maximum:g.maximum*c,label:Z(g.msgName)})}b=b.streams[0].points[0];b=Ye(b,wp,0)+Ye(b,Sd,0);this.ratingScale_.setBenchmarks(f);
this.ratingScale_.setGradient(a);this.ratingScale_.setValue(b);this.ratingScale_.setUnit(om);this.ratingScale_.updateDisplay();em(this.ratingDiv_)}};var ru="stats_day_full_format",su="budget_target_previous_day",tu="budget_expected_previous_day",uu="{day}",vu="budget_target_previous_day_tooltip",wu="budget_expected_previous_day_tooltip";
P.updateBudget_=function(a){if(!this.budgetMode_||!a[A].total_curr||!a[A].total_prev||!a[A].act_int||!a[A].exp_curr||!a[A].exp_int||!a[A].exp_curr.streams[0].points||!a[A].exp_curr.streams[0].points[0]||!a[A].exp_curr.streams[0].points[0][ab])fm(this.budgetDiv_);else{var b=this.viewConfigs_.day_bar.budgetStrings;b.budgetName=this.commonBudgetStrings_.budgetName;b.budgetTooltip=this.commonBudgetStrings_.budgetTooltip;if(this.currentTime_[N]()<this.browserTodayStart_[N]()){var c=ne(Z(ru)).format(this.currentTime_);
b.budgetName=this.prefs_[C](this.budgetTargetSelected_?su:tu)[z](uu,c);b.budgetTooltip=this.prefs_[C](this.budgetTargetSelected_?vu:wu)[z]($r,-this.budgetTargetPercentage_)[z](uu,c)}var e=a[A].total_curr.streams[0];c=a[A].act_int.streams[0];var f=a[A].exp_curr.streams[0];a=a[A].exp_int.streams[0];if(a.allValid&&e.allValid){em(this.budgetDiv_);if(this.budgetTargetSelected_){b=(100+this.budgetTargetPercentage_)/100;this.budgetGauge_.setMessageMode(Xp);this.viewType_==yp&&this.currentTime_[N]()<this.browserTodayStart_[N]()&&
this.budgetGauge_.setMessageMode(hq)}else{b=1;this.budgetGauge_.setMessageMode(hq)}e=e.points[0];e=Ye(e,wp,0)+Ye(e,Sd,0);for(var g=[],h=0;h<c.points[t];h++)g[s](c.points[h][ab]);c=f.points[0][ab]*b;f=[];var p=0;for(h=0;h<a.points[t];h++){f[s](a.points[h][ab]*b);p+=f[h]}if(p==0)fm(this.budgetDiv_);else{this.budgetGauge_.setStrings(this.viewConfig_.budgetStrings);this.budgetGauge_.setUnit(om);this.budgetGauge_.setCurrentActualValue(e);this.budgetGauge_.setActualSubtotals(g);this.budgetGauge_.setCurrentBudgetValue(c);
this.budgetGauge_.setBudgetSubtotals(f);this.budgetGauge_.setIntervalLabels(this.viewConfig_.budgetStrings.intervalLabels);this.budgetGauge_.updateDisplay()}}else fm(this.budgetDiv_)}};var xu="Received stats response",yu="Exception in handleStatsResponse",zu="error_stats_request",Au="response.responseCode",Bu="response.errors",Cu="view_";
P.handleStatsResponse_=function(a,b){this.hideStatus_();this.reporter_.log(xu,a);if(a.responseCode==200){try{this.viewConfig_.xSegments==1?this.generateSingleChart_(a):this.generateDualChart_(a);this.updateImageHover_();this.updateRating_(a);this.updateBudget_(a);var c=this.viewConfig_.statsStrings;this.statsPane_.setStrings(c);this.statsPane_.populateStats(a,this.powerPoller_.getRequestUnit(Lp),this.viewType_);this.currLastPoint_=this.newLastPoint_;this.isChartInitialized=i;if(!this.isStatsInitialized){em(this.statsDiv_);
this.isStatsInitialized=i}this.updateDisplay_()}catch(e){this.reporter_.log(yu,e);this.reporter_.showError(zu)}b&&b()}else{this.reporter_.log(Au,a.responseCode);this.reporter_.log(Bu,a.errors);this.reporter_.showError(zu)}la(this.contentDiv_,Cu+this.viewType_);this.adjustSize();yk(this.adjustSize,250,this);yk(this.adjustSize,500,this);yk(this.adjustSize,1000,this);yk(this.adjustSize,2000,this);yk(this.adjustSize,4000,this)};
P.handleResize=function(){var a=Uf(o);a[x]!=this.lastKnownSize_[x]&&this.adjustSize();this.lastKnownSize_=a};var Du="report_container";P.adjustSize=function(){var a=this.chart_.adjustSize();this.ratingScale_.adjustSize();this.budgetGauge_.adjustSize();if(a>0)ma(this.controlTable_[F],a-this.chart_.LEFT_MARGIN-this.chart_.RIGHT_MARGIN);a=this.containerDiv_[Xb]||0;var b=Y(Du)[Xb]+60;if(a<b)a=b;if(a<30)a=30;l.window.adjustHeight(a)};P.exitDocument=function(){xs.superClass_.exitDocument[I](this);this.eventHandler_.removeAll()};Hn||(Hn=new Gn);o.location.href[D]("Debug=true")!=-1&&Hn.setCapturing(i);var Eu="nonce",Fu="UA-4426461-2";function Gu(){(new Gn).setCapturing(i);var a=new l.Prefs(As);l[Ga].getCurrentView().getName();var b=_gel(Gs);a.set(Eu,(new Date)[N]());ge=a;var c=_gat._getTracker(Fu);a=new xs(a,c);a.inDocument_||a.decorate(b)}_IG_RegisterOnloadHandler(Gu);var Hu={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:["J","F",ud,"A",ud,"J","J","A",vd,"O","N",wd],MONTHS:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTMONTHS:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKDAYS:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],SHORTWEEKDAYS:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],NARROWWEEKDAYS:[vd,ud,xd,"W",xd,
"F",vd],SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM",yd],DATEFORMATS:["EEEE, d MMMM yyyy","d MMMM yyyy","d MMM yyyy","dd/MM/yyyy"],TIMEFORMATS:["HH:mm:ss v","HH:mm:ss z","HH:mm:ss","HH:mm"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};Hu.STANDALONENARROWMONTHS=Hu.NARROWMONTHS;Hu.STANDALONEMONTHS=Hu.MONTHS;Hu.STANDALONESHORTMONTHS=Hu.SHORTMONTHS;Hu.STANDALONEWEEKDAYS=Hu.WEEKDAYS;Hu.STANDALONESHORTWEEKDAYS=Hu.SHORTWEEKDAYS;
Hu.STANDALONENARROWWEEKDAYS=Hu.NARROWWEEKDAYS;td(Hu,"en_GB");var Iu={DECIMAL_SEP:gc,GROUP_SEP:$,PERCENT:Yn,ZERO_DIGIT:jd,PLUS_SIGN:Dd,MINUS_SIGN:Ed,EXP_SYMBOL:Rd,PERMILL:"\u2030",INFINITY:"\u221e",NAN:"NaN",DECIMAL_PATTERN:"#,##0.###",SCIENTIFIC_PATTERN:"#E0",PERCENT_PATTERN:"#,##0%",CURRENCY_PATTERN:"\u00a4#,##0.00",DEF_CURRENCY_CODE:"GBP"};Iu.MONETARY_SEP=Iu.DECIMAL_SEP;Iu.MONETARY_GROUP_SEP=Iu.GROUP_SEP;sd.NumberFormatConstants||(sd.NumberFormatConstants={});sd.NumberFormatConstants.en_GB=Iu;pd||(pd="en_GB"); })();

    </script>
    ]]>
  </Content>
</Module>