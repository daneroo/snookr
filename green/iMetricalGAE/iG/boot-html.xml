<?xml version="1.0" encoding="UTF-8" ?> 
<Module>
<!-- removed height="240" width="320" -->
    <ModulePrefs title="iMetrical-boot-html"
     scrolling="true"
     description="Description"
     author="Daneroo" author_email="daniel.nojunk@gmail.com"/>
    <UserPref name="refreshRate" display_name="Refresh Rate" default_value="10"/>
    <Content type="html">
<![CDATA[ 
          <style type="text/css">
            body, div, h1 { font-family: 'trebuchet ms', verdana, arial; margin: 0; padding: 0 }
            div.b { width:3.5em; float:left; text-align:center; vertical-align:middle;}
            div.b {
                background: #090;
                padding: 10px;
                margin: 2px;
            }
            #status { clear:both; padding-left:1em; }
            #error { padding-left:1em; }
            /* colors */
            body { background:#060; }
            div.b {background: #090; }
            #status { color:#333; }
            #error { color:#f00; }

        </style>

        <script type="text/javascript" src="http://imetrical.appspot.com/iG/jquery.js"></script>
        <script type="text/javascript" src="http://imetrical.appspot.com/iG/jquery.corner.js"></script>
        <script type="text/javascript" src="http://imetrical.appspot.com/iG/jquery.timer.js"></script>
        <script type="text/javascript" src="http://imetrical.appspot.com/iG/jquery.ui.effects.js"></script>
        <!--<script type="text/javascript" src="http://imetrical.appspot.com/iG/imetrical.js"></script>-->
        <script type="text/javascript" src="http://snookr.googlecode.com/svn/trunk/green/iMetricalGAE/iG/imetrical.js"></script>
        <!--<script type="text/javascript" src="imetrical.js"></script>-->
        <script type="text/javascript">
            // getting ready to inject from settings..
            var getRefreshIntervalMS = function() {
                return 5*1000; // every 5 seconds
            };

            $(document).ready(function(){
                $("div.b").corner(/*"6px"*/);

                $.timer(getRefreshIntervalMS(), function (timer) {
                    //timer.reset(getRefreshIntervalMS()); // secs to milis
                    //fetchDOM(); //calls alert(latest)
                    //fetchFeeds(); //calls alert(latest)
                    fetchAndMapFeeds();
                });
            });
        </script>

   <div>
        <!-- this dom uses default mapping id=feedName/class={wattVal,kWhVal} -->
        <div id="Live"  class="b"><div class="feed">Live</div><div class="wattVal">00.00</div></div>
        <div id="Hour"  class="b"><div class="feed">Hour</div><div class="kWhVal">00.00</div></div>
        <div id="Day"   class="b"><div class="feed">Day</div><div class="kWhVal">00.00</div></div>
        <div id="Week"  class="b"><div class="feed">Week</div><div class="kWhVal">00.00</div></div>
        <div id="Month" class="b"><div class="feed">Month</div><div class="kWhVal">00.00</div></div>
        <div id="status"></div>
        <div id="error"></div>
   </div>
]]> 
    </Content>
</Module>
